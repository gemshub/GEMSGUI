# GEMIPM2K v. 0.725
# Prototype 12.07.2006
# Comments marked with # $ ; 

# Template for the ipm-dat text input file for the internal MULTI data  
# (should be read after the DATACH file and before DATABR files)

# ID key of the initial chemical system definition
"CalDolCol G  CalcColumn  1001 0       1       25      000 "

## (1) Controls of the numerical behavior of the GEM IPM algorithm 
# Minimum amount of independent component in bulk composition (except charge Zz), moles
'pa_DB'        1e-17

# Maximum allowed mass balance residual (moles) for major independent components
'pa_DHB'       1e-08

# Precision criterion of the simplex() procedure to obtain automatic initial approximation
'pa_EPS'       1e-07

# IPM convergence threshold for the Dikin criterion (1e-6 < DK < 1e-4)
'pa_DK'       0.0001

# Threshold for the application of the Karpov phase stability criterion f_alpha
'pa_DF'         0.01

# Maximum allowed number of iterations in the EnterFeasibleDomain() procedure
'pa_DP'          144

# Maximum allowed number of iterations in the MainIPM_Descent() procedure
'pa_IIM'         500

# Control on calling built-in Debye-Hueckel() and other models for aqueous activity coefficients
'pa_PD'            3

# Positive number: control of calling IPM_gamma() on iterations of GEM EFD and IPM (default 3)
# Negative number: the number of additional EFD-IPM loops to improve the GEM final solution
'pa_PRD'          -1

# Smoothing parameters controlling convergence in highly non-ideal systems 
'pa_AG'          0.7           
'pa_DGC'        0.07

# Flag for using initial activity coefficients for simplex() initial approximation (1-enable, 0-disable)
'pa_PSM'           1
# Activity coefficient values for simplex(): GAR for major and GAH for minor components 
'pa_GAR'           1
'pa_GAH'        1000

# Cutoff threshold for the amount of phase for phase elimination 
'pa_DS'        1e-09

# Cutoffs for elimination of: Xw water solvent; Sc - solid sorbent; Dc - solution or surface species; 
# Ph - non-electrolyte solution phases
'pa_XwMin'     1e-09
'pa_ScMin'     1e-07
'pa_DcMin'     1e-20
'pa_PhMin'     1e-10

# Minimal ionic strength below which the activity coefficients for aqueous species are set to 1
'pa_ICmin'     3e-05

# Threshold of Karpov stability criterion for insertion of a phase in Selekt2() procedure
'pa_DFM'       -0.1
# Insertion amounts used after the simplex() initial approximation and in Selekt2() algorithm
# DFYw - water solvent;
'pa_DFYw'      1e-06
# DFYaq - aqueous species;
'pa_DFYaq'     1e-06
# DFYid - ideal solution components;
'pa_DFYid'     1e-06
# DFYr - major solution components;
'pa_DFYr'      1e-06
# DFYh - minor solution components;
'pa_DFYh'      1e-06
# DFYc - single-component phase; 
'pa_DFYc'      1e-06
# Insertion amount of single-component phase (Selekt2() algorithm only)
'pa_DFYs'      1e-06

# Parameters for high-accuracy IPM-2 algorithm 
# Number of the IPM-2 enhancement loops for high-accuracy mass balance (from 0 to 14)
'pa_DW'            0
# Exponent for dual-thermodynamic restoring of low amounts of solutes (+2 to -5), relative to DHBM
'pa_DT'            0

# IPM2 balance accuracy control factor DHBM[i]/b[i]
'pa_GAS'       0.001

# 'pa_DG'        1e-30  now internal in LU decomposition procedure from JAMA-TNT

# Standard surface density (nm-2) for calculating activity of surface species
'pa_DNS'       12.05
# Control parameter of SACT calculation in sorption/surface complexation models
'pa_IEPS'      0.001

# Flag for using metastability/kinetic constraints on calculated DC amounts (see dll, dul arrays)
'pKin'             1
# Tolerance on amount of DC with two-side metastability constraints set in dll, dul (moles) 
'pa_DKIN'     0.0001

# 'pa_PLLG'          0 used only in GEMS-PSI shell

# Flag for using electroneutrality condition in GEM IPM calculations 
'pa_PE'            1
# 'E'                1

# Flag for the volume balance constraint (on Vol IC)
'PV'               0

# These dimensions can be calculated from the DATACH information
# 'Ls'              23
# 'LO'              18
# 'PG'               4

# Total number of DCs in liquid hydrocarbon phases
'PSOL'             0

# Do not know if this stuff is really necessary
# 'GWAT'         55.51
# 'EpsW'       78.2451
# 'RoW'       0.997061

# Flag for using (+) or ignoring (-) specific surface areas of phases 
'PAalp'            +

# Flag for using (+) or ignoring (-) specific surface free energies of phase interfaces 
'PSigm'            +

## (2) Important dimensionalities that affect memory allocation
# Total number of dependent components in sorption phases included in this system
'Lads'             0
# Number of sorption phases included in this system
'FIa'              0
# Allowed number of surface types on adsorption phase (default: 6 if FIa > 0)
'FIat'             0

## (3) Initial data for multicomponent phases (see DATACH file for dimension nPHs)
# Codes for mixing models of multicomponent phases
'sMod'
'DNNSNN' 'INNINN' 

# Dimensions for parameters of non-ideal mixing models for each multicomponent phase
# Number of parameters per phase
'LsMod'
0 0 
# Number of parameters per component of the phase 
'LsMdc'
0 0 

# Parameters of non-ideal mixing models for multicomponent phases 
'PMc'

# Parameters of non-ideal mixing models for components in the phase 
'DMc'

## (4) Some data arrays which are not provided in DATACH and DATABR files

# Full total bulk composition of the initial system (vector b) - see DATACH file for dimension nIC
'b'
1.000000011686097423e-07 1.000000011686097423e-07 1.999999955296516418e-02 1.106836964176732749e+02 9.999999776482582092e-03 5.534186850883613573e+01 0.000000000000000000e+00 

# Initial data for DCs - see DATACH file for dimensions nDC, nDCs
# Partial pressures (fugacities) of dependent components (for setting constant chemical potentials)
'Pparc'
1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 
1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 
1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 1.000000000000000000e+00 

# This is not necessary - can be calculated from G0 ???????????
'G'
-4.393835361736170171e+02 -4.582885562660194410e+02 -2.189751662725876713e+02 -2.852260368576601764e+02 -3.989631390559083570e+02 -4.183449699144808846e+02 -1.791179060573884385e+02 -2.484543308741260432e+02 -1.516992732572840907e+02 -2.089677894412574801e+02 
-2.327510423851026644e+02 -9.841634340056433672e+00 5.734279293339850092e-01 -4.894495319638213004e+01 1.116829111743357217e+01 1.065073774409621876e+01 -5.942510731490023090e+01 4.016533899999996216e+00 -9.567734617444621392e+01 -1.590954349801346552e+02 
-2.043549363365638172e+01 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 -4.555018646099919124e+02 -8.701791321650295004e+02 -3.618489005074520151e+02 -3.357146718304141473e+02 

# DC G0 increments for adjustments
'GEX'
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 

# DC Fixed (start) activity coefficients 
'lnGmf'
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 

# DC Unit formula charges - can be extracted from the stoich. matrix ???? 
'EZ'
0.000000000000000000e+00 1.000000000000000000e+00 2.000000000000000000e+00 1.000000000000000000e+00 0.000000000000000000e+00 1.000000000000000000e+00 2.000000000000000000e+00 1.000000000000000000e+00 0.000000000000000000e+00 -2.000000000000000000e+00 
-1.000000000000000000e+00 0.000000000000000000e+00 -1.000000000000000000e+00 -1.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 -1.000000000000000000e+00 1.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 

# (5) Section for metastability/ kinetic constraints
# Code of metastability/kinetic constraints for DCs 
'RLC'
'B' 'B' 'B' 'B' 'B' 'B' 'B' 'B' 'B' 'B' 
'B' 'B' 'B' 'B' 'B' 'B' 'B' 'B' 'B' 'B' 
'B' 'B' 'B' 'B' 'B' 'B' 'B' 'B' 

# Units of metastability/kinetic constraints for DCs (see vectors dul, dll)
'RSC'
'M' 'M' 'M' 'M' 'M' 'M' 'M' 'M' 'M' 'M' 
'M' 'M' 'M' 'M' 'M' 'M' 'M' 'M' 'M' 'M' 
'M' 'M' 'M' 'M' 'M' 'M' 'M' 'M' 

# Full vector of lower metastability constraints on DC amounts in the system
'dll'
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 

# Full vector of upper metastability constraints on DC amounts in the system
'dul'  
1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 
1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 
1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 1.0e+06 

# (6) Initial data for phases
# Specific surface free energy for phase-water interface
'Sigw'
0.0000000000e+00 0.0000000000e+00   0.4  ; specific energy for goethite
0.0000000000e+00 0.0000000000e+00 0.0000000000e+00 0.0000000000e+00 

# Specific surface free energy for phase-gas interface
'Sigg'
0.0000000000e+00 0.0000000000e+00 0.0000000000e+00 0.0000000000e+00 0.0000000000e+00 0.0000000000e+00 0.0000000000e+00 

# Surface energy or metastability parameters for phases
'YOF'
0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 0.000000000000000000e+00 

# End of file