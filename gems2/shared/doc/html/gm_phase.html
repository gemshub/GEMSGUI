<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <meta name="GENERATOR"
 content="Mozilla/4.72 [en] (Win98; I) [Netscape]">
  <title>GEMS Phase Module Manual</title>
  <meta name="description" content="Version 2.0.0-PSI">
</head>
<body>
<h1><img src="gems1.png" align="left" height="48" width="48"> <span
 style="color: rgb(0, 0, 102);"> GEM-Selektor version 2-PSI</span></h1>
<h2>Phase Definitions (Phase) Module Manual</h2>
<hr style="width: 100%; height: 2px;">
<h3>Contents </h3>
<blockquote>
  <p><a href="#PHASE_INTRO"><font face="Helvetica, Arial, sans-serif">
1.
Phase Definition data format</font></a></p>
  <p><a href="#PHASE_CREATE"><font face="Helvetica, Arial, sans-serif">
1.1.
Creating new Phase records</font></a></p>
  <p><a href="#PHASE_MATH_SCRIPTS"><font
 face="Helvetica, Arial, sans-serif">1.2. Math Scripts for definition
of
non-ideal solutions</font></a> <br>
  <font face="Helvetica, Arial, sans-serif"> </font></p>
  <p><a href="#PHASE_CALC"><font face="Helvetica, Arial, sans-serif">1.3.
Phase module calculations</font></a></p>
  <p><a href="#PHASE_SORPTION"><font face="Helvetica, Arial, sans-serif">1.4.
Definition of sorption phases</font></a><br>
  </p>
  <p><a href="#PHASE_EXAMPLES"><font face="Helvetica, Arial, sans-serif">
1.5. Examples and special cases</font></a></p>
  <p><a><font face="Helvetica, Arial, sans-serif"></font></a><font
 face="Helvetica, Arial, sans-serif"><a href="#PHASE_DATA_ENTRIES"> 2.
Data Entries on Phase Window Pages</a> </font></p>
  <p><font face="Helvetica, Arial, sans-serif"> </font></p>
  <p><a href="#PHASE_DOD_REMAKE"><font
 face="Helvetica, Arial, sans-serif">2.1. Data objects that can be
modified during remake/create only</font></a></p>
  <p><a href="#PHASE_DOD_RESERVED"><font
 face="Helvetica, Arial, sans-serif">2.2. Reserved and obsolete data
objects</font></a></p>
  <p><a href="#PHASE_DOD_HIDDEN"><font
 face="Helvetica, Arial, sans-serif">2.3. Hidden data objects for use
in
Phase math scripts</font></a><br>
  </p>
  <p><a href="#PHASE_ERRORS"><font face="Helvetica, Arial, sans-serif">3.
Warnings and error messages</font></a></p>
</blockquote>
<hr style="width: 100%; height: 2px;"><br>
<h2><a name="PHASE_INTRO"></a> 1. Phase Definition data format</h2>
<p><br>
In order to be taken into GEM-Selektor <a href="gm_project.html">modelling
projects</a> for <a href="gems_bcc.html">calculation of chemical
equilibria</a>, each (even a single-component) <a
 href="glossary.html#DT_phase_thermodynamic">thermodynamic phase</a>
must
be defined in a separate Phase record having a unique (within a
modelling
project) phase name that appears in the third field of <a
 href="gdb_rkey.html#dbm_Phase">Phase record key</a>. This is required
because
<a href="gm_dcomp.html">DComp</a> or <a href="gm_reacdc.html">ReacDC</a>
definitions of chemical species do not contain all parameters needed to
calculate
equilibria involving multi-component phases. In fact, such data as a
description
of the non-ideal behavior is valid for a particular model of a
multi-component phase only, and alternative representations of such
phases are possible
using the same <a href="glossary.html#DT_dependent_component">Dependent
Components</a>.
A flexible Phase data structure permits to describe a large variety of
crystalline and dispersed, liquid and gaseous, adsorption and
ion-exchange, ideal or
non-ideal phases which may exist in (geo)chemical systems of the
modellng
interest. Note that many solids or surface species present as records
in
DComp or ReacDC chains will not be taken into modelling projects as
long
as there are no Phase definitions that point to those dependent
components.&nbsp;
</p>
<p>Far the simplest one is a definition of single-component condensed
(solid
or liquid) phase, e.g. a mineral. The only obligatory data there
comprise
a link to the respective source DComp or ReacDC record, visible on Page
1
of the Phase window in <a href="#PhDCS"><tt>PhDCS</tt></a> and <a
 href="#pDC_v_"><tt>pDC_v_</tt></a> fields. Note that, if several DComp
(or
several ReacDC) records are available and their <a
 href="gdb_rkey.html#dbm_DComp">record keys</a> are identical but the
last
field, the program will automatically take only the alphanumerically
first
record into the phase, even though the actual key in the <tt>pDC_v_</tt>
field points to one with different last record key field. For
experienced
users, this "override mechanism" is a convenient tool to substitute
alternative
thermodynamic data into otherwise identical project- and phase
definitions.
Optionally, you can also enter the specific surface area (<a
 href="#DisPar_0"><tt>DisPar[0]</tt></a> field) and specific surface
free
energy in water ( <a href="#DisPar_1"><tt>DisPar[1]</tt></a> field);
in this
case, the program will automatically correct stability of a condensed
phase
according to the&nbsp;<a href="glossary.html#DT_Freundlich_Ostwald">Freundlich-Ostwald
equation</a>.<br>
</p>
<p>The next level of complexity in Phase definitions is comprised by an
ideal (Raoultian) <a href="glossary.html#DT_mixture">solution</a>. The
only difference from the single-component phases is that now the phase
is composed of two,
three or more end-members (species), so the&nbsp; <a href="#PhDCS"><tt>PhDCS</tt></a>
and <a href="#pDC_v_"><tt>pDC_v_</tt></a> fields will appear as
lists&nbsp;on the Page 1 of&nbsp; Phase window. In addition, the <a
 href="#PhDCC"><tt>PhDCC</tt></a>
column shows codes of the solution species (<tt>"M"</tt>, <tt>"J"</tt>
or
<tt>"I"</tt>), telling the program how to account for their mixing
properties.
Raoultian ideal mixing set by the <tt>'I'</tt> code in the <a
 href="#p_solt_0"><tt>p_solt[0]</tt></a> field is the simplest case,
when
activity of an end-member equals its mole fraction in the phase.
Various
more sophisticated ideal and non-ideal mixing models can be computed as
well.
<br>
<br>
In GEM-Selektor, two kinds of multi-component phases are considered:
"symmetric" and "asymmetric". In symmetric phases (gas mixture, liquid
non-electrolyte,
solid solutions), the concentrations, activities and activity
coefficients of all components are treated in the same "rational" mole
fraction scale.
Asymmetric phases (aqueous solution, sorption phases) differ in that
there
is always a "solvent" or "sorbent" made of end-member(s) taken in the
mole-fraction
scale, but other species ("solutes" or "adsorbates") are considered in
the "practical" (molality and/or surface concentration) scales, with
concentrations
being normalized to the quantity of the "solvent"/"sorbent" rather than
to the quantity of the whole phase. More about that, especially for
surface
species, you can find&nbsp; in the <a href="theorscm.html"><tt>theorscm.html</tt></a>,
<b><tt>SCM-corrections.pdf</tt></b> and <b><tt>Activity-coeffs.pdf</tt></b>
manuals.</p>
<p>Natural minerals are usually multi-component mixtures, although just
a
few of them behave as ideal solid solutions. In addition to two, three,
... pure end-members, real solutions usually require some parameters
describing the (essentially non-thermodynamic) non-ideal mixing
effects. There are
many possible mathematical representations of non-ideal mixing models
that
differ in the underlying mathematical formalism (Margules or Guggenheim
equations are most common), number of end-members, number of mixing
sites, and other assumptions. There are also several alternative
approaches to calcualtion of activity coefficients of aqueous
electrolyte species (e.g., Debye-Huckel, Davies, Pitzer,
Broensted-Guggenheim). It is therefore hardly possible
to provide the built-in subroutines for all aqueous or solid solution
models
which may be potentially be requested by the users, even though several
such
subroutines are built into the GEM-Selektor code (more in the <a
 href="theorgem.html"><tt>theorgem.html</tt></a> and <b><tt>Activity-coeffs.pdf
</tt></b>manuals). The built-in calculations can be used by setting
proper
codes in the <a href="gm_phase.html#p_solt_0"><tt>p_solt[0]</tt></a>
field
and the <tt>'S'</tt> code in <a href="gm_phase.html#p_solt_3"><tt>p_solt[3]</tt></a>
field.<br>
</p>
<p>For those reasons, GEM-Selektor allows the user to write almost any
non-ideality model as a <a href="gmscript.html">Math Script</a> text
stored in the Phase definition record. This text should contain
equations for calculation of
activity coefficients for all end-members of the solution phase. Before
calculation of the equilibrium state, the Math Script expressions will
be extracted
from Phase records and translated into the internal code. At each
iteration
of GEM IPM algorithm, this code (and built-in functions for e.g. Davies
or Debye-Hueckel equations) will be automatically executed by the
GammaCalc()
procedure to provide new values of activity coefficients from values of
mole fractions and other parameters of the non-ideal phases obtained at
the previous IPM iteration. <br>
</p>
<p>To simplify writing of math scripts in Phase definitions, a <a
 href="#PHASE_DOD_HIDDEN">special set of data object labels</a> is
available; the dimensions and pointers of them will be reset separately
for each phase at every IPM iteration. Such calculations are controlled
by <a href="#p_solt_0">special codes</a> that can be set up and
changed during create/remake of a Phase record.</p>
<p>Phase records for sorption phases, in principle, are organized
similarly to those for multicomponent solid solutions, but, by
necessity, more surface-related default information (total and maximum
site densities, capacitance parameters, difference between inner- and
outer-sphere surface complexes) must be provided in the case of a
sorption phase. Some of these parameters can be modified later on in
the System definition, e.g. for model fitting purposes. Details
on GEM SCM calculations are given in the <b><tt>SCM-corrections.pdf</tt></b>
document.<br>
</p>
<p><a href="#P333R3"><br>
</a></p>
<h3><a name="PHASE_CREATE"></a> 1.1. Creating new Phase records</h3>
<p>To construct a new phase definition record, close your <a
 href="gm_project.html">modelling project</a> and switch to
"Thermodynamic Database" mode of GEM-Selektor. There, open the
"Thermodynamic Phases&nbsp; (Phase)" module window and execute the
"Record" "Create" menu command. In the appearing "Phase:: Insert a new
record key" dialog, make a new <a href="gdb_rkey.html#dbm_Phase">Phase
record key</a> (at best selecting one of existing keys "From List" and
modifying it), and press "Ok". A small "Phase: Remake Dialog ..." will
appear. You can read the tooltips on all the configuration fields and
flags, or click on any of them and press
<tt>F1</tt> to read help pages (available <a href="#PHASE_DOD_REMAKE">below
in this manual</a>). &nbsp;Two fields require special attention if a
multi-component
phase is to be defined: the <a href="gm_phase.html#p_solt_0"><tt>p_solt[0]</tt></a>
field and the <a href="gm_phase.html#p_solt_3"><tt>p_solt[3]</tt></a>
field
because these codes determine calculations of mixing properties in this
phase. In the case of built-in models (<tt>'S'</tt> code in the <a
 href="gm_phase.html#p_solt_3"><tt>p_solt[3]</tt></a> field ), the
necessary
optional data fields for model parameters will be allocated
automatically;
otherwise, you have to select needed flags and dimensions here. After
the
configuration is set up, press "Ok" to proceed (note that for
single-component or ideal solution phases, there is no need to make any
changes in the default Phase record configuration).<br>
</p>
The program now will display a list of available ReacDC records, asking
you to mark the species you wish to include in your phase definition.
Using
the left mouse button, mark one or more keys, or click "Clear All" if
you are not going to use ReacDC links in defining a new Phase. Press
"Ok"
to proceed. Next, the program will ask you to mark the species to be
included into the phase from the list of DComp records. Mark one or
more necessary keys and press "Ok" (if nothing is selected from both
ReacDC and DComp
record chains, you will see a warning dialog and will be able to repeat
the whole selection procedure).&nbsp;
<p>Now, Page 1 of the "Phase" window appears on the desktop. Enter the
full phase name into the <a href="#PhName"><span
 style="font-family: monospace;">PhName</span></a> field and
(optionally)
a comment into the <a href="#PhNote"><span
 style="font-family: monospace;">PhNote</span></a>&nbsp; line.
Depending
on the configuration, you may need to enter some numbers (e.g. specific
surface
area in <a href="#DisPar_0"><span style="font-family: monospace;">DisPar[0]</span></a>
), math scripts,&nbsp;or optional parameters on Page 2 and Page 3. When
finished,
save the Phase record to database. <a href="#P333R3"><br>
</a></p>
<p>&nbsp;</p>
<h3><a name="PHASE_MATH_SCRIPTS"></a>1.2. Math Scripts for definition
of
non-ideal solutions<br>
</h3>
<p>If, upon create/remake of the multicomponent Phase record, you have
specified some codes of non-ideal mixing in the <a href="#p_solt_0"><span
 style="font-family: monospace;">p_solt</span></a> flags that will not
use
built-in calculation of activity coefficients,&nbsp; you will usually
find
a <a href="#DcEq"><span style="font-family: monospace;">DcEq</span></a>
text
editor field on Page 2 and sometimes, a <a href="#PhEq"><span
 style="font-family: monospace;">PhEq</span></a> text editor field on
Page
3 of the Phase window.<br>
</p>
<p></p>
<p>Definition of non-ideal mixtures requires some work - first,
allocation of optional arrays for coefficients of the non-ideal
solution model, and second - entering and debugging <a
 href="gmscript.html">Math Scritps</a>
with equations for calculation of the activity coefficients of species
included into the phase. To facilitate writing of scripts, some
frequently used ones can be found in the template script library (press
<span style="font-family: monospace;">F3</span> or execute "Help"
"Scripts" menu command to get there). Note that Phase scripts cannot be
debugged when the Phase record is "calculated". The scripts will be
translated and executed
only during the <a href="gems_sys.html">calculation of equilibrium
state</a>
(with some error messages if something goes wrong). </p>
<p>The (non-ideal) aqueous solution phase must always be present in any
aquatic system. In GEM-Selektor, many Phase records defining aqueous
solutions
may be created and stored in the database, but only one such definition
can be included into the <a href="gm_project.html">modelling project</a>;
by default, the program creates Phase definitions for aqueous
electrolyte
(<tt>"aq_gen"</tt>) and gas mixture (<tt>"gas_gen"</tt>) automatically
when
you create a new modelling project, giving you a choice between the
built-in
<a href="glossary.html#DT_Davies">Davies</a> equation or several forms
of&nbsp;
<a href="glossary.html#DT_Debye_Hueckel">Debye-Hueckel</a> equations,
valid up to about unimolal <a href="glossary.html#DT_ionic_strength">ionic
strength</a>.
If specified, Kielland's ion-size parameters in will be collected
automatically
from <a href="gm_dcomp.html">DComp</a> or <a href="gm_reacdc.html">ReacDC</a>
records. The default gas mixture is considered as an ideal mixture of
ideal
gases. <br>
</p>
<p>Definitions of default aqueous and gaseous phases are automatically
assembled every time when the users opens a modelling project from all
available DComp and ReacDC records of suitable phase state (<tt>"a"</tt>
and <tt>"g"</tt>
or <tt>"p"</tt>, respectively) according to the "override mechanism"
of GEMS database. Namely, if there are two or more <a
 href="gm_dcomp.html">DComp</a>
records for the same species to be included into the phase and their<a
 href="gdb_rkey.html#dbm_DComp"> record keys</a> differ only in the
last
field then only an alphanumerically the first one will actually be
taken
into play and all other records for the same species will be ignored.
The
same rule holds for <a href="gm_reacdc.html">ReacDC</a> records, but
not
for the case when one record belongs to DComp chain and another to
ReacDC
database chain - in this case, both species will be taken into the
phase
definition. This "override mechanism" applies also for any user-created
Phase
records, i.e. if a Phase record refers to a DComp (or ReacDC) and this
record
key is not found but another key with the identical first three fields
is
available, then that available fecord will be taken into the modelling
project
<i>without any warnings</i>. Again, no crossover automatic replacements
can
be done <i>between</i> DComp and ReacDC database chains.&nbsp;<br>
</p>
<p>When the user closes a modelling project, both default Phase records
for aqueous electrolyte (<tt>"aq_gen"</tt>) and gas mixture (<tt>"gas_gen"</tt>)
will be automatically deleted and created again when the project will
be opened next time. If you are not satisfied with these default
automatic definitions, you can create a specific definition of aqueous
phase (e.g. with SIT or
Pitzer equations and coefficients, and math scripts to calculate the
activity
coefficients) and then force the program to create projects by taking
this
definition instead of&nbsp; the generic default one. Make sure that in
the
<a href="#PhDCC">Species Class</a> list, the water-solvent is assigned <tt>"W"</tt>,
hydrogen ion <tt>"T"</tt> and all other species <tt>"S"</tt> codes.
In a
similar way, the default ideal gas mixture phase can be replaced with a
built-in
fluid model of Churakov and Gottschalk (2003) or with another
user-defined
Phase containing equations of state and for calculation of fugacity
coefficients
to describe the (non-)ideal mixing of real gases.&nbsp;<br>
</p>
<p>&lt;Examples - to be added later&gt;<br>
</p>
<p><br>
</p>
<h3><a name="PHASE_CALC"></a>1.3. Phase module calculations</h3>
<p>If you execute the "Record" "Calculate" menu command or toolbar icon
on the "Phase" window then the currently loaded Phase record will be
"recalculated". Doing this kind of diagnostics is useful in order to
check if the DComp/ReacDC records referenced in the <a href="#PhDCS"><tt>PhDCS</tt></a>
and <a href="#pDC_v_"><tt>pDC_v_</tt></a> &nbsp;lists are indeed
present in the project database (especially after you &nbsp;have added,
renamed or deleted some records). In addition, some data like
Kielland's effective ionic radii will be collected &nbsp;from the
DComp/ReacDC records for the respectively defined phases. Note that the
"default override" mechanism (see above) applies also in Phase
recalculations. If you get any error messages during re-calculation
then remake the Phase definition and fix the problem before opening the
modelling project, otherwise the latter will not be opened properly or
the program
may crash. <font face="Helvetica, Arial, sans-serif"><br>
</font></p>
<p><font face="Helvetica, Arial, sans-serif"><br>
</font></p>
<h3><a name="PHASE_SORPTION"></a>1.4. Definition of sorption phases<br>
</h3>
<p>Phase definition for a sorption phase, in principle, is organized
similar to aqueous electrolyte or solid solution, with a difference
that some more information about surface species and surface types has
to be provided (see
details in the<a href="gems_scm.html"><tt> gems_scm.html </tt></a>and <a
 href="theorscm.html"><tt>theorscm.html</tt></a>&nbsp; manuals). Upon
create/remake
of a sorption phase, first of all, the number of surface types must be
set
in the "Phase: Remake Dialog ..." window (1 to 6, zero by default).
Several
optional arrays for keeping input adsorption parameters (area fractions
of surface types, maximum site density, capacitance parameters, SAT
model codes) must also be allocated.After selecting the suface species
from the ReacDC list and the sorbent end-member(s) from DComp or ReacDC
lists, make sure that proper codes are given&nbsp; in the <a
 href="g_useref.html#DCCLASSCODES">"Species Class"</a> list for inner-
and outer-sphere surface complexes and sorbent end-members. Check also
that
the <a href="g_useref.html#SCM_CODES">EDL model codes</a> are properly
specified and the non-zero number for specific surface area is provided
(it can be changed later on in <a href="gems_scm.html">project System
definition</a>, if necessary).&nbsp; Theoretical aspects of GEM
sorption modeling are given in publications (Kulik, 2000, 2002a,b) or,
in a condensed form, in the <b><tt>SCM-corrections.pdf</tt></b>&nbsp;
manual.&nbsp;</p>
<p> <br>
</p>
<h3><a name="PHASE_EXAMPLES"></a> 1.5. Examples and special cases</h3>
<p>&lt;to be added later&gt;<br>
</p>
<p> <br>
&nbsp; </p>
<h2> </h2>
<hr style="width: 100%; height: 2px;">
<h2><a name="PHASE_DATA_ENTRIES"></a><font
 face="Helvetica, Arial, sans-serif"> </font>2. Data Entries on Phase
Window Pages&nbsp; </h2>
<dl>
  <dt><br>
  </dt>
  <dt><a name="PhName"></a><big><b><big><tt>PhName</tt></big></b></big>
-
Input full name of this phase definition </dt>
  <dd>&nbsp;&nbsp; <br>
  </dd>
  <dd> This comment field may contain a string up to 70 characters
long. You
may enter this string to identify the Phase definition on the Phase
window pages or in printouts. Not used in any calculations.<br>
&nbsp; <br>
&nbsp; </dd>
  <dt> <a name="PhNote"></a><big><big><b><tt>PhNote</tt></b></big></big>
-
Input comment to <b><tt>PhName </tt></b>(optional) </dt>
</dl>
<dl>
  <dd>This string up to 70 characters long may be entered by the user
for identification purposes.</dd>
  <dd><br>
  </dd>
  <dd><br>
  </dd>
</dl>
<dl>
  <dt> <a name="DisPar_0"></a><big><big><b><tt>DisPar[0]</tt></b></big></big>
- <i>A</i> &nbsp;(input specific surface area, m2/g) </dt>
  <dd>&nbsp; <br>
The positive value of specific surface area <i>A</i> (in m2/g) must be
entered
by the user for dispersed or sortion phases (in the latter case, A
applies
to the sorbent part only). This value is automatically copied into the <a
 href="gems_bcc.html">project system definition</a> and can be edited
there
if necessary. Default value is 0.&nbsp;</dd>
  <dd>&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="DisPar_1"></a><big><big><b><tt>DisPar[1]</tt></b></big></big>
- <i>Sig</i> &nbsp;(input specific surface free energy of
solid-aqueous interface,
J/m2) <br>
  </dt>
  <dd>&nbsp; <br>
The specific free energy of surface in water (in J/m2) at Pr = 1 bar,
Tr
= 25 C can be entered by the user for dispersed or sortion phases. If
unknown,
0 (default value) can be entered.&nbsp; This value is automatically
copied into <a href="gems_bcc.html">project system definition</a> and
can be edited there, if necessary. Together with <i>A</i>,<i>Sig</i>
is used there for correction of stability of solid in water according
to the <a href="glossary.html#DT_Freundlich_Ostwald">Freundlich-Ostwald
equation</a>.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Positive values of <i>Sig</i> &nbsp;correspond to positive
curvature (particulate solid, less stable than the bulk solid) and
negative values
of &nbsp;<i>Sig</i> denote porous solid phase (more stable than the
bulk
solid).<br>
&nbsp; <br>
&nbsp;&nbsp; </dd>
  <dt> <a name="DisPar_2"></a><big><big><b><tt>DisPar[2]</tt></b></big></big>
- Standard mean surface energy of gas-aqueous interface, J/m2 </dt>
  <dd> &nbsp; &nbsp;&nbsp;</dd>
  <dd>&nbsp; Reserved for future extension to model sorption of gases
on
aqueous phase surface.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>&nbsp; <br>
  </dd>
  <dt> <a name="DisPar_3"></a><b><tt>DisPar[3]</tt></b> - Mean radius
r0 for
(spherical or cylindrical) particles, nm (reserved) </dt>
  <dd> &nbsp; &nbsp;</dd>
  <dd>&nbsp;Reserved for future extensions.</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>&nbsp; <br>
  </dd>
  <dt> <a name="DisPar_4"></a><b><tt>DisPar[4]</tt></b> - Mean
thickness h0
for cylindrical or 0 for spherical particles, nm (reserved) </dt>
  <dd> &nbsp; &nbsp;</dd>
  <dd>&nbsp; Reserved for future extensions</dd>
  <dd>&nbsp; .</dd>
  <dd>&nbsp; <br>
  </dd>
  <dt> <a name="DisPar_5"></a><b><tt>DisPar[5]</tt></b> - Dielectric
constant for solid carrier at Tr (reserved)</dt>
  <dd>&nbsp; &nbsp;</dd>
  <dd>&nbsp; Reserved for future extensions.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd> &nbsp; &nbsp;&nbsp; </dd>
  <dt> <a name="DisPar_6"></a><b><tt>DisPar[6]</tt></b> - Specific
conductivity at Tr, Sm/m/cm2 (reserved) </dt>
  <dd><br>
  </dd>
  <dd>Reserved for future extensions.</dd>
  <dd>&nbsp; &nbsp; &nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dt> <a name="DisPar_7"></a><big><b><tt>DisPar[7]</tt></b></big> -
Default maximum density for surface species, 1/nm2 </dt>
  <dd> &nbsp;<br>
Default maximum surface density (in sites/nm2) can be entered by the
user
for (ad)sortion phases (ignored for all non-sorption phases). This
value
is automatically copied into the project system definition and can be
edited there, if necessary. If unknown, enter the default (reference)
site density 12.05 sites/nm2.<br>
&nbsp; <br>
  </dd>
  <dd>&nbsp;&nbsp;</dd>
  <dt> <a name="pSDref"></a><big><big><b><tt>pSDref</tt></b></big></big>
&nbsp;-
List of SDef keys to data sources or comments to this Phase definition.</dt>
  <dd>&nbsp;&nbsp;</dd>
  <dd> The following format is recommended: [name]:[year]:[type]:
&nbsp;Example: <tt>"Smith&amp;Martell:1976:ref:"</tt></dd>
  <dd>&nbsp; <br>
  </dd>
  <dd> Click on any entry in this list and then press&nbsp; <tt>F2</tt>&nbsp;
to get the <a href="gm_sdref.html">SDref</a> window with full
information from the respective bibliographic data record. If the
record does not exist then you can immediately create it, enter the
information and save
to database.&nbsp;</dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dt> <a name="pSDval"></a><big><big><b><tt>pSDval</tt></b></big></big>
-
Comments to SDref keys to data sources</dt>
  <dd>&nbsp;&nbsp;</dd>
  <dd>Contains the same number of entries as the <tt><a href="#pSDref">pSDref</a>
    </tt>list.</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd> Into each entry of the <tt>pSDval</tt> list, you may put very
short comments indicating which data were taken from the data source
referenced in the respective <tt>pSDref</tt> list entry.</dd>
  <dd><br>
  </dd>
  <dd>&nbsp; </dd>
  <dt> <a name="PhDCC"></a><big><big><b><tt>PhDCC</tt></b></big></big>
- DC
classes of species included into this phase &nbsp;{ S T W O I M J 0 1 2
3
4 ... } <br>
  </dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>This list is automatically compiled from <a
 href="g_useref.html#DCCLASSCODES">DC Class codes</a> specified in
source <a href="gm_dcomp.html">DComp</a> (<a
 href="gm_dcomp.html#DC_set_0"><tt>DC_set[0]</tt></a>
&nbsp;field) or <a href="gm_reacdc.html">ReacDC</a> (<a
 href="gm_reacdc.html#RE_set_0"><tt>RE_set[0]</tt></a> &nbsp;
&nbsp;field) records. The codes may be changed here in <tt>PhDCC</tt>
column, from where they will be taken into the modelling project system
definition (can be
also edited there but only for the duration of the project session).</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd><b>Attention!</b> Special care is needed when an existing Phase
record is remade, because DC class codes in this field will&nbsp; not
be replaced automatically, so the user has to check the codes and edit
them if necessary before saving the Phase record to database. <br>
&nbsp;&nbsp;</dd>
  <dd>&nbsp; &nbsp; &nbsp; </dd>
  <dt> <a name="PhDCS"></a><big><big><b><tt>PhDCS</tt></b></big></big>
- Location
of source records for Dependent Components (species) { r d } <br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This one-character code defines where the program will look for
the source input data for the involved species, identified by
corresponding record keys in the <a href="#pDC_v_"><tt>pDC_v_</tt></a>
list. Possible codes:&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>&nbsp; &nbsp; &nbsp; <big><b><tt>d</tt></b></big> &nbsp; &nbsp;
DComp source record <br>
&nbsp; &nbsp; &nbsp; <big><b><tt>r</tt></b></big> &nbsp; &nbsp;
&nbsp;ReacDC source record<br>
  </dd>
  <dd><br>
  </dd>
  <dd> The codes will be set automatically upon create/remake of the
Phase record. <br>
&nbsp; &nbsp;</dd>
  <dd> &nbsp; &nbsp; </dd>
  <dt> <a name="pDC_v_"></a><big><big><b><tt>pDC_v_</tt></b></big></big>
&nbsp;-
List of source DComp or ReacDC record keys for &nbsp;species included
into
this phase <br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This list contains records keys of the species involved into this
phase. The keys are interpreted according to codes in the <a
 href="#PhDCS"><tt>PhDCS</tt></a>
column. This list is created or updated automatically during
remake/create of the Phase record, when the user selects species from
ReacDC and/or DCcomp record key lists.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd><b>Note</b> that the fourth field of DC record keys is not
analyzed when records are sampled from database into the modelling
project ("override mechanism"). This means that the (alphanumerically)
first record with matching first three fields will be taken and others
(if available in the same database chain) will be ignored. However,
this is done separately within DComp or
ReacDC chains, i.e. no cross-overriding between DComp and ReacDC
records
is possible even if they have identical first three fields of their <a
 href="gdb_rkey.html#dbm_DComp">record keys</a>.&nbsp; <br>
&nbsp; &nbsp;</dd>
  <dd> &nbsp; &nbsp; </dd>
  <dt> <a name="SAT_C_0"></a><big><big><b><tt>SAT_C[0]</tt></b></big></big>
- Classifier of methods of SAT calculation { C N S I }; new methods { L
Q 1 2 3 4 B W F R P }<br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> This input column contains <a href="g_useref.html#SAT_CODES">SAT
codes for surface species</a>, used in calculation of&nbsp; the <a
 href="glossary.html#DT_SAT">surface activity terms</a> (SAT). The
values must be entered by the user here because they cannot be
collected from DComp or ReacDC records. For the sorbent (end members),
the <tt>"I"</tt> code
must be used.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>&nbsp;The SAT codes will be automatically copied into the
modelling project. Some of new method codes require other parameters to
be set appropriately <span style="font-style: italic;">&lt;still under
testing&gt;</span><br>
&nbsp;&nbsp;&nbsp;</dd>
  <dd>&nbsp;&nbsp;</dd>
  <dt> <a name="SAT_C_1"></a><big><big><b><tt>SAT_C[1]</tt></b></big></big>
-&nbsp; Allocation of surface species to sorbent (end-members) { V } <br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> This input column contains the <a
 href="g_useref.html#SURFDC_ALLOC_CODES">allocation codes</a> assigning
a surface species to the whole solid carrier (<tt>"V"</tt> code;
default)
or one of its end-members (<tt>&lt;digit&gt;</tt>). The codes must be
entered here by the user. Allocation codes will be automatically copied
into the
modelling<a href="gems_scm.html"> project system </a>and can be edited
there,
if necessary. <br>
&nbsp; <br>
&nbsp;&nbsp; </dd>
  <dt> <a name="MaSDj"></a><big><big><b><tt>MaSDj</tt></b></big></big>
- Maximal
surface density (for non-competitive surface species), 1/nm2&nbsp;</dt>
  <dd>&nbsp; <br>
This input column contains maximal surface densities for the
non-competitive surface species (marked as <tt>"N"</tt> or <tt>"S"</tt>
in the <a href="#SAT_C_0"><tt>SAT_C[0]</tt></a> column), expressed in
1/nm2 units. If unknown, put here the standard-state reference density
12.05 1/nm2.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>For competitive surface complexes (marked as <tt>"C"</tt> in the
    <a href="#SAT_C_0"><tt>SAT_C[0]</tt></a> column), this vector must
contain 1 (or -1 for outer-sphere anions). &nbsp;&nbsp;</dd>
  <dd><br>
  </dd>
  <dd><b>Attention!</b> For the outer-sphere <a
 href="glossary.html#DT_surface_complex">surface complexes</a> (marked
with odd digits in the PhDCC column), the value must be positive for
outer-sphere cationic species (like &gt;O-Na+) and negative for
outer-sphere anionic
species (like &gt;OH2+Cl-) - in this way, the effective charges on the
zero-
&nbsp;and beta EDL planes are defined since the stoichiometric charge
is
different for such species.&nbsp;</dd>
  <dd>&nbsp;</dd>
  <dd>Maximum surface densities will be automatically copied into the
modelling <a href="gems_scm.html">project system</a> and can be edited
there, if necessary. <br>
  </dd>
  <dd>&nbsp;&nbsp; &nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
</dl>
<dl>
  <dt> <a name="DcEq"></a><b><big><big><tt>DcEq</tt></big></big></b> -
Math script related to phase species (optional, for user-defined
non-ideal mixing models) <br>
  </dt>
  <dd>&nbsp;&nbsp;<br>
  </dd>
  <dd>Use this multiline editor field to create an
equilibrium-state-dependent <a href="gmscript.html">math script</a>
for calculation of species' <a
 href="glossary.html#DT_activity_coefficient">activity coefficients</a>
in
the non-ideal multi-component phase. In this script, it is recommended
to use special <a href="#PHASE_DOD_HIDDEN">hidden data objects</a>
that exist in the runtime IPM data structure and automatically map
species and parameters of this phase only.&nbsp;</dd>
  <dd>When labels of these hidden data objects are used in the script,
there is no need to care about location of this phase and its species
in the whole chemical system definition, which is hard to know in
advance, before the
project system is assembled. However, other numerical data objects from
the
runtime IPM data structure can be used as well (with some precautions
because
this would make the Phase definition dependent on the project
definition).&nbsp; </dd>
  <dd><br>
  </dd>
  <dd>To facilitate writing of this math script, we provide a template
script library, accessible by pressing <span
 style="font-family: monospace;">F3</span>
or executing the "Help" "Scripts" menu command. One of the library
scripts ("<tt>mscript-2-Margules:0001:phase</tt>") looks like this:</dd>
</dl>
<blockquote>
  <dl>
    <dd><tt>$ Calculation of the activity coefficients (Margules
subregular)<br>
&nbsp; ln_gam[0] =: (Qd[0]+2*Wx[0]*(Qd[1]-Qd[0]))*Wx[1]^2; \@<br>
&nbsp; ln_gam[1] =: (Qd[1]+2*Wx[1]*(Qd[0]-Qd[1]))*Wx[0]^2; \@<br>
$ end<br>
      </tt></dd>
  </dl>
</blockquote>
<dl>
  <dd>This script, as any other script in the&nbsp; <tt>DcEq</tt>
&nbsp;field,
will be calculated at every iteration of the GEM IPM algorithm. Two end
members are indexed with 0 and 1, in the same order as they appear in
the <a href="#pDC_v_"><tt>pDC_v_</tt></a> list on Page 1 of the
"Phase" window. <tt><a href="#Wx">Wx</a>[0]</tt> and <tt>Wx[1]</tt>
designate the current end-member mole fractions; the<tt> \@</tt>
symbols mark the end of equations for a given end member (several
operators per end member can be written
in one group of equations). The Margules interaction parameters are
taken
from an optional vector <a href="#Qd"><tt>Qd</tt></a> (where, in turn,
they
are placed after execution of another script in the <a href="#PhEq"><tt>PhEq</tt></a>
field, see below).&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Math script expressions in this field will be preprocessed and
translated in the modelling project immediately before the beginning of
GEM IPM calculation of an equilibrium state. After the feasible initial
approximation (FIA) is computed, the GammaCalc() function, executed at
each iteration of IPM minimization algorithm, will recalculate the
built-in subroutines and/or expressions in DcEq math scripts for all
multicomponent phases (where provided) according to the mode flag in
the <a href="#p_solt_1"><tt>p_solt[1]</tt></a>
field. There are two different relations between equations in the DcEq
script and the components of the non-ideal solution phase, defined by
the <a href="g_useref.html#P_SOLT4">linking code</a> in the <a
 href="#p_solt_4"><tt>p_solt[4]</tt></a> field. The above example
corresponds to the "private" linking, where each species has its own
group of equations in the math script (separated by the<tt> \@</tt>
symbols).&nbsp; There are also non-ideality models in which the same
group of math script equations must be executed for each phase species
(e.g. as in the Debye-Hueckel aqueous activity model).&nbsp; <br>
  </dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>In some cases (SIT aqueous models, multicomponent solid
solutions), the DcEq math script can be greatly simplified using the
optional <a href="#dc_cf"><tt>dc_cf</tt></a> array that can be
allocated upon create/remake of the Phase record. &nbsp;</dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd> &nbsp;</dd>
  <dt> <a name="dc_cf"></a><big><b><tt><big>dc_cf</big> </tt></b></big>-
Array
of species-related coefficients for the non-ideality model <br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This array of component-related coefficients of the non-ideality
model can be created upon create/remake of the Phase record. The <tt>dc_cf</tt>
array has the same number of rows as the number of species in the phase
and
the user-defined number of columns. &nbsp;This array is automatically
created,
filled-out and used in some built-in modes for calculation of activity
coefficients&nbsp;</dd>
  <dd>(the <tt>'3', '2', 'F'</tt> codes were set in the <a
 href="#p_solt_0"><tt>p_solt[0,0]</tt></a> cell). &nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>Coefficients stored in this (single precision) array can be used
in <a href="gmscript.html">math script</a> equations for calculation
of
activity coefficients typed in the <a href="#DcEq"><tt>DcEq</tt></a>
field,
where they are accessible at the GEM IPM runtime using the <a
 href="#dCm"><tt>dCm</tt></a> hidden data object.&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>Except for built-in mixing models, the user is fully responsible
for
setting up correct information in the dc_cf array (either entering it
or
calculating using the <a href="#PhEq"><tt>PhEq</tt></a> math script)
and
correct usage of this data in calculation of activity coefficients.</dd>
  <dd>&nbsp; <br>
  </dd>
</dl>
<dl>
  <dd>&nbsp; &nbsp;&nbsp; </dd>
  <dt> <a name="PhEq"></a><big><big><b><tt>PhEq</tt></b></big></big>
-&nbsp;Math
script related to the whole phase (optional, for user-defined non-ideal
mixing models) <br>
  </dt>
  <dd>&nbsp; &nbsp; <br>
  </dd>
  <dd>This multiline editor field can be used to create an auxiliary <a
 href="gmscript.html">math script</a> for preparing some temperature-,
pressure- or composition-dependent coefficients to be used in
calculation of species' <a href="glossary.html#DT_activity_coefficient">activity
coefficients</a> in the non-ideal multi-component phase as defined in
the <a href="#DcEq"><tt>DcEq</tt></a> math script.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>We recommend usage of special <a href="#PHASE_DOD_HIDDEN">hidden
data objects</a> that exist in the runtime IPM data structure and
automatically map species and parameters of this phase only (see more
in the description of the <a href="#DcEq"><tt>DcEq</tt></a> field).</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Examples can be found in the template script library, accessible
by pressing <span style="font-family: monospace;">F3</span> or
executing the "Help" "Scripts" menu command. The library script ("<tt>mscript-2-Margules:0001:phase</tt>")
contains the following script to be placed into the <tt>PhEq</tt>
field:&nbsp;</dd>
</dl>
<blockquote>
  <dl>
    <dd><tt>&nbsp;$ Margules parameters W/(RT):<br>
&nbsp; Qd[0] =: ( 6327 + 0.093*P_ - 4.632*T_K )/RT_;&nbsp; <br>
&nbsp; Qd[1] =: ( 7672 + 0.112*P_ - 3.857*T_K )/RT_;<br>
&nbsp;$ end</tt><tt> </tt></dd>
  </dl>
</blockquote>
<dl>
  <dd>This script will be calculated only once before entering the GEM
IPM algorithm, because the Margules interaction parameters depend on <i>T,
P</i>
but not on the phase composition. The calculated Margules parameters
are
assigned to&nbsp; an optional vector <a
 href="file:///C:/gems2html/program/doc/html/gm_phase.html#Qd"><tt>Qd</tt></a>
&nbsp;from where, in turn, they will be taken into equations for
calculation of activity coefficients as specified in the <a
 href="#DcEq"><tt>DcEq</tt></a>
field (see above). &nbsp;Note that the same binary Margules model is
implemented
as a built-in option (<tt>'M'</tt> code set in the <a
 href="gm_phase.html#p_solt_0"><tt>p_solt[0,0]</tt></a> cell and <tt>'S'</tt>
code in <a href="#p_solt_3"><tt>p_solt[0,3]</tt></a> cell), in which
case
no Math Script are needed; the <i>W</i> coefficients should be entered
into <a href="#ph_cf"><tt>ph_cf</tt></a> cells.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Math script expressions in the <tt>PhEq</tt> field will be
preprocessed and translated in the modelling project immediately before
the beginning
of GEM IPM calculation of an equilibrium state. After the feasible
initial approximation (FIA) is computed, the GammaCalc() function,
executed at
each iteration of IPM minimization algorithm, will recalculate the
built-in
subroutines and/or expressions in <tt>PhEq</tt> math scripts for all
multicomponent
phases (where provided) according to the mode flag in the <a
 href="#p_solt_2"><tt>p_solt[2]</tt></a> field.<br>
  </dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>In some cases (SIT aqueous models, multicomponent solid
solutions), the PhEq math script can be greatly simplified using the
optional <a href="#ph_cf"><tt>ph_cf</tt></a> array that can be
allocated upon create/remake of the Phase record. &nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
</dl>
<dl>
  <dd>&nbsp; &nbsp; </dd>
  <dt> <a name="ph_cf"></a><big><big><b><tt>ph_cf</tt></b></big></big>
- Array
of phase-related coefficients of non-ideality model &nbsp;(optional)<br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This array of phase-related coefficients of the non-ideality
model
can be created upon create/remake of the Phase record. The <tt>ph_cf</tt>
array has the numbers of rows and columns defined by the user.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>This array will be automatically created and used in some
built-in
modes for calculation of activity coefficients&nbsp;(if the <tt>'G',
'M',
'T'</tt> codes were set in the <a href="gm_phase.html#p_solt_0"><tt>p_solt[0,0]</tt></a>
cell); in this case, you will only have to enter the coefficient
values.
Specifically, the built-in binary Margules model ('M' code) uses three
coefficients
from the first line for the first end-member and three from the second
line
for the second end-member (in J/mol, J/K/mol and J/bar) as
follows:&nbsp;</dd>
</dl>
<blockquote>
  <dl>
    <dd><i>W</i><sub>1</sub> = <i>W<sub>U</sub></i><sub>,1</sub> - <i>W<sub>S</sub></i><sub>,1</sub>*<i>T</i>
+ <i>W<sub>V</sub></i><sub>,1</sub>*<i>P</i> =&nbsp; <tt>ph_cf[0,0]</tt>
- <tt>ph_cf[0,1]</tt>*<i>T</i> + <tt>ph_cf[0,2]</tt>*<i>P</i> ;</dd>
    <dd><i>W</i><sub>2</sub> = <i>W<sub>U</sub></i><sub>,2</sub> - <i>W<sub>S</sub></i><sub>,2</sub>*<i>T</i>
+ <i>W<sub>V</sub></i><sub>,2</sub>*<i>P</i> =&nbsp; <tt>ph_cf[1,0]</tt>
- <tt>ph_cf[1,1]</tt>*<i>T</i> + <tt>ph_cf[1,2]</tt>*<i>P</i>.&nbsp;</dd>
  </dl>
</blockquote>
<dl>
  <dd>Unknown coefficients in <tt>ph_cf</tt> array must be set to
zero. For
example, if you wish to have activity coefficients to be independent of
temperature,
set non-zero values only in <tt>ph_cf[0,1]</tt> and&nbsp;<tt>ph_cf[1,1]</tt>cells.
If you set different values of of <i>W</i><sub>1</sub> and <i>W</i><sub>2</sub>,
you will run a subregular mixing model; equal values of <i>W</i><sub>1</sub>
and <i>W</i><sub>2</sub> result in a regular mixing model, and zero
values
reduce it to the ideal mixture. The ternary regular Margules model
requires
four rows each of three coefficients:</dd>
</dl>
<blockquote>
  <blockquote><i>W</i><sub>12</sub> = <i>W<sub>U</sub></i><sub>,12</sub>
- <i>W<sub>S</sub></i><sub>,12</sub>*<i>T</i> + <i>W<sub>V</sub></i><sub>,12</sub>*<i>P</i>
=&nbsp; <tt>ph_cf[0,0]</tt> - <tt>ph_cf[0,1]</tt>*<i>T</i> + <tt>ph_cf[0,2]</tt>*<i>P</i>
;<br>
    <i>W</i><sub>13</sub> = <i>W<sub>U</sub></i><sub>,13</sub> - <i>W<sub>S</sub></i><sub>,13</sub>*<i>T</i>
+ <i>W<sub>V</sub></i><sub>,13</sub>*<i>P</i> =&nbsp; <tt>ph_cf[1,0]</tt>
- <tt>ph_cf[1,1]</tt>*<i>T</i> + <tt>ph_cf[1,2]</tt>*<i>P</i> ;&nbsp;<br>
    <i>W</i><sub>23</sub> = <i>W<sub>U</sub></i><sub>,23</sub> - <i>W<sub>S</sub></i><sub>,23</sub>*<i>T</i>
+ <i>W<sub>V</sub></i><sub>,23</sub>*<i>P</i> =&nbsp; <tt>ph_cf[2,0]</tt>
- <tt>ph_cf[2,1]</tt>*<i>T</i> + <tt>ph_cf[2,2]</tt>*<i>P</i> ;<br>
    <i>W</i><sub>123</sub> = <i>W<sub>U</sub></i><sub>,123</sub> - <i>W<sub>S</sub></i><sub>,123</sub>*<i>T</i>
+ <i>W<sub>V</sub></i><sub>,123</sub>*<i>P</i> =&nbsp; <tt>ph_cf[3,0]</tt>
- <tt>ph_cf[3,1]</tt>*<i>T</i> + <tt>ph_cf[3,2]</tt>*<i>P</i>.&nbsp;</blockquote>
</blockquote>
<dl>
  <dd>The binary Guggenheim (Redlich - Kister) mixing model needs only
three
coefficients that (in the present implementation) should be entered in
dimensionless
form: <i>a</i>0, <i>a</i>1 and <i>a</i>2 into <tt>ph_cf[0,0]</tt>, <tt>ph_cf[0,1]</tt>
and <tt>ph_cf[0,2]</tt>cells, respectively. These coefficients will be
directly
used in computing activity coefficients, without correcting for <i>T,P</i>
as in the Margules model. <br>
  </dd>
  <dd>Details about these calculations can be found in <b><tt>Activity-coeffs.pdf</tt></b>
manual.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;&nbsp;&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>Coefficients stored in this (single precision) array can be used
in <a href="gmscript.html">math script</a> equations for calculation
of
activity coefficients typed in the <a href="#DcEq"><tt>DcEq</tt></a>
or <a href="#PhEq"><tt>PhEq</tt></a> fields, where they are accessible
at
the GEM IPM runtime using the <a href="#pCv"><tt>pCv</tt></a> hidden
data
object.&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd><br>
Except for built-in mixing models, the user is fully responsible for
correct
usage of the <tt>ph_cf</tt> data in calculation of activity
coefficients.</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>&nbsp;&nbsp; <br>
  </dd>
  <dd> &nbsp;&nbsp; </dd>
  <dt> <a name="SCM_C"></a><big><big><b><tt>SCM_C</tt></b></big></big>
- Classifier
of SCM applied to surface types {&nbsp; N I D C S T M E } <br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> This input data object object contains the <a
 href="g_useref.html#SCM_CODES">SCM codes</a> for each surface type on
a sorption phase. The codes must be entered by user.&nbsp; <br>
  </dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>SCM codes will be automatically copied into the modelling <a
 href="gems_scm.html">project system</a> and can be edited there, if
necessary. <br>
&nbsp;&nbsp;</dd>
  <dd>&nbsp; &nbsp; </dd>
  <dt> <a name="FSI_t"></a><big><big><b><tt>FSI_t</tt></b></big></big>
- Fraction
of surface type relative to &nbsp;the whole surface of the sorbent <br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> This input data object contains fractions of the total surface
of the
sorbent assigned to each surface type. The numbers must be entered by
user;
the total fraction may be greater or smaller than 1.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>Surface fractions will be automatically copied into the modelling
    <a href="gems_scm.html">project system</a> and can be edited there,
if necessary.<br>
&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="MsDt_0"></a><big><big><b><tt>MsDt[0]</tt></b></big></big>
- Common maximum density of competitive surface complexes, 1/nm2&nbsp;</dt>
  <dd>&nbsp; <br>
This input data object contains maximum density of surface complexes
(marked
as "C" in the <a href="#SAT_C_0"><tt>SAT_C[0]</tt></a> column) that
compete for sites of the same type on the same surface patch (type).
These maximum densities will be used in calculation of <a
 href="glossary.html#DT_SAT">competitive SAT</a>.&nbsp;</dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd>Common maximum densities will be automatically copied into the
modelling <a href="gems_scm.html">project system</a> and can be edited
there, if necessary.<br>
&nbsp;</dd>
  <dd>&nbsp;&nbsp;&nbsp;</dd>
  <dt> <a name="MsDt_1"></a><big><b><tt>MsDt[1]</tt></b></big> - SAT
FFG parameters
(reserved) </dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd>This data object is reserved for future implementation of new
SCMs
and SAT equations.&nbsp;</dd>
  <dd>The cells must contain zeros in this version of GEMS.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>&nbsp; <br>
  </dd>
  <dt> <a name="Cap_t_0"></a><big><big><b><tt>Cap_t[0]</tt></b></big></big>
- C1 - inner EDL capacitance density parameter, F/m2 (TLM, BSM,
CCM)&nbsp;</dt>
  <dd>&nbsp; <br>
This input data object contains values of inner capacitance density C1
in
F/m2 for TLM, BSM and CCM for each surface type. The numbers must be
entered by user; default is 1 F/m2.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>Values of C1 will be automatically copied into the modelling <a
 href="gems_scm.html">project system</a> and can be edited there, if
necessary. <br>
&nbsp;&nbsp;</dd>
  <dd>&nbsp;&nbsp;</dd>
  <dt> <a name="Cap_t_1"></a><big><big><b><tt>Cap_t[1]</tt></b></big></big>
- C2 - outer EDL capacitance density parameter, F/m2 (TLM); anion C for
BSM&nbsp; <br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> This input data object contains values of outer capacitance
density C2 in F/m2 for TLM for each surface type. The numbers must be
entered by user; default is 0.2 F/m2 for TLM and 0 for other SCMs.
&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>Values of C2 will be automatically copied into the modelling <a
 href="gems_scm.html">project system</a> and can be edited there, if
necessary. <br>
  </dd>
  <dd>&nbsp; &nbsp; <br>
  </dd>
  <dd>&nbsp;&nbsp; </dd>
  <dt> <a name="XfIEC"></a><big><big><b><tt>XfIEC</tt></b></big></big>
- Density
of permanent surface charge, mkeq/m2 (for electrostatic SCMs)</dt>
  <dd>&nbsp;&nbsp;</dd>
  <dd> This input data object contains values of permanent surface
charge in mkeq/m2 for for each surface type. The numbers must be
entered by user; default is 0. Non-zero numbers must be entered for
surface types on which the ion exchange has to be considered using the
electrostatic SCM.&nbsp;
&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>Values of permanent charge density will be automatically copied
into the modelling <a href="gems_scm.html">project system</a> and can
be edited there, if necessary. <br>
  </dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>&nbsp;<br>
  </dd>
</dl>
<h3><a name="PHASE_DOD_REMAKE"></a>2.1. Data objects that can be
modified during remake/create only</h3>
<p><font face="Helvetica, Arial, sans-serif"> </font></p>
<dl>
  <dt> <a name="p_solt_0"></a><b><tt><font size="+2">p_solt[0]</font></tt></b>
Code of the type of mixing and method of calculation of mixing
properties { I D ... } </dt>
  <dd>&nbsp; <br>
This code defines the type of mixing and the default method of
calculation of mixing properties and activity coefficients before and
at GEM IPM iterations (performed in the GammaCalc() subroutine either
by calling built-in functions
or executing user-defined Phase math scripts).</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Possible code values: see <a href="g_useref.html#P_SOLT0">User's
Reference</a>.
Default code value: <tt>"I"</tt>.&nbsp;</dd>
  <dd><i><u></u></i> <br>
  </dd>
  <dd> In the Phase record, two dynamic text fields with math scripts (
    <a href="file:///C:/gems2html/program/doc/html/gm_phase.html#PhEq">PhEq</a>
and <a href="file:///C:/gems2html/program/doc/html/gm_phase.html#DcEq">DcEq</a>
) will be allocated if this code is set to <tt>"R"</tt> or <tt>"U" </tt>or<tt>
"O"</tt> values. No math scripts are necessary for other codes. &nbsp;
&nbsp;<br>
  </dd>
  <dd> &nbsp; <br>
&nbsp;&nbsp;</dd>
  <dt><b> <a name="p_solt_1"></a></b><tt style="font-weight: bold;"><font
 size="+2">p_solt[1]</font></tt> - Mode of calculation of the <tt>DcEq</tt>
math script for end members { N T X } </dt>
  <dd> &nbsp;&nbsp; </dd>
  <dd> This code defines how the math script expressions written by the
user in the <tt><a href="#DcEq">DcEq</a></tt> field (Page 2 of Phase
window) depend on <i>T,P</i> and/or current speciation (vector <tt><a
 href="gems_ipm.html#x">x</a></tt>) along the <a href="gems_ipm.html">GEM
IPM</a> iterations, and when the program should calculate the script
while solving for the chemical equilibrium state. Possible code values:
    <a href="g_useref.html#P_SOLT1">see User's Reference</a>.&nbsp;</dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd>If the math script is not neeced and the <tt>DcEq</tt> field
must not
be allocated, the code here must be set to <tt>"N"</tt> (default)
value.
This is the case e.g. if a built-in mixing model was specified in the <tt>p_solt[0]</tt>
code.</dd>
  <dd>&nbsp; &nbsp;<br>
&nbsp; &nbsp; </dd>
  <dt> <a name="p_solt_2"></a><b><big><big><span
 style="font-family: monospace;">p_solt[2]</span></big></big></b> -
Mode of
calculation of the <tt>PhEq</tt> math script for the whole phase { N T
X
} </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This code defines how the math script expressions written by the
user in the <tt><a href="#PhEq">PhEq</a></tt> field (Page 3 of Phase
window) depend on <i>T,P</i> and/or current speciation (vector <tt><a
 href="gems_ipm.html#x">x</a></tt>) along the <a
 href="glossary.html#DT_IPM">GEM IPM</a> iterations, and when the
program should calculate the script while solving for the chemical
equilibrium state. Possible code values: <a
 href="g_useref.html#P_SOLT2">see User's Reference</a>. </dd>
  <dd><br>
  </dd>
  <dd>If the math script is not needed and the<tt> PhEq</tt>
&nbsp;field
is not allocated, this code must be set to <tt>"N"</tt> (default)
value.&nbsp;This
is the case e.g. if a built-in mixing model was specified in the <tt>p_solt[0]</tt>
code.</dd>
  <dd>&nbsp;<br>
&nbsp; &nbsp; </dd>
  <dt><a name="p_solt_3"></a><big><big><b><tt>p_solt[3]</tt></b></big></big>
- Mode of calculation of species activity coefficients { N S I } </dt>
  <dd><br>
This code defines how the activity coefficients of species in this
phase
will be calculated. Any built-in mixing model for calculation of
activity
coefficients (see <a href="#p_solt_0"><tt>p_solt[0]</tt></a> code
field)
will operate only if this code will be set to <b><tt>'S'</tt></b>
value.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>Possible values: <a href="g_useref.html#P_SOLT3">see User's
Reference</a>.&nbsp; </dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd>Attention: If <a href="#p_solt_0"><tt>p_solt[0]</tt></a> is set
to <tt>"I"</tt> then this code mist be also set to <tt>"I"</tt>
value.&nbsp; <br>
&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="p_solt_4"></a><big><big><b><tt>p_solt[4]</tt></b></big></big>
- Mode of linking DcEq math script equations to phase end members </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This code defines how the math script expressions specified by
the user in the <a href="#DcEq"><tt>DcEq</tt></a> text field (Page 2
of the "Phase" window) will be linked to the end-members and their
non-ideality parameters. Please, consult the <tt><a
 href="gm_sdref.html">SDref</a></tt>
library of template math scripts for Phase records to learn about the
typical examples. Possible values: <a href="g_useref.html#P_SOLT4">see
User's Reference</a>.</dd>
  <dd><br>
  </dd>
  <dd>Attention: If <a
 href="file:///C:/gems2html/program/doc/html/gm_phase.html#p_solt_0"><tt>p_solt[0]</tt></a>
is set to <tt>"I"</tt> and <a href="#p_solt_1"><tt>p_solt[1]</tt></a>
set
to <tt>"N"</tt> then this code mist be also set to <tt>"N"</tt>
value.&nbsp; <br>
&nbsp; <br>
&nbsp; </dd>
  <dt> <a name="p_solt_5"></a><big><big><b><tt>p_solt[5]</tt></b></big></big>
- Models defining activity-concentration relationships in a sorption
phase <br>
  </dt>
  <dd>&nbsp; &nbsp; &nbsp;&nbsp;</dd>
  <dd>This code defines how densities of surface complexes will depend
on the EDL structure, charge density and electrostatic potential of the
soild-aqueous interface. Possible values: <a
 href="g_useref.html#P_SOLT5">see User's Reference</a>.</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>As different <a href="g_useref.html#SCM_SAT_CODES">EDL model
codes</a>
can be applied separately on different surface types (up to 6 per
sorption phase), only the most sophisticated SCM (e.g. having the
largest
number of parameters) should be coded here. For non-sorption phases, <tt>"N"</tt>
(default) code must be specified. </dd>
  <dd>&nbsp;&nbsp; <br>
&nbsp;&nbsp; </dd>
  <dt> <a name="Ph_Ps_0"></a><big><big><b><tt>Ph_Ps[0]</tt></b></big></big>
- Default code of phase aggregate state in the system { a g l h s d x }
    <br>
  </dt>
  <dd>&nbsp; <br>
This code defines the standard state and the reference scale of
concentrations for dependent components in a phase.&nbsp; It is used by
many <a href="gems_ipm.html">IPM module subroutines</a> during
calculation
of equilibrium states. Possible values: <a
 href="g_useref.html#PHASESTATECODES">see User's Reference.</a><br>
&nbsp; <br>
&nbsp; </dd>
  <dt> <a name="Ph_Ps_1"></a><big><big><b><tt>Ph_Ps[1]</tt></b></big></big>
- Allocation flag for the <a href="#ph_cf"><tt>ph_cf</tt></a> array
for phase-related
parameters { + * - } <br>
  </dt>
  <dd>&nbsp;&nbsp; <br>
This flag controls allocation an optional dynamic array <a
 href="#ph_cf"><tt>ph_cf</tt></a> &nbsp;for keeping coefficients
related to the whole phase (e.g., calculation of A and B parameters of
the Debye-Hueckel equation). Corresponding equations are usually
provided in the math script in <a href="#PhEq"><tt>PhEq</tt></a> text
field, but this array can also
be used in some built-in functions (e.g. Debye-Hueckel).&nbsp;Default
flag
is off <tt>'-'.</tt></dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>Dimensions of the <tt>ph_cf</tt> array must be set in the <a
 href="#Ph_ncp"><tt>Ph_ncp</tt></a> cells. If both N and M dimensions
there are positive integers then this flag will beautomatically set to
+ (on),
otherwise the flag will be set to - (off). The user must enter the data
in <tt>ph_cf</tt> array if this array is created, or assign data there
in
the math scripts. <br>
  </dd>
  <dd> &nbsp; &nbsp;&nbsp;</dd>
  <dd>&nbsp;&nbsp;&nbsp;</dd>
  <dt> <a name="Ph_Ps_2"></a><big><big><b><tt>Ph_Ps[2]</tt></b></big></big>
- Allocation flag for the <a href="#dc_cf"><tt>dc_cf</tt></a> array
for species-related
parameters { + * - } <br>
  </dt>
  <dd>&nbsp;<br>
This flag controls allocation of an optional dynamic array <a
 href="#dc_cf"><tt>dc_cf</tt></a> &nbsp;for keeping coefficients
related to calculation &nbsp;of activity coefficients of individual
species (e.g., Kielland's ion-size parameters <tt>a@</tt> in the
Debye-Hueckel equation). Corresponding equations are usually provided
in the math scripts in <a href="#DcEq"><tt>DcEq</tt></a> or <a
 href="#PhEq"><tt>PhEq</tt></a> fields.&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>Dimensions of the <a href="#dc_cf"><tt>dc_cf</tt></a> array
(only number of coefficients per species M) must be set up in the <a
 href="#Ph_nsc"><tt>Ph_nsc</tt></a>
field. If M&gt;0 then this flag will be automatically set to + (on),
otherwise the flag will be set to - (off). The user must enter the data
in dc_cf array if this array is created, or assign data there in the
PhDc math script.&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd><b>Note:</b> In certain cases (e.g., for aqueous models), the
program will sample the parameters from DComp or ReacDC records upon
re-calculation of the Phase record. Default flag is off <tt>'-'</tt>.<br>
&nbsp; <br>
&nbsp;&nbsp; </dd>
  <dt> <a name="Ph_Ps_3"></a><big><big><b><tt>Ph_Ps[3]</tt></b></big></big>
- Allocation flag for the phase-related math script <a href="#PhEq"><tt>PhEq</tt></a>
field { + * - } <br>
  </dt>
  <dd>&nbsp; <br>
Set this flag to&nbsp; <tt>+</tt> &nbsp;or &nbsp;<tt>*</tt> &nbsp;to
create
the <a href="#PhEq"><tt>PhEq</tt></a> text field if you want to
specify there a <a href="gmscript.html">math script</a> with equations
for the whole phase. Default flag is off <tt>'-'</tt>.<br>
&nbsp; <br>
&nbsp; </dd>
  <dt> <a name="Ph_Ps_4"></a><tt><big><big><b>Ph_Ps[4]</b></big></big></tt>
- Allocation flag for the species-related math script <a href="#DcEq"><tt>DcEq</tt></a>
field { + * - } <br>
  </dt>
  <dd>&nbsp;<br>
Set this flag to <tt>+</tt>&nbsp; or&nbsp; <tt>*</tt>&nbsp; to create
the <a href="#DcEq"><tt>DcEq</tt></a> text field if you want to enter
there
a <a href="gmscript.html">math script</a> with equations for
calculation of species activity coefficients. Default flag is off <tt>'-'</tt>.<br>
&nbsp; <br>
&nbsp;&nbsp; </dd>
  <dt> <a name="Ph_Ps_5"></a><big><big><b><tt>Ph_Ps[5]</tt></b></big></big>
- Allocation flag for surface type - related data objects { + * - } <br>
  </dt>
  <dd>&nbsp;<br>
This flag must always be set on ( + or * ) in definitions of sorption
phases
with surface species. If the flag is on then <tt><a href="#SCM_C">SCM_C</a>,<a
 href="#FSI_t">FSI_t</a>, <a href="#MsDt_0">MsDT</a>, <a
 href="#Cap_t_0">Cap_t</a> </tt>and <a href="#XfIEC"><tt>XfIEC</tt></a>
data objects (visible on
Page 3 of the "Phase" window) will be allocated. Each of these objects
will
have the number of rows specified in the <a href="#Ph_nsi_0"><tt>Ph_nsi</tt></a>
&nbsp;field. In addition, the data objects <a href="#SAT_C_0"><tt>SAT_C</tt></a>
and <a href="#MaSDj"><tt>MaSDj</tt></a> will be allocated (visible on
Page
1).Default flag is off <tt>'-'</tt>.&nbsp; <br>
&nbsp; <br>
&nbsp; </dd>
  <dt> <a name="Ph_Nc_0"></a><big><big><b><tt>Ph_Nc[0]</tt></b></big></big>
- Number of Dependent Components (species) in this phase definition <br>
  </dt>
  <dd> &nbsp; <br>
This number will be automatically calculated after the user has
selected ReacDC and DComp records to be linked into this Phase
definition. There
is no need to enter anything into this counter. <br>
&nbsp; <br>
&nbsp; </dd>
  <dt> <a name="Ph_Nc_1"></a><big><big><b><tt>Ph_Nc[1]</tt></b></big></big>
- Number of references to Data Sources <br>
  </dt>
  <dd>&nbsp; <br>
Enter here a number of references to data sources if you want to
allocate optional lists <a href="#pSDref"><tt>pDSref</tt></a> and <a
 href="#pSDval"><tt>pSDval</tt></a>.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>Default value is 0 (the lists will not be allocated). <br>
&nbsp; &nbsp;<br>
&nbsp;&nbsp; </dd>
  <dt> <a name="Ph_ncp"></a><big><b><big><tt>Ph_ncp</tt></big></b></big>
-
Dimensions of the <a href="#ph_cf"><tt>ph_cf</tt></a> optional data
array <br>
  </dt>
  <dd><br>
Set here the number of rows (first cell) and columns (second cell) of
the optional <a href="#ph_cf"><tt>ph_cf</tt></a> array (to appear on
Page 3
of the Phase window); the <a href="#Ph_Ps_1"><tt>Ph_Ps[1]</tt></a>
flag
must be also set on. In some built - in calculation modes, these
dimensions
will be set automatically, depending on the code in <a href="#p_solt_0"><tt>&nbsp;p_solt[0]</tt></a>
field.&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>Default values are 0 (the <a href="#ph_cf"><tt>ph_cf</tt></a>
array
will not be allocated). <br>
&nbsp; &nbsp;</dd>
  <dd>&nbsp;&nbsp; </dd>
  <dt> <a name="Ph_nsc"></a><big><big><b><tt>Ph_nsc</tt></b></big></big>
-
Dimension of the <a href="#dc_cf"><tt>dc_cf</tt></a> optional data
array <br>
  </dt>
  <dd><br>
  </dd>
  <dd>Set here the number of columns (second cell) of the optional <a
 href="#dc_cf"><tt>dc_cf</tt></a> array (to appear on Page 2 of the
Phase window); the <a href="#Ph_Ps_2"><tt>Ph_Ps[2]</tt></a> flag must
be also
set on. The number of rows in <tt>dc_cf</tt> is given in the <a
 href="#Ph_Nc_0"><tt>Ph_Nc[0]</tt></a> cell (there is no need to enter
it there). In some built - in calculation modes, these dimensions will
be set
automatically, depending on the code in &nbsp;<a href="#p_solt_0"><tt>p_solt[0]</tt></a>
field.&nbsp;&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>Default value is 0 (the <a href="#dc_cf"><tt>dc_cf</tt></a>
array will not be allocated). </dd>
  <dd>&nbsp;&nbsp; <br>
&nbsp;&nbsp; </dd>
  <dt> <a name="Ph_nsi_0"></a><big><big><b><tt>Ph_nsi[0]</tt></b></big></big>
- Number of active surface types &nbsp;(1 to 6, sorption phases only) <br>
  </dt>
  <dd><br>
Number of surface site types (minimum 1, maximum 6) defines how many
surface
types will be considered (and how many lines will be allocated in <tt><a
 href="#SCM_C">SCM_C</a>, <a href="#FSI_t">FSI_t</a>, <a
 href="#MsDt_0">MsDT</a>, <a href="#Cap_t_0">Cap_t</a> </tt>and <a
 href="#XfIEC"><tt>XfIEC</tt></a>
data objects). The <a href="#Ph_Ps_5"><tt>Ph_Ps[5]</tt></a> flag must
also be set on in the case of sorption phase with surface
complexation.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>This cell must contain 0 (default) for other phase types. <br>
&nbsp; <br>
&nbsp; </dd>
  <dt> <a name="Ph_nsi_1"></a><big><b><tt>Ph_nsi[1]</tt></b></big>
-&nbsp; </dt>
  <dd> reserved for future usage. </dd>
  <dd><br>
  </dd>
</dl>
<br>
<h3><a name="PHASE_DOD_RESERVED"></a>2.2. Reserved and obsolete data
objects</h3>
<dl>
  <dt><br>
  </dt>
  <dt><a name="PhXres"></a><big><b><tt>PhXres</tt></b></big> </dt>
  <dd> Reserved for future development of GEM surface complexation
models. </dd>
  <dd><br>
  </dd>
</dl>
<dl>
  <dt> <a name="PHtprn"></a><big><b><tt>PHtprn</tt></b></big> </dt>
  <dd> Internal </dd>
  <dd> <br>
  </dd>
</dl>
<h3 style="font-weight: normal;"><br>
</h3>
<h3><a name="PHASE_DOD_HIDDEN"></a>2.3. Hidden data objects for usage
in
Phase math scripts<br>
</h3>
<p><font face="Helvetica, Arial, sans-serif"></font></p>
<p></p>
The data objects listed below cannot be seen on Phase window pages
because these data exist in the runtime IPM data structure and are
automatically
mapped to species and parameters of this phase only.&nbsp;When labels
of
these hidden data objects are used in the DcEq or PhEq scripts, there
is
no need to care about location of this phase and its species in the
whole chemical system definition, which is hard to know in advance,
before the
project system is assembled. <br>
<br>
<big><b><tt>Attention!</tt></b></big> Most of the data objects listed
below are marked as "read only". This means that their values are
automatically set or changed during GEM IPM calculations. Using these
"read only" objects on the left side of math script operators (i.e.
writing into them) may cause incorrect results, unpredictable behaviour
or the program crash. <br>
<br>
<dl>
  <dt> <a name="Ps_mod"></a><big><b><tt>Ps_mod</tt></b></big> -
reserved </dt>
  <dd> &nbsp; <br>
&nbsp;&nbsp;</dd>
  <dt><a name="T_C"></a><big><b><tt>T_C</tt></b></big> -
&nbsp;Temperature in Centigrade (scalar, read only) </dt>
  <dd> <br>
  </dd>
  <dd>&nbsp;&nbsp; </dd>
  <dt> <a name="T_K"></a><big><b><tt>T_K</tt></b></big> - Temperature
in Kelvins
(scalar, read only) </dt>
  <dd> &nbsp; </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="P_"></a><b><big><tt>P_</tt></big></b> - Pressure in
bars (scalar,
read only) </dt>
  <dd> &nbsp; </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="IS_"></a><big><b><tt>IS_</tt></b></big> - Effective
molal ionic strength of aqueous electrolyte (scalar, read only) </dt>
  <dd> &nbsp; </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="is"></a><big><b><tt>is</tt></b></big> - internal index
of a column (e.g. in dc_cf or ph_cf arrays),&nbsp; scalar&nbsp; </dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd>This index is not set automatically and can be changed e.g. in a
math
script loop.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd> &nbsp;&nbsp; </dd>
  <dt> <a name="js"></a><b><big><tt>js</tt></big></b> - internal index
of a species in this phase (scalar) </dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd>In "public" mode, this index is automatically changed in the
GammaCalc() from 0 to <tt>Ndc-1</tt>, where <a href="#Ndc"><tt>Ndc</tt></a>
is number of dependent components (species) in this phase. In "private"
mode, the
user must change this index in a math script operator.&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd> &nbsp;&nbsp; </dd>
  <dt> <a name="nexta"></a><b><big><tt>nexta</tt></big></b> - internal
indicator
of continued loops (scalar) </dt>
  <dd> &nbsp; </dd>
  <dd>This indicator (integer number 0 or 1) is not set automatically
and
can be changed in a math script operator.</dd>
  <dd> &nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="Ncp"></a><big><b><tt>Ncp</tt></b></big> - number of
work cells
assigned to this phase (scalar, read only) </dt>
  <dd> &nbsp;</dd>
  <dd>This counter contains total number of elements in the <a
 href="#pCv"><tt>pCv</tt></a> data object or zero if <a href="#pCv"><tt>pCv</tt></a>
cannot be used.</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd> &nbsp;&nbsp; </dd>
  <dt> <a name="Ncd"></a><big><b><tt>Ncd</tt></b></big>&nbsp;- number
of
work cells assigned to each species of this phase (scalar, read only) </dt>
  <dd> &nbsp; </dd>
  <dd>This counter contains number of columns in the <a href="#dCm"><tt>dCm</tt></a>
data object or zero if <a href="#dCm"><tt>dCm</tt></a> cannot be used.
Number
of rows in this object is given in the <a href="#Ndc"><tt>Ndc</tt></a>
counter.</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd> &nbsp;<br>
  </dd>
  <dt> <a name="Ndc"></a><big><b><tt>Ndc</tt></b></big> - number of
species in this multicomponent phase (scalar) </dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd>This object is mapped onto L1[k] cell where&nbsp;<tt>k</tt> is
the index
of this phase in the GEM IPM data structure. Read only.</dd>
  <dd><br>
  </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="PhVol"></a><big><b><tt>PhVol</tt></b></big> - current
volume of this phase (in cm3), scalar </dt>
  <dd> &nbsp;</dd>
  <dd>Mapped to the <tt>phVol[k]</tt>cell where <tt>k</tt> is the
index of
this phase in the GEM IPM data structure. Read only.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="RT_"></a><big><b><tt>RT_</tt></b></big> - &nbsp;value
of RT
(R=8.31451 J/K/mol&nbsp; is the universal gas constant, t is
temperature
in K) </dt>
  <dd><br>
  </dd>
  <dd>The value of RT is set automatically. Designed to simplify Phase
math scritps.&nbsp;</dd>
  <dd>&nbsp;&nbsp; </dd>
  <dd> &nbsp;&nbsp; </dd>
  <dt> <a name="FRT_"></a><big><b><tt>FRT_</tt></b></big> - value of
F/(RT) (F = 96485 C/mol is the Faraday's constant) </dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd>The value of F/(RT) is set automatically. Designed to simplify
Phase math scritps.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd> &nbsp;&nbsp; </dd>
  <dt> <a name="Ez"></a><big><b><tt>Ez</tt></b></big> - species
formula charge &nbsp;(vector of length&nbsp; <a href="#Ndc"><tt>Ndc</tt></a>).</dt>
  <dd> &nbsp;</dd>
  <dd>Mapped to a block of the <tt>ez</tt> &nbsp;vector belonging to
this phase in the GEM IPM data structure.&nbsp;Read only.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>Usage in math scripts: <tt>Ez[js]</tt> (in "public" mode)&nbsp;
or <tt>Ez[0]</tt> &nbsp;(<tt>Ez[1]</tt> ...) in "private" mode.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd> &nbsp;&nbsp; </dd>
  <dt> <a name="pCv"></a><big><b><tt>pCv</tt></b></big> -&nbsp;Array
of phase-related
coefficients of non-ideality model </dt>
  <dd> &nbsp;</dd>
  <dd>This optional array of phase-related coefficients &nbsp;has in
total <a href="#Ncp"><tt>Ncp</tt></a> cells that can be used as
numeric variables
in Phase math scripts. Before the GEM IPM calculation, the program
automatically
copies here data from the <a href="#ph_cf"><tt>ph_cf</tt></a> array
(if present)
from the respective Phase record.</dd>
  <dd>&nbsp;</dd>
  <dd>Usage in math scripts: <tt>pCv[0], pCv[1], ...</tt><br>
  </dd>
  <dd> &nbsp; &nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="dCm"></a><big><b><tt>dCm</tt></b></big> - Array of
species-related
coefficients of the non-ideality model </dt>
  <dd>&nbsp;&nbsp;</dd>
  <dd>This optional array of species-related coefficients &nbsp;has
in&nbsp; <a
 href="file:///C:/gems2html/program/doc/html/gm_phase.html#Ncp"><tt>Ncd</tt></a>
columns and <a href="#Ndc"><tt>Ndc</tt></a> rows that can be used as
numeric
variables in Phase math scripts (indexed using <a href="#is"><tt>is</tt></a>
and <a href="#js"><tt>js</tt></a> indices, if necessary).&nbsp;Before
the
GEM IPM calculation, the program automatically copies here data from
the <a href="#dc_cf"><tt>dc_cf</tt></a> array (if present) from the
respective
Phase record (row by row, except that for skipped phase
components).&nbsp;</dd>
  <dd>&nbsp;</dd>
  <dd>Usage in math scripts:<tt> dCm[0][1], ... &nbsp;dCm[js][is]</tt>
("public"
mode), ...<tt> dCm[js]</tt> (if <a href="#Ncd"><tt>Ncd</tt></a> =
1).&nbsp;</dd>
  <dd> &nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="mVol"></a><b><big><tt>mVol</tt></big></b> - Species
molar volume (cm3/mol; &nbsp;vector of length&nbsp; <a href="#Ndc"><tt>Ndc</tt></a>).</dt>
  <dd> &nbsp;&nbsp; </dd>
  <dd>Mapped to a block of the <tt>vol</tt> &nbsp;vector belonging to
this phase in the GEM IPM data structure.&nbsp;Read only.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Usage in math scripts: <tt>mVol[js]</tt> (in "public"
mode)&nbsp; or <tt>mVol[0]</tt> &nbsp;(<tt>mVol[1]</tt> ...) in
"private" mode.&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd> &nbsp;<br>
  </dd>
  <dt> <a name="lnWx"></a><big><b><tt>lnWx</tt></b></big> - natural
logarithms
of mole fractions of phase components (length <a href="#Ndc"><tt>Ndc</tt></a>)
  </dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd>This data object is obsolete and will be excluded in forthcoming
versions
of GEMS.&nbsp;</dd>
  <dd>Usage in math scripts is not recommended.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="gTn"></a><big><b><tt>gTn</tt></b></big> - normalized
standard
molar Gibbs energies for phase components&nbsp;(length <a href="#Ndc"><tt>Ndc</tt></a>,
read only). </dt>
  <dd> &nbsp; </dd>
  <dd>Mapped to a block of the <tt>g0</tt> &nbsp;vector belonging to
this phase in the GEM IPM data structure.&nbsp;Read only.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Usage in math scripts: <tt>gTn[js]</tt> (in "public" mode)&nbsp;
or <tt>gTn[0]</tt> &nbsp;(<tt>gTn[1]</tt> ...) in "private" mode.&nbsp;</dd>
  <dd> &nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="gam"></a><big><b><tt>gam</tt></b></big> - calculated
activity
coefficients of phase components (length <a href="#Ndc"><tt>Ndc</tt></a>)</dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd>Mapped to a block of the <tt>gamma</tt> &nbsp;vector belonging
to this phase in the GEM IPM data structure.&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Usage in math scripts: <tt>gam[js] =: &lt;expression&gt;</tt>&nbsp;
(in "public" mode)&nbsp;</dd>
  <dd>&nbsp;or <tt>gam[0] =: &lt;expression&gt;;</tt> &nbsp;(<tt>gam[1]
=:</tt>
...) &nbsp;in "private" mode.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>&nbsp;If, for a phase species, <tt>gam[js]</tt> not equal to 1
is calculated
and <tt>ln_gam[js]</tt> is set to 0 then <tt>ln_gam[js]</tt> will be
automatically
assigned<tt> ln(gam[js])</tt> value.</dd>
  <dd><br>
  </dd>
  <dd>&nbsp;&nbsp; </dd>
  <dt> <a name="ln_gam"></a><big><b><tt>ln_gam</tt></b></big> -
calculated
natural logarithms of activity coefficients of phase components (length
    <a href="#Ndc"><tt>Ndc</tt></a>) </dt>
  <dd> &nbsp;</dd>
  <dd>Mapped to a block of the <tt>lnGam</tt> &nbsp;vector belonging
to this phase in the GEM IPM data structure.&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Usage in math scripts: <tt>ln_gam[js] =: &lt;expression&gt;</tt>&nbsp;
(in "public" mode)&nbsp;</dd>
  <dd>or <tt>ln_gam[0] =: &lt;expression&gt;;</tt> &nbsp;(<tt>ln_gam[1]
=:</tt>
...) &nbsp;in "private" mode.&nbsp;</dd>
  <dd> &nbsp;</dd>
  <dd>Math scripts in DcEq field (as well as built-in functions)
usually
calculate <tt>ln_gam</tt> values for phase species involved into
calculation
of equilibrium states. If, for a phase species, <tt>ln_gam[js]</tt>
not equal
to 0 is calculated and <tt>gam[js]</tt> is set to 1 then <tt>gam[js]</tt>
will be automatically assigned<tt> exp(ln_gam[js])</tt> value.<br>
  </dd>
  <dd> &nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="Un"></a><big><b><tt>Un</tt></b></big> - normalized
chemical
potentials of elements (read only) </dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd>Mapped to the dual solution vector <tt>u</tt> in the GEM IPM
data structure.</dd>
  <dd>Can be used in both Phase math scripts.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd> &nbsp;&nbsp; </dd>
  <dt> <a name="As"></a><big><b><tt>As</tt></b></big> - block of the
stoichiometry
matrix A belonging to this phase in the GEM IPM data structure (read
only) </dt>
  <dd>&nbsp;<br>
  </dd>
  <dd>Mapped to a block of the <tt>A</tt> matrix in GEM IPM data
structure.&nbsp;&nbsp;</dd>
  <dd>Can be used in Phase math scripts e.g. for extracting
stoichiometry
of a species. <br>
  </dd>
  <dd> &nbsp; </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="Xalp"></a><big><b><tt>Xalp</tt></b></big> - total
number of
moles in this phase (scalar, read only) </dt>
  <dd> &nbsp;</dd>
  <dd>Mapped to an element of vector <tt>Xa[k]</tt> in the GEM IPM
data structure,
where k is the index of this phase. Can be used in both Phase math
scripts
e.g. for explicit calculation of mole fractions etc.</dd>
  <dd> &nbsp;<br>
  </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="XalpV"></a><big><b><tt>XalpV</tt></b></big> - total
number
of moles in solvent or sorbent of this phase (scalar, read only) </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>Mapped to an element of vector <tt>Xav[k]</tt> in the GEM IPM
data
structure, where k is the index of this phase. Can be used in both
Phase
math scripts e.g. for explicit calculation of mole fractions etc.</dd>
  <dd> &nbsp;<br>
  </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="XalpS"></a><big><b><tt>XalpS</tt></b></big> -&nbsp;
total
number of moles of solutes in this (aqueous or sorption) phase (scalar,
read
only) </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>Mapped to an element of vector <tt>Xas[k]</tt> in the GEM IPM
data
structure, where k is the index of this phase. Can be used in both
Phase
math scripts e.g. for explicit calculation of mole fractions etc.</dd>
  <dd> <br>
  </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="XecR"></a><big><b><tt>XecR</tt></b></big> &nbsp;-
reserved
for future versions </dt>
  <dd> &nbsp; </dd>
  <dd> &nbsp; </dd>
  <dt> <a name="Xx"></a><big><b><tt>Xx</tt></b></big> - vector of mole
quantities
of species in this phase&nbsp;(length <a href="#Ndc"><tt>Ndc</tt></a>,
read
only) </dt>
  <dd> &nbsp; </dd>
  <dd>Mapped to a block of the <tt>x</tt> &nbsp;vector belonging to
this
phase in the GEM IPM data structure.&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Usage in math scripts: <tt>Xx[js]</tt> (in "public" mode)&nbsp;
or <tt>Xx[0]</tt> &nbsp;(<tt>Xx[1]</tt> ...) in "private" mode.&nbsp;</dd>
  <dd> &nbsp;</dd>
  <dd> <br>
  </dd>
  <dt> <a name="Wx"></a><big><b><tt>Wx</tt></b></big>&nbsp;- vector of
mole
fractions of species in this phase&nbsp;(length <a href="#Ndc"><tt>Ndc</tt></a>,
read only) </dt>
  <dd> &nbsp; </dd>
  <dd>Mapped to a block of the <tt>Wxx</tt> &nbsp;vector belonging to
this phase in the GEM IPM data structure.&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>Usage in math scripts: <tt>Wx[js]</tt> (in "public" mode)&nbsp;
or <tt>Wx[0]</tt> &nbsp;(<tt>Wx[1]</tt> ...) in "private" mode.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dd>This object is most frequently used in writing equations for
activity
coefficients of end-members in non-ideal solid solutions.&nbsp;</dd>
  <dd> &nbsp;&nbsp;</dd>
  <dd> &nbsp; </dd>
  <dt> <a name="fMu"></a><big><b><tt>fMu</tt></b></big> - vector of
normalized
chemical potentials of species involved in this phase (length <a
 href="#Ndc"><tt>Ndc</tt></a>, read only) </dt>
  <dd> &nbsp; </dd>
  <dd> &nbsp;Mapped to a block of the v &nbsp;vector belonging to this
phase
in the GEM IPM data structure.</dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="Qp"></a><b><big><tt>Qp</tt></big></b> - array of
&nbsp;20
work cells for use in math scripts for this phase. &nbsp; </dt>
  <dd><br>
  </dd>
  <dd>These work cells are initialized to zeros before the <a
 href="#PhEq"><tt>PhEq</tt></a> math script is executed.</dd>
  <dd>&nbsp;&nbsp; </dd>
  <dd> &nbsp;&nbsp; </dd>
  <dt> <a name="Qd"></a><big><b><tt>Qd</tt></b></big> - array of 20
work cells
for use in math scripts for this phase </dt>
  <dd>&nbsp;<br>
  </dd>
  <dd>Attention: In "public" mode, contents of these work cells will be
zeroed
off before the next (js) species is processed. </dd>
  <dd>&nbsp;</dd>
  <dd>&nbsp;&nbsp; </dd>
</dl>
<dl>
  <dt> <a name="wEqTxt"></a><big><b><tt>wEqTxt</tt></b></big> &nbsp;-
reserved
for future versions<b><b><b> </b> </b></b></dt>
</dl>
<dl>
  <dd><b><b><b><br>
    </b> </b></b></dd>
  <dd><b><b><b><br>
    </b> </b></b></dd>
</dl>
<hr style="width: 100%; height: 2px;">
<h2><a name="PHASE_ERRORS"></a>3. Warnings and error messages</h2>
<dl>
  <dt><big><b><tt>E00PHrem</tt></b></big>: Illegal link q&gt;nQ</dt>
  <dt><big><b><tt>E01PHrem:</tt></b></big> Illegal access to ph in
dyn_set()</dt>
  <dt><big><b><tt>E02PHrem:</tt></b></big> Illegal access to ph in
dyn_kill()</dt>
  <dt><big><b><tt>E03PHrem:</tt></b></big> Illegal access to ph in
dyn_new()</dt>
  <dt><big><b><tt>E04PHrem:</tt></b></big> Number of DC in the phase
definition &lt;= 0</dt>
  <dt><big><b><tt>E05PHrem:</tt></b></big> Illegal access to ph in
set_def()</dt>
  <dd>&nbsp;</dd>
  <dd>Internal errors that most probably indicate the corruption of
dynamic
memory.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>Action: Restart GEMS and try again. If it does not help, please,
submit
a bug report describing a situation when it happens. &nbsp;</dd>
  <dd>&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><big><b><tt>W06PHrem:</tt></b></big> Invalid number of coeffs in
the non-ideal solution model! Proceed?</dt>
  <dd>&nbsp;</dd>
  <dd>During remake, some dimensionalities have been assigned negative
or
too large values.&nbsp;</dd>
  <dd>&nbsp;</dd>
  <dd>Action: Press "Yes" and remake the record again and change the
counters.</dd>
  <dd>&nbsp;</dd>
  <dd>&nbsp;&nbsp;<br>
  </dd>
  <dt><b><big><tt>E07PHrem:</tt></big></b> Invalid mode of calculation!</dt>
  <dd>&nbsp;</dd>
  <dd>&nbsp;Some codes in the <a href="#p_solt_0"><tt>p_solt</tt></a>
field
are wrong or mismatch with the allocation flags.&nbsp;</dd>
  <dd>&nbsp; </dd>
  <dd>Action: Remake the record again and change the codes or
allocation
flags.</dd>
  <dd><br>
  </dd>
  <dd>&nbsp; <br>
  </dd>
  <dt><big><b><tt>W08PHrem:</tt></b></big> Number of selected
ReacDC/DComp keys &lt; 1.</dt>
  <dt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Mark again, proceed without ReacDC/DComp or Cancel?,</dt>
  <dd>&nbsp;&nbsp;</dd>
  <dd>No species from the database have been selected into the phase
definition.&nbsp;</dd>
  <dd><br>
  </dd>
  <dd>Actions: &nbsp; Press "Repeat" and mark the species again;</dd>
  <dd>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Press
"Cancel"
to abandon the create/remake action. </dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><big><b><tt>E09PHrem:</tt></b></big> No ReacDC/DComp records
selected into Phase..</dt>
  <dd>&nbsp;</dd>
  <dd>Confirmation that the user has pressed "Cancel" on the <big><tt>W08PHrem</tt></big>
warning.</dd>
  <dd>&nbsp;</dd>
  <dd>&nbsp;&nbsp;<br>
  </dd>
  <dt><big><b><tt>W10PHrem:</tt></b></big> Shall I set default values
automatically:&nbsp;
from (Kielland 1936), from (Helgeson ea 1981) or</dt>
  <dt>&nbsp;Not collect and not set automatically?&nbsp;</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This function is under construction.&nbsp;</dd>
  <dd>&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
</dl>
<br>
<br>
<hr style="width: 100%; height: 2px;"><b><b><b><tt><br>
</tt> &nbsp;&nbsp; <tt><a href="index.html">To Contents</a> &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;<a href="g_about.html">About GEM-Selektor</a>
</tt><br>
<tt><br>
</tt><br>
<tt>end of file</tt> <br>
&nbsp; <br>
</b> </b></b> <br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</body>
</html>
