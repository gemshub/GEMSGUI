<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <meta name="GENERATOR"
 content="Mozilla/4.7 [en] (WinNT; I) [Netscape]">
  <title>GEMS MathScript Manual</title>
  <meta name="description" content="Version 2.0.0-PSI">
</head>
<body>
<h1><img src="gems1.png" align="left" height="48" width="48"> <big><font
 size="+2"><big> GEM-Selektor version 2-PSI</big></font></big> </h1>
<h2>&nbsp;Mathematical Script Interpreter Manual</h2>
<hr size="2" width="100%">
<h3>Contents</h3>
<h2> </h2>
<ul>
  <li><big> </big>
    <p><big><font face="Helvetica, Arial, sans-serif"><a
 href="#MS_INTRO">1.
Introduction - Why Math Scripts?</a></font></big></p>
    <big> </big></li>
  <li>
    <p><font face="Helvetica, Arial, sans-serif"><a
 href="#MS_INTERPRETER"><big>2. GEM-Selector Built-In Math Script
Interpreter</big> </a></font></p>
  </li>
  <li> <font face="Helvetica, Arial, sans-serif"><a
 href="#MS_DOD_LABELS"> 2.1. Data Object Types and Labels in
GEM-Selektor</a> </font> </li>
  <li> <font face="Helvetica, Arial, sans-serif"><a
 href="#MS_WHERE_TO_USE"> 2.2. Where Math Scripts Can be Used</a> </font>
  </li>
  <li><big> </big>
    <p><big><font face="Helvetica, Arial, sans-serif"><a
 href="#MS_SYNTAX">3. Math Script Syntax, Operators and Constants</a> </font></big></p>
    <big> </big></li>
  <li><a href="#MS_AREX"><font face="Helvetica, Arial, sans-serif">3.1.
Arithmetic Expressions</font></a></li>
  <li><a href="#MS_VAR"><font face="Helvetica, Arial, sans-serif">3.2.
Variables</font></a></li>
  <li><a href="#MS_FUNCTIONS"><font face="Helvetica, Arial, sans-serif">3.3.
Functions</font></a></li>
  <li><a href="#MS_LOGIC"><font face="Helvetica, Arial, sans-serif">3.4.
Logical Expressions</font></a></li>
  <li><a href="#MS_COND"><font face="Helvetica, Arial, sans-serif">3.5.
Conditional Operator, Block
and Cycle Operator</font></a></li>
  <li><a href="#MS_OP_PRIORITY"><font
 face="Helvetica, Arial, sans-serif">3.6. Priority of Operations</font></a></li>
  <li><a href="#MS_CONST"><font face="Helvetica, Arial, sans-serif">3.7.
Constants</font></a><br>
  </li>
  <li><big> </big>
    <p><big><font face="Helvetica, Arial, sans-serif"><a
 href="#MS_BUILTIN_FUNCTIONS">4. Math Script Built-In Functions</a> </font></big></p>
    <big> </big></li>
  <li><a href="#MS_BF_ARITHM"><font face="Helvetica, Arial, sans-serif">4.1.
Functions with Arithmetic
Expressions as Arguments</font></a></li>
  <li><a href="#MS_BF_INTERVAL"><font
 face="Helvetica, Arial, sans-serif">4.2. Functions with Intervals as
Arguments</font></a></li>
  <li><a href="#MS_BF_CHEMICAL"><font
 face="Helvetica, Arial, sans-serif">4.3. Chemical Built-In Functions
(under construction)</font></a><br>
    <p> </p>
  </li>
  <li><big> </big>
    <p><big><font face="Helvetica, Arial, sans-serif"><a
 href="#MS_PREPROC">5. Indexation in GEM-Selektor Lists and Math Script
Preprocessing</a> </font></big></p>
    <big> </big></li>
  <li>
    <p><font face="Helvetica, Arial, sans-serif"><big><a
 href="#MS_LIBRARY">6.
Template Math Script Library in Kernel Database </a></big>&nbsp;</font></p>
  </li>
  <li>
    <p><a href="#MS_ERROR_MESSAGES"><font
 face="Helvetica, Arial, sans-serif">7. Error Messages</font></a></p>
  </li>
</ul>
<p>&nbsp;<br>
</p>
<hr size="2" width="100%">
<h2><a name="MS_INTRO"></a>1. Introduction - Why Math Scripts?</h2>
<p>Interpretation of scripts or macros in large program packages (text
processors, web browsers, or CAD systems) is nowadays a best tool to
reach a&nbsp; compromise between the hard-coded functionality of the
program and the hardly foreseeable variety of the user's needs and
ideas. This also applies to <a href="glossary.html#DT_geochemical">geochemical
modelling</a> program packages such as<a href="gm_about.html">
GEM-Selektor</a>. The main <a href="glossary.html#DT_IPM">GEM IPM
algorithm</a> is hard-coded for the best
performance, as well as the most common techniques for <a
 href="theortdb.html">temperature/pressure corrections</a> of
thermodynamic data and <a href="glossary.html#DT_Debye_Hueckel">ionic
strength corrections</a> for aqueous species. Any addition or change in
the hard-coded methods requires re-compilation and re-linking of the
code; this is not always an easy job for developers, but far more
difficult and time consuming for
the majority of end-users. <br>
</p>
<p> For instance, there is a variety of possible <a
 href="glossary.html#DT_mixture">mixing models</a> for the <a
 href="glossary.html#DT_phase_multi">multi-component phases</a> and it
makes no sense in hard-coding all them; besides, new equations still
appear in literature. Instead, the user must have a possibility to
encode in a simple way, right in the database records, the most
flexible calculations using any data that will exist at the runtime in
the program memory. In this
way, the users can extend the database and "teach" the program package
without any need to re-compile it. <br>
</p>
<p>In general, there is also no way to hard-code in advance all
possible meaningful
"<a href="gm_proces.html">process simulation</a>" scenarios that may be
of
interest to (geo)chemists. Hence, in the GEM-Selektor code, simulation
of
any irreversible process (as a series of local/partial <a
 href="glossary.html#DT_equilibrium">equilibrium states</a>) can be
defined as a <a href="#MS_SYNTAX">Math Script</a> (part of the <a
 href="gm_proces.html">Process</a> record) where the user writes what
exactly and where should be changed in the <a href="gems_sys.html">system
definition</a> (stored as <a href="gm_syseq.html">SysEq</a> records)
to produce the next step of the simulated sequence of <a
 href="gems_ipm.html">equilibria</a>. <br>
</p>
<p>To &nbsp;watch what has been actually calculated, the user must also
be able to tell the program what output data to collect,&nbsp; display
(ideally, in comparison with some experimental points) and print. Math
scripts are very helpful in accomplishing also this need; the "data
sampling" <a href="glossary.html#DT_script_math">math scripts</a> (in <a
 href="gm_rtparm.html">RTparm</a>, <a href="gm_proces.html">Proces</a>
and <a href="gm_gtdemo.html">GtDemo</a> records) provide maximum
flexibility and performance in collecting only relevant results, thus
saving a lot of time - especially if many modeled points are generated
for a large <a href="glossary.html#DT_system">chemical system</a>. <br>
</p>
<p>Math scripts can also be embedded into the <a href="pe_script.html">print/export</a>
and <a href="i_script.html">import</a> format scripts of GEM-Selektor.
This should provide the user with even more freedom and flexibility
because all numeric input and output data objects visible on the module
window pages are accessible to format- and math scripts via their
labels and indices. The user can organize the output of relevant data
only, scaling them to the chosen units of measurement, and presented in
the required format.<br>
<br>
In the forthcoming versions of GEM-Selektor code, the syntax of
math scripts will most probably be updated for the conformance with
ECMAscript standard (already used, for instance, in JavaScript). In
this case, a conversion utility for the present-style scripts will be
provided. <br>
</p>
<p>&nbsp;</p>
<hr size="2" width="100%">
<p><br>
</p>
<h2> <a name="MS_INTERPRETER"></a>2. GEM-Selektor Built-In Math Script
Interpreter</h2>
GEM-Selektor contains a built-in interpreter that converts the math
scripts (texts containing user-defined expressions) into an internal
binary code. This code is then automatically executed at any time when
necessary during the program operation.&nbsp;
<p>The GEM-Selektor math scripts are written in a rather simple
language that
combines features of Basic and C programming languages. The only kind
of
identifiers that can be used in scripts are <a href="#MS_DOD_LABELS">labels
of data objects</a>, normally visible on GEM-Selektor module window
pages. Through these labels with optional indexes, the math scripts can
access numerical data (integer, float and double precision formats are
automatically detected) arranged as scalars, line- or column- vectors
or
matrices. Very limited set of operations can be performed also on ASCII
string objects.&nbsp; No identifiers other than valid data object
labels
(up to 6 characters long) are allowed in math scripts; in other words,
the math script interpreter cannot create new names of variables
(although
it can create any number of numerical or logical constants). Many <a
 href="#MS_BUILTIN_FUNCTIONS">built-in mathematical functions </a>are
available within math scripts. An extension of the list of built-in
functions is
expected in future versions of GEM-Selektor code, mainly for the
chemical
thermodynamic calculations.&nbsp; </p>
<p>There are three stages of processing source math scripts. <br>
</p>
<ul>
  <li>
    <p>At the first (<a href="#MS_PREPROC">preprocessing</a>) stage,
the math
script text will be checked for the presence of explicit names of
Independent Components (IComp), Dependent Components (DComp or ReacDC),
Phases, and Predefined Composition Objects (Compos) &nbsp;in place of
indexes. If such a name is found, the respective name list will be
searched until the numerical index for this component, phase, or PCO is
detected. Then the name will be replaced by the numerical index (which
is often unknown before the actual calculation). </p>
  </li>
  <li>
    <p>At the second (translation) stage, all math script operators
will be parsed, analyzed, converted into inverse Polish notation code
and table of constants, and stored in an internal binary data
structures. In the case of a syntax error, a dialog box will appear,
displaying the remaining unprocessed part of the source script. In most
cases, translation will
be resumed after the user has corrected the error(s). </p>
  </li>
  <li>
    <p>At the third (execution) stage, the run-time calculation will be
performed using a stack-based algorithm and the binary (translated)
code, wherever necessary. Run-time errors (such as zerodivide), in
principle, may produce invalid results or crash of the code;
fortunately, this rarely happens because in most cases, the error
exceptions are generated, and error messages will be displayed. </p>
  </li>
</ul>
<p> &nbsp; </p>
<h3> <a name="MS_DOD_LABELS"></a>2.1. Data Object Types and Labels in
GEM-Selektor</h3>
<p>The GEM-Selektor GUI (Graphical User's Interface) can access any
data object
existing in the program memory that has a "Data Object Descriptor"
(DOD).
DOD is a small structure containing a label (up to 6 ASCII Latin1
characters)
of the data object, a pointer to its memory location, information about
the
type, cell size, number of cells in the column and in the row, and link
to
a short comment (tooltip). Creation of DODs is hard-coded, but their
contents
can be changed in some cases at runtime, during the program operation
(for
instance, at remake or input of database records). </p>
<p>There are two kinds of data objects (and, accordingly, DOD): static
and dynamic. Static data have the same location, type and size during
the whole program execution, while dynamic data can be resized, moved
in memory, and even converted to another data cell type. The latter can
be numerical (integer, float, double), fixed- and variable-size
strings, and one-byte type. This information can be obtained from the <a
 href="dod_labels.html">DOD label lists</a> that can be used in writing
scripts.
<br>
</p>
<p>In GEM-Selektor, the DOD array for &gt;1000 data objects makes a
bridge between the GUI window pages, the internal data structures, the
database records, the runtime (online) HTML help system, and the
interpretators of math scripts, print/export, and import scripts. The
DOD labels with indices serve as identifiers in math script expressions
and other kinds of scripts. Skipped index is interpreted as zero index;
hence, a DOD label written without indexes will be interpreted as the
same label with two zero
indexes. Each index is counted from <tt>0</tt> to <tt>N-1</tt> or <tt>0</tt>
to <tt>M-1</tt>, where <tt>N</tt> is the number of rows and <tt>M</tt>
is the number of columns in the (numerical) data object. Both <tt>N</tt>
and <tt>M</tt> are known in any valid DOD (i.e. any DOD that points to
a
valid memory location). &nbsp; </p>
&nbsp;
<h3> <a name="MS_WHERE_TO_USE"></a>2.2. Where Math Scripts Can be Used</h3>
<p> Math Scripts can (and should) be used in definitions of the
non-ideal multicomponent phases (<a href="gm_phase.html">Phase</a>
records, <tt><a href="gm_phase.html#DcEq">DcEq</a><a
 href="gm_phase.html#PhEq"> </a>and
<a href="gm_phase.html#PhEq">PhEq</a></tt>&nbsp; fields), process
simulators (<a href="gm_proces.html">Process</a> records, <tt><a
 href="gm_proces.html#P_expr">P_expr</a></tt> and &nbsp;<tt><a
 href="gm_proces.html#pgExpr">pgExpr</a></tt> fields),&nbsp;
graphic/table demo samplers (<a href="gm_gtdemo.html">GtDemo</a>
records, <tt><a href="gm_gtdemo.html#gExpr">gExpr</a></tt> field), and
thermodynamic data tabulators (<a href="gm_rtparm.html">RTparm</a>
records, <tt><a href="gm_rtparm.html#tExpr">tExpr</a></tt> field).
These record types embrace the most versatile data in thermodynamic
modeling. In addition, math scripts can be embedded within the <a
 href="pe_script.html">print-</a>, <a href="pe_script.html">export-</a>
and <a href="i_script.html">import</a> format scripts.&nbsp; </p>
<p>Like any programming, writing math scripts requires some experience,
understanding of principles of operation, and some care to avoid
unnecessary debugging or program crash. The best way to learn efficient
programming is to read and modify working examples. For this reason,
GEM-Selektor program package is distributed with a library of template
math scripts. This library (in form of SDref records) contains a
collection of some typical solutions and is very easy to extend: every
user can open a script record, save it under a different record key,
and modify as necessary. The users are encouraged to share their
favorite template math scripts with other users and even with the
developers. </p>
<p>&nbsp;&nbsp;<br>
&nbsp;</p>
<hr size="2" width="100%">
<p> </p>
<h2> <a name="MS_SYNTAX"></a>3. Math Script Syntax and Operators</h2>
Math script is a text containing optional comment lines and a sequence
of one or more <a href="MS_AREX">expressions (operators)</a> of a
general form:
<p><tt>&lt; variable &gt; =: &lt; arithmetic expression &gt; ;</tt> </p>
<p>here,<tt> =: </tt>stands for an assignment operator;
semicolon&nbsp; <tt>;</tt> &nbsp;marks the end of expression. <br>
</p>
<p>Result of &nbsp;<tt>&lt; arithmetic expression &gt; </tt>is a
double-precision numerical value. After calculation, this value is
assigned to <tt>&lt; variable &gt;</tt>&nbsp;(i.e. written into memory
location pointed by&nbsp; <tt>&lt; variable &gt;</tt>); data type
conversion&nbsp; is performed automatically, if necessary.&nbsp;</p>
<p>Anything beginning with the <tt>&nbsp;$</tt> &nbsp;character until
the end of line is considered as a comment and will not be translated.
Comments may occur anywhere in place of space characters. Any number of
comment lines is allowed.</p>
<p>All variable identifiers (DOD labels), keywords, and function names
are case sensitive.<br>
&nbsp;<br>
</p>
<h3><a name="MS_AREX"></a>3.1. Arithmetic Expressions</h3>
<p> To specify an expression, the <a href="#MS_VAR">variables</a>
(identified using <a href="dod_labels.html">data object labels</a>
only), <a href="#MS_CONST">constants</a>,&nbsp; <a
 href="#MS_BUILTIN_FUNCTIONS">built-in functions</a> and <a
 href="#MS_OP_PRIORITY">operations</a> can be used. Brackets <tt>( ) </tt>serve
for changing the default priorities of operations. </p>
<p>Syntax of a math script arithmetic expression (in BNF recursive
notation, \ \ &nbsp;contain alternatives separated by | symbol "or",
braces <tt>{}</tt> contain optional items that may or may not exist ):
</p>
<blockquote>
  <p><tt>&lt; arithmetic expression &gt; ::= &lt; term &gt; { \ + | - \
&lt; term &gt; }</tt> </p>
  <p> <tt>&lt; term &gt; ::= &lt; pfactor &gt; { \ * | / \ &lt;
pfactor &gt; }</tt> </p>
  <p> <tt>&lt; pfactor &gt; ::= &lt; factor &gt; { ^ &lt; factor &gt; }</tt>
  </p>
  <tt>&lt; factor &gt; ::= ( &lt; arithmetic expression &gt; ) |</tt> <br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;
constant &gt; | &lt; variable &gt; | &lt; function &gt; |</tt> <br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;
logical expression &gt;</tt> </blockquote>
<h4><a name="MS_AROP"></a>Arithmetic operations: </h4>
<blockquote>
  <table border="1" cellpadding="2" cellspacing="2" width="100%">
    <tbody>
      <tr>
        <td><big><tt>+</tt></big></td>
        <td><tt> addition</tt></td>
      </tr>
      <tr>
        <td><big><tt>-</tt></big></td>
        <td><tt> subtraction</tt></td>
      </tr>
      <tr>
        <td><big><tt>*</tt> </big></td>
        <td><tt> multiplication </tt></td>
      </tr>
      <tr>
        <td><big><tt>/</tt></big></td>
        <td><tt> division </tt></td>
      </tr>
      <tr>
        <td><big><tt>^</tt></big></td>
        <td><tt> power</tt></td>
      </tr>
    </tbody>
  </table>
</blockquote>
<p><br>
All numerical operands are converted into double-precision
floating-point numbers before applying arithmetic operations. The
result is also a double-precision number. <br>
</p>
<p><br>
</p>
<h3> <a name="MS_VAR"></a>3.2. Variables</h3>
<p> Any variable must begin with an&nbsp; <b>identifie</b><b>r</b>
&nbsp;(name up to 6 alphanumeric characters, beginning with a Latin
letter), which is interpreted as a <a href="#MS_DOD_LABELS">data
object label</a> existing in the GEM-Selektor program at the moment of
translation and execution of the math script. Any other names will be
considered as errors (i.e. math scripts are not allowed to create new
variables).There are&nbsp; three forms of variables that may be used in
math scripts: </p>
<p> </p>
<ul>
  <li>
    <p> scalars (example: <tt>pH</tt>&nbsp; )</p>
  </li>
</ul>
<p> </p>
<ul>
  <li>
    <p> elements of vectors ( example:&nbsp; <tt>x[j] </tt>)</p>
  </li>
</ul>
<p> </p>
<ul>
  <li>
    <p> elements of matrices (example:&nbsp; <tt>a[j][i] </tt>)</p>
  </li>
</ul>
<p> </p>
<p> Data types are automatically defined from the <a
 href="#MS_DOD_LABELS">data object descriptors</a>. Formal syntax in
BNF notation is: </p>
<blockquote>
  <p><tt>&lt; variable &gt; ::= &lt; identifier &gt; | &lt; identifier
&gt; [ &lt; index &gt; ] | &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</tt><tt>&lt;
identifier &gt; [ &lt; index &gt; ] [ &lt; index &gt; ]</tt></p>
  <p><tt>&lt; index &gt; ::= &lt; arithmetic expression &gt;</tt> </p>
</blockquote>
<p><tt>Identifier</tt> &nbsp;is a sequence of up to 6 Latin letters
(including underscore symbol) and digits beginning with a letter. Math
scripts
are case sensitive, so&nbsp; <tt>pH</tt>&nbsp; and&nbsp; <tt>Ph</tt>&nbsp;
are different identifiers.&nbsp; </p>
<p><tt>Index</tt>&nbsp; &nbsp; is any arithmetic expression; only
integer part of it (rounded to the closest integer) will be used.&nbsp;
<tt><br>
</tt></p>
<p><tt>Variable</tt>&nbsp; &nbsp;cannot have more than two indices. If
only one index is written then it is considered as an absolute
(one-dimensional) index even for matrices. Matrix elements are counted
row-by-row, as
in C language. Absence of an&nbsp; <tt>index</tt>&nbsp; is regarded as
zero absolute index, that is, the variable refers to the first cell of
the data object. </p>
<h3> <a name="MS_FUNCTIONS"></a>3.3. Functions</h3>
<p> The Math Script interpreter permits usage of <a
 href="#MS_BUILTIN_FUNCTIONS"><b>built-in functions</b></a> in all
expressions.
As arguments, either <a href="#MS_AREX">arithmetic expressions</a> or <a
 href="#MS_BF_INTERVAL"><b>intervals</b></a> can be specified. </p>
<p><tt>Interval</tt> &nbsp;is a construction of the form &nbsp;<tt>x[ib:ie]</tt>,
which tells the function to process all cells of a vector or matrix
with indices fitting inside of &nbsp; <tt>ib:ie</tt>&nbsp; interval,
including &nbsp;<tt>ib</tt> &nbsp;and &nbsp;<tt>ie</tt> &nbsp;indices.
Syntax in BNF notation: </p>
<blockquote>
  <p><tt>&lt; function &gt; ::= &lt; function identifier &gt; ( &lt;
argument &gt; ) |</tt> <br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt; function
identifier &gt; ( &lt; argument &gt; , &lt; argument &gt; )<br>
  </tt> <br>
  <tt>&lt; argument &gt; ::= &lt; arithmetic expression &gt; | &lt;
interval &gt;</tt>&nbsp;</p>
  <p> <tt>&lt; interval &gt; ::= &lt; identifier &gt; |</tt> <br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;&lt; identifier &gt; [ &lt; index &gt; : &lt; index &gt; ] |</tt>
  <br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt; identifier &gt; [ &lt;
index &gt; : &lt; index &gt; ][ &lt; index &gt; : &lt; index &gt; ]</tt>
  </p>
</blockquote>
<p>Number of square brackets with indices or intervals cannot exceed
two. By default, <tt>[ 0:N-1 ] </tt>or <tt>[ 0:M-1 ]</tt> intervals
are taken, where&nbsp; <tt>N</tt>&nbsp; or&nbsp; <tt>M</tt>&nbsp; are
current dimensions in the data object descriptor referenced by the <tt>identifier</tt>.&nbsp;
</p>
<p><br>
</p>
<h3> <a name="MS_LOGIC"></a>3.4. Logical Expressions</h3>
<p>Internal predefined constants&nbsp; <tt>ONE_</tt>&nbsp; (true)
and&nbsp; <tt>NUL_</tt>&nbsp; (false) are used for logical values in
math scripts. Logical value <tt>NUL_</tt> is equal to the numerical
value 0.0. Any other value (greater than 1e-34) is considered as <span
 style="font-family: monospace;">ONE_</span>.&nbsp; </p>
<p>When a <b>logical expression</b> is calculated, any result
different from&nbsp;&nbsp; <tt>NUL_</tt>&nbsp;&nbsp; is considered as <tt>ONE_</tt>
(true). The syntax is: </p>
<blockquote><tt>&lt; logical expression &gt; ::= ( &lt; condition &gt; ?</tt>
  <br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;
arithmetic expression &gt; : &lt; arithmetic expression &gt; )</tt>
  <p> <tt>&lt; condition &gt; ::= &lt; term &gt; { \ &amp; | | \ &lt;
term &gt; }</tt> </p>
  <tt>&lt; term &gt; ::= &lt; relation &gt; | ( &lt; condition &gt; ) |
!&lt; condition &gt; |</tt> <br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;
arithmetic expression &gt;</tt> <br>
  <br>
  <tt>&lt; relation &gt; ::= &lt; arithmetic expression &gt;</tt><br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\ &lt; |
&lt;= | &gt; | &gt;= | = | &lt;&gt; \ &lt; arithmetic expression &gt;</tt>
</blockquote>
<p><br>
</p>
<h4><a name="MS_LOGOP"></a>Logical operations (in order of decreasing
priority): <tt>&nbsp; </tt></h4>
<h5><tt> </tt></h5>
<blockquote>
  <table border="1" cellpadding="2" cellspacing="2" width="100%">
    <tbody>
      <tr>
        <td>!<br>
        </td>
        <td> not &nbsp; <br>
        </td>
        <td><tt><big> &amp;</big></tt><br>
        </td>
        <td> and &nbsp; &nbsp;<br>
        </td>
        <td><tt><big> |</big></tt><br>
        </td>
        <td> or &nbsp; &nbsp; <br>
        </td>
      </tr>
    </tbody>
  </table>
</blockquote>
<p> </p>
<p><br>
</p>
<h4><a name="MS_COMPOP"></a>Comparison operations:&nbsp; <tt>&nbsp;</tt></h4>
<blockquote>
  <table border="1" cellpadding="2" cellspacing="2" width="100%">
    <tbody>
      <tr>
        <td><tt><big> &lt; &nbsp;</big></tt></td>
        <td> less than &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
        </td>
        <td><big> <tt> &lt;=&nbsp;</tt> </big></td>
        <td> less than or equal &nbsp; &nbsp; &nbsp; &nbsp;</td>
      </tr>
      <tr>
        <td><tt><big> &gt;</big></tt></td>
        <td> greater than</td>
        <td><big> <tt> &gt;=</tt> </big></td>
        <td> greater than or equal</td>
      </tr>
      <tr>
        <td><tt><big>=</big></tt></td>
        <td> equal </td>
        <td><big> <tt> &lt;&gt;</tt> </big></td>
        <td> not equal</td>
      </tr>
    </tbody>
  </table>
</blockquote>
<p> </p>
<p><b><font size="+1"><br>
Attention!</font></b> Logical expression must always appear in brackets
() in math scripts.&nbsp;</p>
<p> &nbsp; </p>
<h3> <a name="MS_COND"></a>3.5. Conditional Operator, Block and Cycle
Operator</h3>
<p> In addition to usual operators: </p>
<blockquote>
  <p><tt>&lt; operator &gt; =:: &lt; variable &gt; =: &lt; arithmetic
expression &gt; ; |</tt> <br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;&lt; variable &gt; =: (&lt; logical expression &gt;);</tt> </p>
</blockquote>
<p>math scripts can contain the <b>conditional operators</b> of the
form: </p>
<blockquote>
  <p><tt>&lt; opcond &gt; =::&nbsp; &nbsp;if( &lt; condition &gt;
)&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&lt; block &gt; </tt><br>
  <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;else &lt; block &gt; </tt><br>
  </p>
</blockquote>
<p>Here, &nbsp;the line beginning with &nbsp;"<tt>else</tt>"
&nbsp;keyword is optional and can be dropped.&nbsp; </p>
<blockquote>
  <p><tt>&lt; block &gt; =:: </tt><tt>begin &lt; operator &gt; { &lt;
operator &gt; } end |<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin &lt; opcond &gt;
{ &lt; operator &gt; } end <br>
  </tt> </p>
</blockquote>
<p><tt>&lt; block</tt> &gt;&nbsp; &nbsp; &nbsp;s a sequence of one or
more operators between the&nbsp; <tt>begin</tt> &nbsp;and &nbsp;<tt>end</tt>
&nbsp;keywords. <br>
<tt>&lt; opcond &gt;</tt>&nbsp; may be part of the <b>block</b>, i.e.
conditional operators can be nested (up to 3 levels in the present
implementation). <br>
</p>
<p>When a construct </p>
<blockquote>
  <p><tt>if ( &lt; condition &gt; ) <br>
&nbsp; &nbsp;&lt; block ONE_ &gt;</tt> <br>
  <tt>else &lt; block NUL_ &gt;</tt> </p>
</blockquote>
<p>is processed, first, the value of&nbsp; <tt>&lt;condition&gt;</tt>
&nbsp;is calculated. <tt>&lt; block ONE_ &gt;</tt>&nbsp; is executed
only when&nbsp; <tt>&lt; condition &gt;</tt>&nbsp; is not&nbsp; <tt>NUL_</tt>.
Otherwise, <tt>&lt; block NUL_ &gt;</tt>&nbsp; will be executed, if
present. </p>
<p><b>Cycle operator</b> &nbsp;is available in the simplest form: </p>
<blockquote>
  <p><tt>do ( &lt; condition &gt; )</tt> <br>
  <tt>&nbsp; &nbsp; &lt; block &gt;</tt> </p>
</blockquote>
<p>At execution, a value of <tt>&lt; condition &gt;</tt>&nbsp; after
the&nbsp; <tt>"do"</tt>&nbsp; keyword is calculated first. &nbsp;If it
is not&nbsp; <tt>_NUL</tt>&nbsp; then&nbsp; <tt>&lt; block &gt;</tt>&nbsp;
is executed,&nbsp; <tt>&lt; condition &gt;</tt>&nbsp; is checked
again,
and so on until <tt>&lt; condition &gt;</tt>&nbsp; will be equal
to&nbsp;
<tt>_NUL</tt>. After that, the operator following the end of&nbsp;
<tt>&lt; block &gt;</tt>&nbsp; will be executed. <br>
&nbsp; </p>
<h3> <a name="MS_OP_PRIORITY"></a>3.6. Priority of Operations</h3>
<p> Operations are listed from the highest to the lowest priority. In
one line, operations have the same priority. </p>
<blockquote>
  <p><tt><big>!</big>&nbsp;&nbsp;&nbsp;&nbsp; </tt>logical &nbsp;"not"
&nbsp; (unary)<br>
  <tt><big>&amp;</big>&nbsp;&nbsp;&nbsp;&nbsp; </tt>logical
&nbsp;"and" &nbsp;(binary)<br>
  <tt><big>|</big>&nbsp;&nbsp;&nbsp;&nbsp; </tt>logical &nbsp; "or"
&nbsp; (binary) </p>
</blockquote>
<blockquote>
  <p><big><tt>=</tt></big> &nbsp;equal to;&nbsp;&nbsp; <big><tt>&lt;&gt;</tt></big>&nbsp;
not equal to; <tt>&nbsp;<big>&lt;</big></tt>&nbsp; less than; &nbsp; <big><tt>&lt;=</tt></big>&nbsp;
not greater than;&nbsp; &nbsp;<big><tt>&gt;</tt></big>&nbsp; greater
than; <tt>&nbsp;<big>&gt;=</big></tt>&nbsp; not less than </p>
</blockquote>
<blockquote>
  <p><big><tt>-</tt></big> &nbsp;&nbsp; inversion of sign &nbsp;(unary)<br>
  <big><tt>^</tt></big>&nbsp; &nbsp; raise to power &nbsp;
&nbsp;(binary) </p>
</blockquote>
<blockquote>
  <p><big><tt>*</tt></big>&nbsp;&nbsp; &nbsp;multiply;&nbsp;&nbsp; <big><tt>/</tt></big>&nbsp;
divide &nbsp; &nbsp; <br>
  <big><tt>+</tt></big>&nbsp;&nbsp; &nbsp;add;&nbsp;&nbsp;&nbsp; <tt>&nbsp;
  <big>-</big></tt>&nbsp; subtract </p>
</blockquote>
<p>Sign inversion must be always written in brackets <tt>()</tt>
together with its single operand. <br>
Example: &nbsp;<tt>(-x[j])</tt>, not &nbsp;<tt>-x[j]</tt>.<br>
&nbsp; </p>
<h3> <a name="MS_CONST"></a>3.7. Constants</h3>
<p> Only integer or real numerical constants without sign are allowed
in <a href="#MS_AREX">arithmetic expressions</a>. </p>
<p>Negative numbers should be expressed as <tt>0-&lt;constant&gt;</tt>
or using the inversion of sign operation. </p>
<p>Examples of numerical constants: </p>
<blockquote>
  <p><tt>235 1.928 .000545 2e4 1.84478e-11 (-18) (-2.214e-6)</tt> </p>
</blockquote>
<p>A special numerical value EMPTY_ (no data) can be assigned using a
function&nbsp; <span style="font-family: monospace;">empty()</span>.&nbsp;
<br>
This function returns an internal EMPTY_ constant and thus can be used
in <a href="#MS_SYNTAX">assignment</a> and <a href="#MS_COMPOP">comparison</a>
operators. <br>
</p>
<p>Internal logical constants:&nbsp; <tt>NUL_</tt>&nbsp;
(false)&nbsp;&nbsp; <tt>ONE_</tt>&nbsp; (true).&nbsp; <span
 style="font-family: monospace;">NUL_</span> can be entered directly as
0;&nbsp; <span style="font-family: monospace;">ONE_</span> as 1.<br>
</p>
<p>&lt;Under construction&gt;&nbsp; - symbolic constants. <br>
&nbsp;&nbsp;&nbsp;&nbsp; Symbolic constants are strings of the form </p>
<p><tt>"&lt;s1&gt;...&lt;sn&gt;"</tt> </p>
<p>or sequences of ASCII characters <tt>&lt;s1&gt;, &lt;s2&gt;, ...
&lt;sn&gt;</tt>&nbsp; in quotation marks <tt>""</tt>. <br>
Such constants can be used only in <a href="#MS_COMPOP">comparison
operators</a>&nbsp; <tt>= or &lt;&gt;</tt>, and in the assignment
operator&nbsp; <tt>=: . </tt><br>
</p>
<p>In this version, only the first character of a string is used as an
integer number. <br>
In other words, the actual comparison occurs as&nbsp; <tt>&lt;s1&gt; =
</tt><tt>&lt;s2&gt;</tt>&nbsp; or&nbsp; <tt>&lt;s1&gt; &lt;&gt; </tt><tt>&lt;s2&gt;.
<br>
<br>
</tt> &nbsp;<br>
&nbsp;<br>
<br>
</p>
<hr size="2" width="100%">
<h2> <a name="MS_BUILTIN_FUNCTIONS"></a>4. Math Script Built-In
Functions</h2>
<p> Various <a href="#MS_BUILTIN_FUNCTIONS">built-in functions</a>&nbsp;
can be used in GEM-Selektor math scripts. These functions are
hard-coded, some of them can also be called from within the source
code. More (chemical) built-in functions are under construction. There
are three classes of functions: &nbsp;those <a href="#MS_BF_ARITHM">with
arithmetic arguments</a>; with <a href="#MS_BF_INTERVAL">interval
arguments</a>; and with index or without arguments (mainly <a
 href="#MS_BF_CHEMICAL">chemically-specific functions</a>).&nbsp; </p>
<p>During execution of math scripts, such common functions as
logarithms (<tt>
ln, lg</tt> ) or square root &nbsp;(<tt> sqrt )</tt> are called
directly from
C/C++ floating point math libraries and may return errors or exceptions
if
the argument value is wrong. Even though these exceptions are catched
in
the code of math script calculator, they still can occasionally cause
abnormal
behavior or crash of the program. </p>
<p><br>
</p>
<h3> <a name="MS_BF_ARITHM"></a>4.1. Functions with Arithmetic
Expressions as Arguments</h3>
<p> Before calling a function, its argument(s) will be evaluated
yielding double precision floating-point value(s). All functions&nbsp;
return a double precision result. In case of error, all functions
return 0. In the list below, x stands for any arithmetic expression
allowed in math scripts</p>
<br>
<table border="1" cellpadding="2" cellspacing="2" width="100%">
  <tbody>
    <tr>
      <td><tt><big><b>abs( x )</b></big></tt></td>
      <td> Absolute value of x </td>
    </tr>
    <tr>
      <td><tt><b><big>sign( x )</big></b></tt></td>
      <td> Sign of x (returns +1 or -1)</td>
    </tr>
    <tr>
      <td><tt><b><big>exp( x )</big></b></tt></td>
      <td> Exponent of x; e ^ x ( -70 &lt; x &lt; 70 )</td>
    </tr>
    <tr>
      <td><tt><big><b>sqrt( x )</b></big></tt></td>
      <td> Square root of x ( x &gt; 0 )</td>
    </tr>
    <tr>
      <td><tt><b><big>ln( x )</big></b></tt></td>
      <td> Natural logarithm of x ( x &gt; 0 )</td>
    </tr>
    <tr>
      <td><tt><b><big>lg( x )</big></b></tt></td>
      <td>Decimal logarithm of x ( x &gt; 0 ). Alternative:&nbsp;&nbsp;
log( x ) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </td>
    </tr>
    <tr>
      <td><tt><b><big>sin( x )</big></b></tt></td>
      <td>Sine of x ( x in radians; x &lt; 2^52 ) </td>
    </tr>
    <tr>
      <td><tt><b><big>sinh( x )</big></b></tt></td>
      <td> Hyperbolic sine of x</td>
    </tr>
    <tr>
      <td><tt><b><big>cos( x )</big></b></tt></td>
      <td> Cosine of x ( x in radians; x&lt; 2^52 )</td>
    </tr>
    <tr>
      <td><tt><b><big>cosh( x )</big></b></tt></td>
      <td> Hyperbolic cosine of x </td>
    </tr>
    <tr>
      <td><tt><b><big>tan( x )</big></b></tt></td>
      <td>Tangent of x </td>
    </tr>
    <tr>
      <td><tt><b><big>tanh( x )</big></b></tt></td>
      <td>Hyperbolic tangent of x</td>
    </tr>
    <tr>
      <td><tt><b><big>asin( x )</big></b></tt></td>
      <td>Arcsine of x (-1 &lt;= x &lt;= 1 )</td>
    </tr>
    <tr>
      <td><tt><b><big>acos( x )</big></b></tt></td>
      <td>Arccosine of x (-1 &lt;= x &lt;= 1 )</td>
    </tr>
    <tr>
      <td><tt><b><big>atan( x )</big></b></tt></td>
      <td>Arctangent of x</td>
    </tr>
    <tr>
      <td><tt><b><big>ceil( x )</big></b></tt></td>
      <td>Closest integer value greater than x</td>
    </tr>
    <tr>
      <td><tt><b><big> floor( x )</big></b></tt></td>
      <td>Closest integer value less than x</td>
    </tr>
    <tr>
      <td><tt><b><big>round( x )</big></b></tt></td>
      <td>x rounded to the closest integer</td>
    </tr>
    <tr>
      <td><tt><b><big>mod( x,y )</big></b></tt></td>
      <td>modulus operation - the remainder of dividing round(x) by
round(y)</td>
    </tr>
    <tr>
      <td><tt><b><big>erf( x )</big></b></tt></td>
      <td>Error function (real part)<br>
      </td>
    </tr>
    <tr>
      <td><tt><b><big>erfc( x )</big></b></tt></td>
      <td> Error function (complex part)</td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><tt><b><big>pow( x,y )</big></b></tt></td>
      <td style="vertical-align: top;">returns x^y&nbsp; (x to power y)<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<p><br>
</p>
<h3><a name="MS_BF_INTERVAL"></a>4.2. Functions with Interval Arguments</h3>
<br>
<br>
<table border="1" cellpadding="2" cellspacing="2" width="100%">
  <tbody>
    <tr>
      <td><b><tt>SUM( x[ib:ie][jb:je] )</tt></b></td>
      <td> Sum of all cells from the intervals &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </td>
    </tr>
    <tr>
      <td><b><tt>PROD( x[ib:ie][jb:je] )</tt></b></td>
      <td> Product of all cells </td>
    </tr>
    <tr>
      <td><b><tt>MAX( x[ib:ie][jb:je] )</tt></b></td>
      <td> Maximum value of all cells </td>
    </tr>
    <tr>
      <td><b><tt>MIN( x[ib:ie][jb:je] )</tt></b></td>
      <td> Minimum value of all cells </td>
    </tr>
    <tr>
      <td><b><tt>NULL( x[ib:ie][jb:je] )</tt></b></td>
      <td> Fills all cells with 0. Always returns 0 </td>
    </tr>
    <tr>
      <td><b><tt>ONE( x[ib:ie][jb:je] )</tt></b></td>
      <td> Fills all cells with 1. Always returns 1</td>
    </tr>
  </tbody>
</table>
<br>
<br>
<br>
<h3> <a name="MS_BF_CHEMICAL"></a>4.3. Functions Without Arguments and
Chemical Functions</h3>
<br>
<table style="width: 843px; height: 48px;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td><b><tt>empty( )</tt></b></td>
      <td> Returns an internal EMPTY_ value. Can be used in assignment
operators. <br>
Convenient in scripts for plotting the data. &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</td>
    </tr>
  </tbody>
</table>
<br>
<br>
Under construction! <br>
&nbsp; &nbsp; <br>
<p> &nbsp; </p>
<br>
<hr size="2" width="100%"> &nbsp;<br>
&nbsp;
<h2> <a name="MS_PREPROC"></a>5. Indexation in GEM-Selektor Lists and
Math Script Preprocessing</h2>
<h3>Name-Index Substitutions</h3>
Data structures for calculation of equilibria in GEM-Selektor are very
flexible; any independent component, species or phase can be excluded
from the run-time <a href="gems_ipm.html">GEM IPM</a> problem by
switching it off in the <a href="gems_sys.html">system definition</a>.
For this reason, a numerical index of a particular species or phase may
vary from one IPM task to another. Hence, it would be&nbsp; very
inconvenient to use explicit (numerical) indexes in math script
equations in the Phase, Proces and
GtDemo records. Instead, a big advantage would be to use names of
species
or componentsdirectly,&nbsp; instead of numerical indices, wherever
possible.&nbsp;
<p>To make math scripts better readable and compatible between
different system definitions, a preprocessing step is performed before
the actual translation and execution of the script. During
preprocessing, the names of phases,
species and compositions are identified, extracted and converted into
into
their actual run-time indexes. This is done automatically because the
program
knows which list of names is to be searched for a given data object
label
(see a confuguration file&nbsp; <tt>vis_od.ini</tt>). All the user has
to
do when writing the script is to put the species- or phase name in
braces
in place of the numerical index value, for instance: <tt>&nbsp;x[{CaCO3@}]</tt>
&nbsp;instead of &nbsp;<tt>x[24]</tt> . <br>
</p>
<p>During calculation of equilibria, two indexation systems exist in
the data
structures of GEM-Selektor. One system is defined by the full lists of
Independent
Components, Dependent Components, Phases, and PCO for the currently
open
<a href="gems_sys.html">System definition</a> in the <a
 href="gm_project.html">Project</a> data structure. This indexation is
used also in the vectors for thermodynamic data and system
configuration. </p>
<p>Usually, some elements, species and/or phases are switched off and
must be eliminated from the run-time lists. &nbsp;Therefore, another
set of
(usually smaller) lists of Independent Components, Dependent
Components,
and Phases is automatically created within the GEM IPM run-time data
structure "Multi" according to the configuration switches in the system
definition (i.e. currently loaded SysEq record).&nbsp; The second
indexation
system is also applied when a SysEq record is expanded for the GtDemo
data sampling.&nbsp;<br>
</p>
<p>Both the full (<a href="gems_sys.html">Project</a>) and the
condensed
(<a href="gems_ipm.html">Multi</a>) indexation systems are connected by
three special data objects&nbsp; <tt><a href="gems_ipm.html#mui">mui</a></tt>,
<tt><a href="gems_ipm.html#muj">muj</a></tt> and <tt><a
 href="gems_ipm.html#mup">mup</a></tt> that belong to the IPM runtime
(Multi) data structure. Given that<tt> i, j</tt> and <tt>k</tt> are
indexes of
an Independent Component, a Dependent Component and a Phase,
respecrively,
in the IPM runtime structure Multi, the respective indexes <tt>I, J</tt>,
and <tt>K</tt> for these components and phase in the System definition
can
be calculated as follows: <tt>I = mui[i]; J = muj[j]; K = mup[k]</tt>.
<br>
</p>
<p>For example, let us assign a value of normalized chemical potential
of Ca+2 &nbsp;ion to a Qd[2] work cell, assuming that Ca+2 is the sixth
species in aqueous phase in a particular equilibrium problem. This can
be written in the math script as (remember that indexation begins from
0): </p>
<p><tt>Qd[2] =: fMu[5];</tt> </p>
<p>But this writing is valid only within this particular case - if some
species will be turned off or on, or the script will &nbsp;be used in
another modelling project, the index of Ca+2 ion may become different
and the above operator will produce a wrong result. A more safe and
general expression (to be
preprocessed) looks like this: </p>
<p><tt>Qd[2] =: fMu[{Ca+2}];</tt> <br>
<tt></tt><br>
The preprocessor will locate the string in braces (<tt>"Ca+2"</tt>) and
look for the first match of it in the run-time list of species names <tt>DCnam</tt>
(in this example, the match will occur in 6-th line of the list). Then
the substring {Ca+2} will be substituted by 5, yielding <tt>Qd[2] =:
fMu[5];</tt> and later on, the operator which then will be translated
as
usual. </p>
<p>Another example: suppose that gypsum (CaSO<sub>4</sub>(H<sub>2</sub>O)<sub>2</sub>)
is included as a Dependent Component both in the System definition and
in the IPM runtime structure Multi. Then the stoichiometry coefficient
of Ca in gypsum can be obtained as: </p>
<p><tt>Qd[3] =: A[Ca}][{gypsum}];</tt> </p>
<p>Standard molar Gibbs energy of gypsum, taken from the thermodynamic
data vector in the modelling project structure, will be: </p>
<p><tt>Qd[4] =: &nbsp;gTP[{gypsum}];</tt> <br>
</p>
<p>or, alternatively (nested index expressions are allowed in math
scripts): <br>
</p>
<p><tt>Qd[4] =: &nbsp;gTP[ muj[{gypsum}] ];</tt> <br>
</p>
<p>The normalized standard molar Gibbs energy of gypsum, kept in the
thermodynamic data vector in the IPM runtime structure (Multi), can be
extracted in this way: </p>
<p><tt>Qd[5] =: g0[{gypsum}];</tt> </p>
<p>Note that the index for gypsum in the IPM runtime structure will
most
probably be different (smaller) than that for gypsum in the project
system
definition, if some independent or dependent components are switched
off.
<br>
</p>
<h4><br>
</h4>
<h3>Separation of Groups of Expressions</h3>
<p>A special preprocessing may be performed for math scripts the DcEq
field of Phase window. This is controlled by a switch&nbsp; <tt><a
 href="gm_phase.html#p_solt_4">p_solt[0,4]</a></tt> in<tt> </tt>Phase
records.&nbsp; If this switch is set in a <a
 href="g_useref.html#P_SOLT4">"private" mode</a> then a &nbsp;separate
group of math script expressions must be written for every phase
end-member. Each group is closed by <tt>"\@"</tt> characters that must
directly follow the <tt>";"</tt> symbol of the last operator in the
group. The groups of expressions must be placed in the same order as
the species in the <a href="gm_phase.html#pDC_v_"><tt>pDC_v_</tt></a>
list on Page 1 of the Phase window. <br>
</p>
<p>The preprocessing is necessary because, if a j-th species is
switched off
in the system definition, the respective "private" group of math script
operators
must be skipped from the math script execution. This is achieved by
looking
for the next (j-th) <tt>"\@" </tt>in the original math script text
and analyzing
whether the j-th end-member is included or not in the IPM run-time data
structure.
If the end-member is included, the whole group of operators will be
copied
into the math script text to be translated; otherwise, the program
proceeds
to the next end-member (and group).<br>
</p>
<p><br>
</p>
<hr size="2" width="100%">
<h2> <a name="MS_LIBRARY"></a>6. Template Math Script Library in
Kernel Database <br>
</h2>
<p>GEM-Selektor code comes with a collection of useful examples of math
scripts called "<a href="gm_sdref.html#MATH_SCRIPT_LIB">template math
script library</a>". &nbsp;<br>
</p>
<p>The purpose of this library (that will be extended in future
versions, also with users contribution) is to facilitate writing math
scripts in your modelling projects. Instead of writing "from scratch",
it is much easier to learn by doing - select the closest template
script, copy it, paste into the appropriate text field, and modify
(usually change names of components and phases, or some numerical
constants). This is why the library scripts are called "template" - in
almost all cases, they need modification to adjust the expressions to
your particular system formulation.&nbsp;<br>
</p>
<p>The template scripts are located in <a href="gm_sdref.html">SDref</a>
&nbsp;records
under keys beginning with <tt>"mscript"</tt> and ending with <tt>"phase"</tt>,
<tt>"rtparm", "proces"</tt> or <tt>"gtdemo"</tt> names of modules
where the
scripts can be executed. After opening any such record, you will find
the
scripts on Page 2 of SDref window. There, you can edit or add scripts
or
comments and save the record under a different key into the SDref
&nbsp;file
of your <a href="gp_howto.html">modelling project</a>. In this way,
you can
make your own library of your favourite template scripts and, later on,
even
share it with a colleage or with <a href="gm_about.html">GEMS2-PSI
Development
Team</a>. <br>
</p>
<p><tt><br>
&nbsp; <br>
<br>
</tt></p>
<hr size="2" width="100%">
<p><tt><br>
</tt></p>
<h2><a name="MS_ERROR_MESSAGES"></a>7. Error Messages<tt><br>
</tt></h2>
<p>There are three classes of error messages or warnings that can be
generated when GEM-Selektor processes the math script: preprocessing
messages; translation messages; and execution messages. In the first
two cases, the program will show you the message text together with the
remaining (not yet analyzed) text of the math script. <br>
</p>
<p>Usually, you will have an opportunity to make necessary corrections
by editing the text and saving the database record with edited script,
then the program will try processing it again. At the execution stage,
when an error message appears, the calculation will be stopped; you
will have to go
back to the record with the original script, correct it (or change some
data
in the record) and try the calculation again.<br>
<br>
</p>
<h3>Preprocessing Messages <br>
</h3>
<dl>
  <dt><b>E00MSPrep:</b> Identifier (variable) &lt;identifier&gt; is not
known.</dt>
  <dd>The &lt;identifier&gt; could not be found in the DOD label list
of GEM-Selektor.
Please, check writing (<a href="dod_labels.html">DOD labels</a> are
case
sensitive and cannot be longer than 6 characters!).</dd>
  <dd><br>
  </dd>
  <dt> <b>E01MSPrep: </b>Unknown indexation base for data object
&nbsp;&lt;identifier&gt;</dt>
  <dd>The &lt;identifier&gt; was found in the DOD label list, but is
indicated there as non-indexable (maybe, a scalar or a variable-size
text object). Please, check writing of &lt;identifier&gt; in the source
math script. &nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E02MSPrep:</b> Cannot substitute index for &nbsp;&lt;name&gt;</dt>
  <dd>Generic error message, caused by errors E04, E14, E05, E15, E06,
E16 and E07.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E03MSPrep:</b> Too long name for index substitution
&nbsp;&lt;name&gt; &nbsp; &nbsp; &nbsp;(&gt;38 characters)</dt>
  <dd>The name in braces {} is too long. Please, check the source
script -
maybe, a closing brace } is missing.</dd>
  <dd><br>
  </dd>
  <dt><b>E04MSPrep:</b> IC name cannot be found in Multi lists...
&lt;name&gt;</dt>
  <dd>The currently processed IC symbol in braces {}cannot be found in
the GEM IPM runtime structure. &nbsp;Make sure that this Independent
Component is switched on in the System definition, or the writing of IC
symbol is correct (case-sensitive!).</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E14MSPrep:</b> IC name cannot be found in Project lists...
&lt;name&gt;</dt>
  <dd>The currently processed IC symbol in braces {}cannot be found in
the System definition (Project) list. Make sure that the writing of IC
symbol is correct (case-sensitive!). Alternatively, check that the
correct data vector label is written in the script (i.e. you do not try
to find an IC index
for a vector with DC or Phase properties).</dd>
  <dd><br>
  </dd>
  <dt><b>E05MSPrep:</b> DC name cannot be found in Multi
lists...&lt;name&gt;</dt>
  <dd>The currently processed DC name in braces {}cannot be found in
the
GEM IPM runtime structure. &nbsp;Make sure that this Dependent
Component
is switched on in the System definition, or the writing of DC name is
correct
(case-sensitive!).</dd>
  <dd><br>
  </dd>
  <dt><b>E15MSPrep:</b> DC name cannot be found in Project
lists...&lt;name&gt;</dt>
  <dd>The currently processed DC name in braces {}cannot be found in
the
System definition (Project) list. Make sure that the writing of
Dependent
Component (species) name is correct (case-sensitive!). Alternatively,
check
that the correct data vector label is written (the vector should
contain
DC properties).</dd>
  <dd><br>
  </dd>
  <dt><b>E06MSPrep:</b> Phase name cannot be found in Multi
lists...&lt;name&gt;</dt>
  <dd>The currently processed Phase name in braces {}cannot be found in
the GEM IPM runtime structure. &nbsp;Make sure that this phase is
switched
on in the System definition, or the writing of phase name is correct
(case-sensitive!).</dd>
  <dd><br>
  </dd>
  <dt><b> E16MSPrep:</b> Phase name cannot be found in Project
lists...&lt;name&gt;</dt>
  <dd>The currently processed phase name in braces {}cannot be found in
the System definition (Project) list. Make sure that the writing of
phase name is correct (case-sensitive!). Alternatively, check that the
correct data vector label is written (the vector should contain
properties of phases). Check that you do not try to find an index of
single-component phase in
a data vector sized only for multi-component phases.</dd>
  <dd><br>
  </dd>
  <dt><b>E07MSPrep:</b> PCO name cannot be found in Project
lists...&lt;name&gt;</dt>
  <dd>The currently processed PCO name in braces {}cannot be found in
the System definition (Project) Compos name list. Make sure that the
writing of PCO (Compos) name is correct (case-sensitive!).
Alternatively, check that the correct data vector label is written (the
vector should apply to PCO, not DC or phases).</dd>
  <dd><br>
  </dd>
  <dt><b>W08MSPrep:</b> &lt;number&gt; of PCO indices found for the PCO
&lt;name&gt; -&gt;&lt;mode&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp;Take the first one and continue (Y) or cancel (N)?</dt>
  <dd>This warning means that,&nbsp;for a given PCO &lt;name&gt;, the
program found more than one match in the System definition (Project)
Compos list. We recommend that you cancel now, and re-consider your
math script to avoid this situation. The simplest workaround is to use
the name of a previous PCO in the list and increment the index, for
example: &nbsp;<tt>xa_[{previous_rock}+1] =: modC[J];</tt></dd>
  <dd><br>
  </dd>
  <dt><b>E08MSPrep:</b> Preprocessing cancelled by the user.</dt>
  <dd>This message confirms "Cancel" of math script preprocessing on
warning W08MSPrep.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E09MSPrep:</b> Invalid IC search mode parameter... &lt;name&gt;</dt>
  <dd>Wrong IC lookup code - please, report this error to the
developers.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E10MSPrep:</b> This modelling project has no PCO name lists.
&lt;name&gt;</dt>
  <dd>The script contains a Compos (PCO) name(s) but the Project was
configured without PCO vectors. Remove PCO names from the script or
re-create the project (PCO vectors are included by default). Check that
at least one Compos record is present in the Project database.</dd>
  <dd><br>
  </dd>
  <dt><b>E12MSPrep:</b> SolModLoad(): Missing operators group for a
phase endmember.</dt>
  <dd>When assembling the GEM IPM runtime structure, the program could
find less groups of operators in Phase DcEq script (in Private mode)
than this phase has end-members included into the IPM problem. Check
the math script in this phase record to make sure that the <tt>"\@"</tt>
separators are present after each operators group, including the last
one.</dd>
  <dd><br>
  </dd>
  <dt><b>W20MSPrep:</b> &lt;number&gt; of DC indices found for the DC
&lt;name&gt; -&gt;&lt;mode&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp;Take the first one and continue (Y) or cancel (N)?</dt>
  <dd>This warning means that,&nbsp;for a given DC &lt;name&gt;, the
program found more than one match in the System definition (Project) DC
list. We recommend that you cancel now, and re-consider your math
script to avoid this
situation. The simplest workaround is to use the name of a previous
Dependent
Component in the list and increment the index, for example: &nbsp;<tt>y0[jR][1]
=: x[{previous_species}+1]; </tt>make sure that the previous species
is not switched off in the System definition.</dd>
  <dd><br>
  </dd>
  <dt><b>E20MSPrep:</b> Preprocessing cancelled by the user.</dt>
  <dd>This message confirms "Cancel" of math script preprocessing on
warning W20MSPrep.</dd>
  <dd><br>
  </dd>
  <dt><b>W21MSPrep:</b> &lt;number&gt; of Phase indices found for the
phase &lt;name&gt; -&gt;&lt;mode&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp;Take the first one and continue (Y) or cancel (N)?</dt>
  <dd>This warning means that,&nbsp;for a given phase &lt;name&gt;, the
program found more than one match in the System definition (Project) DC
list. We recommend that you cancel now, and re-consider your math
script to avoid this
situation. The simplest workaround is to use the name of a previous
phase
in the list and increment the index, for example: &nbsp;<tt>y0[jR][1]
=:
PhM[{previous_phase}+1]; </tt>make sure that the previous phase is not
switched off in the System definition. In general, the phase names must
be
unique at least within the modelling project database; consider
renaming one
of the conflicting phases in the "Thermodynamic Database" mode.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E21MSPrep:</b> Preprocessing cancelled by the user.</dt>
  <dd>This message confirms "Cancel" of math script preprocessing on
warning W21MSPrep.</dd>
  <dd><br>
  </dd>
</dl>
<hr size="2" width="100%">
<h3>Translation Messages</h3>
<dl>
  <dt><b>E00MSTran:</b> Math Script operator syntax error.&nbsp;</dt>
  <dd>The preceding math script operator could not be parsed. Check
that the
syntax is correct. A frequent reason is that a comment line does not
begin
with a <tt>"$"</tt> character.</dd>
  <dd><br>
  </dd>
  <dt><b>E01MSTran:</b>&nbsp; Missing \"&nbsp; in string constant.</dt>
  <dd>String constant is too long, probably a closing " character is
missing. Correct the script and try again.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E02MSTran:</b> &nbsp;Function &lt;function name&gt; is not
defined.</dt>
  <dd>Wrong function name, check it in the <a
 href="#MS_BUILTIN_FUNCTIONS">functions list</a> (case sensitive),
correct the script and try again.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E03MSTran:</b> &nbsp;Missing identifier of interval:
&lt;text&gt;.</dt>
  <dd>In the interval function operand, the identifier (variable name)
is missing. Correct the script and try again.</dd>
  <dd><br>
  </dd>
  <dt><b>E04MSTran:</b> &nbsp;Missing &nbsp;bracket &nbsp;) :
&lt;text&gt;. &nbsp;(also error E34)&nbsp;</dt>
  <dd>The closing bracket could not be found before the end of operator
(<tt>";"</tt>) was encountered. Correct the script and try again.</dd>
  <dd><br>
  </dd>
  <dt><b>E14MSTran:</b> &nbsp;Missing &nbsp;bracket ( : &lt;text&gt;.
&nbsp;(also error &nbsp;E24)&nbsp;</dt>
  <dd>More of the closing brackets was found before the end of
expression than the opening brackets. Correct the script and try again.</dd>
  <dd><br>
  </dd>
  <dt><b>E05MSTran:</b> Unexpected end of Math Script text. (also
errors E15,
E25, E35, E45 )</dt>
  <dd>End of source text encountered before the expression could be
fully parsed (i.e. until <tt>";"</tt> symbol occurred).&nbsp;</dd>
  <dd>Correct the script and try again.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E06MSTran:</b> Variable &lt;identifier&gt; &nbsp;is not known.
&nbsp;(also error E16)&nbsp;</dt>
  <dd>The previously processed name &lt;identifier&gt; could not be
found in the GEM-Selektor DOD name list. Correct the misprint (case
sensitive!) and try again.</dd>
  <dd><br>
  </dd>
  <dt><b>E07MSTran:</b> Math script contains no operators.</dt>
  <dd>Check that the math script text is provided in the proper field,
or remake the record to make sure that no math script processing is
requested (for Phase or Process records).&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E08MSTran:</b> Assignment needs =: &nbsp;&lt;text&gt;&nbsp;</dt>
  <dd>A frequent misprint - the comparison operator <tt>"="</tt> is
typed on place of the preceding assignment operator <tt>"=:"</tt>.
Correct the script and try again.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E09MSTran:</b> Expression is needed here: &nbsp;&lt;text&gt;
&nbsp;(also errors E19, E29)</dt>
  <dd>The ";" symbol occurs immediately after the assignment operator,
the expression is missing (probably, commented out). Correct the script
and try again.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E10MSTran:</b> Identifier (variable) is needed here:
&nbsp;&lt;text&gt;</dt>
  <dd>The variable name is missing before index expression (in []).
Correct the script and try again.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E11MSTran:</b> Invalid characters at the end of expression:
&nbsp;&lt;text&gt;</dt>
  <dd>Please check the script; if the script is Ok, report this error
to the
developers.</dd>
  <dd><br>
  </dd>
  <dt><b>E12MSTran:</b> Missing keyword &nbsp;begin :
&nbsp;&lt;text&gt; &nbsp;(also
error E22)</dt>
  <dd>Please, reconsider the script text after <tt>if(), else</tt> or <tt>do()</tt>
operators, put <tt>begin</tt> or <tt>end</tt> keywords where
necessary, and try again.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E13MSTran:</b> Missing keyword &nbsp;end : &nbsp;&lt;text&gt;
&nbsp; &nbsp;(also error E23)</dt>
  <dd>Please, reconsider the script text after <tt>if(), else</tt> or <tt>do()</tt>
operators, put <tt>begin</tt> or <tt>end</tt> keywords where
necessary, and try again.</dd>
  <dd><br>
  </dd>
  <dt><b>E19MSTran:</b> Operation stack overflow. (also error E29)&nbsp;</dt>
  <dd>The most probable reason is a negative numerical constant without
brackets. If not, report this error to the developers.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E20MSTran:</b> No match of brackets ( and ) : &lt;text&gt;
&nbsp;(also error E30)</dt>
  <dd>There is no match of brackets within an expression or an if()
operator. Correct the script and try again.</dd>
  <dd><br>
  </dd>
  <dt><b>E21MSTran:</b> Invalid symbol of operation: &lt;text&gt;</dt>
  <dd>Wrong symbol of operation (where unary or binary operation is
expected). Correct the script and try again.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E90MSTran:</b> Error in translation of Math Script:
&lt;text&gt;&nbsp;</dt>
  <dt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp;Would you like to make corrections now?<br>
  </dt>
  <dd>This is a generic message that follows any specific error message
from the math script translator. You should press "Yes" to fix the
script immediately and try calculation again, or "No" to cancel
calculations and re-consider the script or the System definition
later.&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><b>E91MSTran:</b> Error in translation of GtDemo math script
&lt;text&gt;&nbsp;</dt>
  <dt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp;Would you like to make corrections now?<br>
  </dt>
  <dd>See explanation to error E90.</dd>
  <dd><br>
  </dd>
  <dt><b>E92MSTran:</b> Error in GtDemo math script for empirical data
&lt;text&gt;&nbsp;</dt>
  <dt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp;Would you like to make corrections now?</dt>
  <dd>See explanation to error E90.</dd>
  <dd><br>
  </dd>
  <dt><b>E93MSTran:</b> Error in translation of Process Simulator math
script &lt;text&gt;&nbsp;</dt>
  <dt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp;Would you like to make corrections now?</dt>
  <dd>See explanation to error E90.</dd>
  <dd><br>
  </dd>
  <dt><b> E94MSTran:</b> Error in translation of Process Demo Sampler
math script &lt;text&gt;&nbsp;</dt>
  <dt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp;Would you like to make corrections now?</dt>
  <dd>See explanation to error E90.</dd>
  <dd><br>
  </dd>
  <dt><b> E95MSTran:</b> Error in translation of RTParm math script.
&lt;text&gt;&nbsp;</dt>
  <dt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp;Would you like to make corrections now?</dt>
  <dd>See explanation to error E90.</dd>
  <dd><br>
  </dd>
  <dt><b> E96MSTran: </b>Error in RTParm math script for empirical
data. &lt;text&gt;&nbsp;</dt>
  <dt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp;Would you like to make corrections now?</dt>
  <dd>See explanation to error E90.</dd>
  <dd><br>
  </dd>
  <dt><b>E97MSTran:</b>&nbsp; Error in Phase non-ideality model math
scripts: &lt;text&gt;&nbsp;</dt>
  <dt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; Would you like to make corrections now?</dt>
  <dd>Preprocessing and translation of Phase math scripts occurs not
when the Phase record is calculated, but when the GEM IPM runtime data
structure (Multi) is assembled. This message means that the math script
in one of included Phase definitions contains errors. Please, edit the
script(s) in that Phase record to correct the problem.</dd>
  <dd><br>
  </dd>
</dl>
<hr size="2" width="100%">
<h3>Execution Messages</h3>
<dl>
  <dt><b>E00MSExec:</b> Illegal function code (also error E20)</dt>
  <dd>The binary (translated) math script code is corrupt. Please,
report this error to developers.</dd>
  <dd><br>
  </dd>
  <dt><b>E01MSExec:</b> Illegal conditional goto command.</dt>
  <dd>Check the math script logics (usage of conditional if()
operator). Maybe,
a begin-end block is missing after if() or else operators.</dd>
  <dd><br>
  </dd>
  <dt><b>E02MSExec:</b> Illegal unconditional goto command.</dt>
  <dd>Check the math script logics (usage of cycle operator). Maybe, a
begin-end block is missing after do()&nbsp; operator.</dd>
  <dd><br>
  </dd>
  <dt><b>E03MSExec:</b> No operands left in execution stack. (also
errors E13, E23)&nbsp;</dt>
  <dd>Check the math script logics (maybe, some operands are missing
for binary
operators).</dd>
  <dd><br>
  </dd>
  <dt><b>E04MSExec:</b> Attempt of zerodivide!</dt>
  <dd>Absolute value of a denominator was &lt; 1e-33. Reconsider the
script by adding a conditional operator that detects a possible
zerodivide situation. <br>
  </dd>
  <dd><br>
  </dd>
  <dt><b>E05MSExec:</b> Illegal binary operator code.</dt>
  <dd>The binary (translated) math script code is corrupt. Please,
report this error to developers.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E06MSExec:</b> Illegal unary operator code.&nbsp;</dt>
  <dd>The binary (translated) math script code is corrupt. Please,
report this error to developers.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E07MSExec:</b> Attempt of sqrt() argument &lt;= 0.</dt>
  <dd>Value of argument was &lt; 1e-33. Reconsider the script by adding
a conditional operator that would detect and avoid such exception
situation.&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E08MSExec:</b> Attempt of ln() argument &lt;= 0.</dt>
  <dd>Value of argument was &lt; 1e-33. Reconsider the script by adding
a conditional operator that would detect and avoid such exception
situation.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E09MSExec:</b> Attempt of lg() argument &lt;= 0.</dt>
  <dd>Value of argument was &lt; 1e-33. Reconsider the script by adding
a conditional operator that would detect and avoid such exception
situation.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E10MSExec:</b> Attempt of asin() |argument| &lt; 0.</dt>
  <dd>Absolute value of argument was &lt; 1e-33. Reconsider the script
by adding a conditional operator that would detect and avoid such
exception situation.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E11MSExec:</b> Attempt of acos() |argument| &lt; 0.</dt>
  <dd>Absolute value of argument was &lt; 1e-33. Reconsider the script
by adding a conditional operator that would detect and avoid such
exception situation.</dd>
  <dd><br>
  </dd>
  <dt><b>E12MSExec:</b> Missing mod() argument(s).</dt>
  <dd>Function mod() must have two arguments - check in the source
script.</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><b>E14MSExec:</b> Missing interval function argument(s).</dt>
  <dd>One or both arguments of an interval function are missing.
Probably, these dynamic data objects were deallocated or have
dimensions smaller than the specified intervals.&nbsp;Please, report
this error to developers.</dd>
  <dd><br>
  </dd>
  <dt><b>E15MSExec:</b> Missing interval function code.</dt>
  <dd>Function code was not found in the execution stack. Please,
report this
error to developers.</dd>
  <dd><br>
  </dd>
  <dt><b>E16MSExec:</b> Invalid element code in execution stack.</dt>
  <dd>Please, report this error to developers.</dd>
  <dd><br>
  </dd>
  <dt><b>E17MSExec:</b> Stack is not empty after execution.</dt>
  <dd>Check the script logics (begin-end blocks, brackets around
negative numerical constants, brackets around short conditional
arithmetic operators). If it does not help, report the error to
developers. <br>
  </dd>
</dl>
<hr size="2" width="100%">
<p><br>
&nbsp;&nbsp; <tt><a
 href="file:///C:/GEMS2test/program/doc/html/index.html">To Contents</a>
&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;<a
 href="file:///C:/GEMS2test/program/doc/html/g_about.html">About
GEM-Selektor</a> </tt><br>
</p>
<p><tt><br>
end of file</tt> <br>
&nbsp; </p>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</body>
</html>
