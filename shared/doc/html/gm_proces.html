<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <meta name="GENERATOR"
 content="Mozilla/4.7 [en] (WinNT; I) [Netscape]">
  <title>GEMS Process Module Manual</title>
  <meta name="description" content="Version 2.0.0-PSI">
</head>
<body>
<h1><img src="gems1.png" height="48" width="48" align="left"> <font
 color="#000066"> GEM-Selektor version 2-PSI</font> </h1>
<h2>Process Simulation (Proces) Module Manual</h2>
<hr width="100%" size="2">
<p> </p>
<h3>Contents</h3>
<blockquote>
  <p><font face="Helvetica, Arial, sans-serif"><a
 href="#PROCESS_OPERATION">1. Process module operation</a></font></p>
  <p><font face="Helvetica, Arial, sans-serif"><a href="#PROCESS_CREATE">1.1.
Creating and Modifying Process Simulators<br>
  </a></font></p>
  <p><font face="Helvetica, Arial, sans-serif"><a
 href="#PROCESS_SIM_ITERATORS">1.2. Setting up the Process iterators</a><a
 href="#PROCESS_SIM_MATH_SCRIPT"><br>
  </a></font></p>
  <p><font face="Helvetica, Arial, sans-serif"><a
 href="#PROCESS_SIM_MATH_SCRIPT">1.3. Writing Process simulation math
scripts</a></font></p>
  <p><font face="Helvetica, Arial, sans-serif"><a
 href="#PROCESS_SAMPL_MATH_SCRIPT">1.4. Writing Process data sampling
math   scritps</a></font></p>
  <p><font face="Helvetica, Arial, sans-serif"><a href="#PROCESS_RUN">1.5.
Running Process Simulators</a></font></p>
  <p><font face="Helvetica, Arial, sans-serif"><a
 href="#PROCESS_PLOT_EXPORT">1.6. Plotting and exporting results</a></font> </p>
  <p><font face="Helvetica, Arial, sans-serif"><a
 href="#PROCESS_SPECIAL">1.7. Special cases of &nbsp;Process Simulators</a></font></p>
  <p><font face="Helvetica, Arial, sans-serif"><a
 href="#INVERSE_TITRATION">1.7.1. Inverse titrations</a></font></p>
  <p><font face="Helvetica, Arial, sans-serif"><a
 href="#SEQUENTIAL_REACTORS">1.7.2. Sequential reactors</a><br>
  </font> </p>
  <p><font face="Helvetica, Arial, sans-serif"><a
 href="#LIPPMANN_DIAGRAMS">1.7.3. Lippmann diagrams</a><br>
  </font> </p>
  <p><font face="Helvetica, Arial, sans-serif"><a href="#PROCESS_DOD">2.
Description of data entries</a></font></p>
  <p><font face="Helvetica, Arial, sans-serif"><a href="#PROCESS_ERRORS">3.
Warnings and error messages</a></font></p>
</blockquote>
&nbsp;<br>
<hr width="100%" size="2"><br>
<h2><a name="PROCESS_OPERATION"></a>1. Process Module Operation</h2>
<p> Geochemical modeling often requires simulation of <a
 href="glossary.html#DT_irreversible">irreversible processes&nbsp;</a>such
as mixing, dissolution, titration, corrosion, weathering, etc.&nbsp;
According   to the<a href="glossary.html#DT_Local_equilibrium">
principles of local</a> and <a
 href="glossary.html#DT_Partial_equilibrium">partial equilibrium</a>,  
this can be  done by computing a series of discrete <a
 href="glossary.html#DT_equilibrium">equilibrium  states</a> generated
by   a stepwise change of the bulk composition and other  input
parameters of  the chemical system. Doing this in manual mode (i.e.
defining such equilibrium   states one-by-one ) is usually boring and
time-consuming, especially in the  case of certain <i>regular</i>
change of bulk composition of the system.  The "manual" data sampling
with graphic or tabular presentation of modeling  results would be even
more work-intensive. Hence, the automation of "batch"   calculation of
many equilibrium states and sampling of results is of critical 
importance for the efficiency of the whole modelling exercise. </p>
<p>For these reasons, a Process Simulator module (and "proces" record
type)   has been    implemented in the GEM-Selektor code. The module is
quite flexible;&nbsp;   it can  rapidly generate many equilibrium
"points" by changing virtually  any combination  of GEM IPM input data
(see <a href="gems_bcc.html"><tt>gems_bcc.html</tt></a> and <a
 href="gems_scm.html"><tt>gems_scm.html</tt></a> manuals), store the  
results (see <a href="gems_sys.html"><tt>gems_sys.html</tt></a> manual)
in the <a href="gm_syseq.html">SysEq</a> database, and at the same
time, sample and plot any IPM output data (or function of it),
optionally together with  some experimental points. To tell the program
what input data to modify   and  what output data to sample, you have
to provide two <a href="gmscript.html">Math  Scripts</a> that control
generation of the simulated   points (<a href="#P_expr"><tt>P_expr</tt></a>)
and data sampling (<a href="#pgExpr"><tt>pgExpr</tt></a>),
respectively.&nbsp; </p>
<p>There are three major classes of process simulators: </p>
<ul>
  <li>
    <p>"<b>S</b>" (sequential, or simple) simulation  implies that the
next   step of the process <b>does not depend</b> on any calculated
parameters of  equilibrium obtained at the previous step. This is true
for temperature-pressure      changes, <a
 href="glossary.html#DT_titration_direct">direct titrations</a>,   and
simple reaction extent models like dissolution    of a fixed rock
composition.&nbsp; </p>
  </li>
  <li>
    <p>"<b>U</b>" (reciprocal) simulation means  that the next step <b>depends
on some just calculated parameters</b> of the current equilibrium state,
for instance, on pH, pe, bulk composition of equilibrium phases,
activity   of some species etc. Typical examples are <a
 href="glossary.html#DT_sequential_reactors">sequential reactors</a>, <a
 href="glossary.html#DT_titration_inverse">inverse titrations</a>, and
kinetically   controlled processes that depend on pH, pe, gas
fugacities, or dissolved  metal  concentrations.</p>
  </li>
  <li>
    <p>"<b>G</b>" (inverse) simulation produces one or several
local/partial   equilibrium states found from a <b>parametric
minimization</b> (using the   golden-section   method) of a difference
between the prescribed and the calculated  value of  a GEM IPM output
parameter. The most typical example is the <a
 href="glossary.html#DT_titration_inverse">"inverse titration" </a>
that calculates a number of aquatic equilibria for the prescribed values
of pH, pe or any other output parameter. </p>
  </li>
</ul>
<p>In the case  of inverse titration, the program automatically runs
several   IPM calculations by varying certain input parameters, such as
the amount   of titrant (acid, base, oxidant  or reductant), until
finding such input  values that bring the "objective" parameter (e.g.
the equilibrium pH) close  enough to its prescribed value. This is done
using an internal "golden section"   algorithm;  when it converges
(usually between 3 and 16 IPM runs), the program   stores  the results
into database and proceeds to the next simulation point.   The "inverse
titration" procedure requires a special form of <a href="gmscript.html">Math
Script</a>, available in  the <a href="gm_sdref.html#MATH_SCRIPT_LIB">template
math script library</a>. <br>
&nbsp;<br>
It is impossible to foresee and hard-code all the meaningful process
simulations of interest to (geo)chemists because any simulation depends
on the system    definition and the modeling objectives. For this
reason, the GEM-Selektor    code requires the user to specify exactly
what and how to simulate by writing    Math Scripts. This provides an
unmatched freedom and flexibility, but at   the same time requires some
learning effort. To facilitate writing Math  Scripts, we provide a
collection of useful template scripts in the <a
 href="gm_sdref.html#MATH_SCRIPT_LIB">math script  template library</a>.
You can get these template scripts any time by clicking  on the "Help"
"Scripts"  menu command in the Process window.&nbsp; </p>
<p>A Process Simulator record refers through its <a
 href="gdb_rkey.html#dbm_Process">record key format</a> to a <a
 href="gm_syseq.html">SysEq record</a> that must exist in the database
before   the process simulator will be created  and executed. This
"parent" SysEq  record is used as a template which is modified and
"cloned" into a sequence  of generated SysEq records. For this reason,
the first eight&nbsp; fields  of the <a
 href="gdb_rkey.html#dbm_Process">Proces record key</a> are the same as
in   its parent <a href="gdb_rkey.html#dbm_SysEq">SysEq record key</a>,
followed   by the process identifier and type fields.&nbsp; The parent
SysEq  record  is never changed by the process simulator; it is just
used as a template   to start calculations and generate new, modified
SysEq records on the simulation   steps. </p>
<p>Process simulation, especially in the case of fitting the model to
some   empirical data, can be greatly facilitated by using the data
sampling and     plotting functionality of the Process module (not
available in GEMS versions     before 1.95). If the sampling/plotting
mode is invoked and the data sampling     Math Script (<a href="#pgExpr"><tt>pgExpr</tt></a>)
is provided then it   will  be executed immediately after calculation
of every process-generated   equilibrium  points. When the process
simulation is finished, the sampled   data can be plotted just by
pressing the "Plot" toolbar button, or exported   into the ASCII file
using a print script from the script library. Moreover,   next time you
can run the process simulation again in such a way that the   newly
generated points will be added one-by-one to the existing graph.<br>
&nbsp;<br>
&nbsp;<br>
</p>
<h3><a name="PROCESS_CREATE"></a>1.1. Creating and Modifying Process
Simulators<br>
</h3>
<p>To create a new Process Simulator, first make sure that the "parent"
SysEq   record has been created, calculated and saved in the database.
Then switch    to the "Process" window and select the "Record" "Create"
menu command. A  list of available SysEq records will appear; find
there the "parent" record   (suppose, its key is <tt>"TestProject:G:TestSystem:1:0:1:25:0:"</tt>),
select   it and press the "Ok" button (or double-click on the selected
record key).   In the appearing "Process: Please, enter a new key"
dialog, fill out the  last two fields of the new Process record key
(e.g. as <tt>"...:Titration1:S:"</tt>).   Press "Ok" when ready.&nbsp;<br>
&nbsp; <br>
Now, a "Setup to Create Process:" wizard appears. On the first tab
"Process   Simulation Types", select  a desired process simulation type
(mode); default   is <span style="font-family: monospace;">"S"</span> -
a direct change of  bulk composition. A checkbox "Use stepwise mode"
below (default - unchecked),  if checked, causes the program to run the
process simulator in a "stepwise"  mode, where you can stop the
automatic run and execute main process simulation  steps one-by-one,
then resume or cancel the simulation (see also the <a
 href="#PROCESS_RUN">"Running process simulators" chapter</a> and <a
 href="#PePsts_0"><span style="font-family: monospace;">PePsts[0]</span></a>
flag). In the normal (non-stepwise) mode, there is no way to stop the
simulation   run until it is finished or an error occurs. Hence, the
"stepwise" mode would  be preferential for debugging of the
newly-created process simulators or for calculation of long simulation
sequences using the large chemical system.<br>
</p>
<p>On the second tab "Dimensions and Graphics", you must set a number
of process-generated points (equilibria; 17 to 51 points are
recommended for nice-looking plots). Other fields are optional, but  in
many cases useful (press "Help" for more information or consult the <a
 href="process_setup.html"><font size="+1"><tt>process_setup.html</tt></font></a>
file). For instance, the <a href="#modC"><tt>modC</tt></a> array can be
used for entering some input parameters that specify each&nbsp;  point
to be generated, or for collecting addition(s) of titrant(s) in an
inverse titration sequence. Setting a positive number of plots will
invoke the data  sampling/ plotting mode; you have to decide now how
many columns (plot lines)  with output data you need. If the plotting
is invoked, you can also define how  many lines and columns you need
for typing in the empirical (experimental) data to be shown as
scattered symbols over the simulation  plots. Finally, you can change
the number of references to bibliographic (SDref) records.&nbsp; Press
"Ok" when finished - you are now ready to set up the process iterators
 and write  up the math scripts. The Process Simulator can be
re-configured at any time by executing a "Record" "Remake" menu
command.&nbsp; <br>
</p>
<p>Alternatively, as usual in GEM-Selektor, you can "clone" a new
Process   record from an existing one. After selection of a "parent"
SysEq record key  and typing in the Process ID and type, this will lead
you into the "Remake"   mode where you see a standard "Process: Remake
parameters" dialog. Here,  you have a full control over configuration
and behavior of the process simulator;   read the tooltips and help
pages (in this manual below) for setting up flags   and counters. To
clone the Process record without getting into "Remake" mode,  execute
the "Record" "Save As" menu command and make a new Proces record key. </p>
<p><br>
</p>
<h3><a name="PROCESS_SIM_ITERATORS"></a>1.2. Setting up the Process
iterators</h3>
<p>Now, you should see Page 1 of the "Process" window with empty or
zero data  fields (or non-zero values in the case of "cloning" from
another Process   record).  Variants   of the process simulation can be
set up using one or   more of column   vectors ("iterators")&nbsp; <tt>"iTm",
"iV", "iP", "iTC",   "iNv", "iTau", "ipXi", "iNu",   "ipH", "ipe"</tt>.
Scan them with mouse pointer  and read tooltips. Each   of the
iterators has the following structure: </p>
<blockquote>
  <p><tt>first cell&nbsp; [0]&nbsp; start value</tt> <br>
  <tt>second cell [1]&nbsp; limiting value</tt> <br>
  <tt>third cell&nbsp; [2]&nbsp; increment (or 0 for no change)</tt> </p>
</blockquote>
<p>The first five iterators are automatically used by the program to
assemble   the last five fields of the generated SysEq record keys.
Make sure that the  respective    values will not exceed length limits
of <a href="gdb_rkey.html#dbm_SysEq">SysEq record key   format</a>. In
the&nbsp; <tt>"iTm"</tt> specification, it is wise to put  increment
larger than 1  (at best, 5 or 10) if the process simulation  will
change bulk composition  of the system. This may give you a possibility
later on for producing more  points in the most interesting parts of
the sequence (e.g., near a redox barrier).</p>
All iterators have their counterparts - the work cells&nbsp;<tt> "cTm",
 "cV", "cP", "cT",  "cTC", "cNv", "cTau", "cpXi", "cXi", "cNu", "cpH",
"cpe",  "cEh"</tt>, and the Process index cell <tt>&nbsp;"J"</tt>,
all visible on&nbsp; <tt>Page 2</tt>&nbsp; of the "Process" window.
The process simulation begins  when you press the "Calculation" button
on the Process window toolbar (or  execute the "Record" "Calculate"
menu command). At this point, the index cell <tt>"J"</tt> contains 0
and the work cells are loaded with the respective  start    values
from the iterators.&nbsp; <br>
&nbsp; <br>
The <tt>"Next"</tt> data cell contains 1, which means that the next
process point is to be simulated. When the&nbsp;<tt>"Next"</tt> cell
contains 0,  the simulation is finished. This will happen automatically
when the pre-defined    limit is achieved in any of the work cells
connected to iterators; the current  point index <tt>"J"</tt> will be
greater or equal than the total input number  of points to generate; or
the&nbsp;<tt>"Next"</tt> cell will be set to 0 in the <tt>"P_expr"</tt>
math script. Note that the program will first increment  the iterator
work cells and then execute Math Scripts, first &nbsp;the <tt>"P_expr"</tt>
and next, after calculating the equilibrium state, - the <tt>"pgExpr"</tt><tt> </tt>math
script. This means that the <a href="gmscript.html">math scripts</a>
may override the default behavior of the Process Simulator algorithm if
they change contents of any work cells listed above. After the
equilibrium point is computed and the optional <tt>"P_expr"</tt><tt> </tt>math
script is executed, the next SysEq record key will be assembled, put in
the <tt>"PeStl"</tt> list (seen on Page 3 of the Process window), and
the record will be saved  into the database if the &nbsp;<tt>PePsts[4]</tt>
flag is turned on. If the&nbsp;<tt>"Next"</tt> cell contains 1, the
program will proceed to the next simulation point.&nbsp;
<p>Now, let us come back to Page 1 of the "Process" window. We
recommend at once  to fill out the <tt>"PeName", "PeNote", "PSDref",</tt>
and&nbsp; <tt>"PSDval"</tt> comment fields in such a way  that after a
month or two you could still easily recall what this process simulator
is doing. Creation of a "process simulation log page" would be highly
recommended at this point. To do this, type in the <tt>"PSDref"</tt>
field a new <a href="gdb_rkey.html#dbm_SDref">SDref record key</a> like
this: <tt>"process_{name}:{year}:log:"</tt>, where <tt>{name}</tt>
stands for the process ID (see field 8 of the <a
 href="gdb_rkey.html#dbm_Process">Process record key</a>), and <tt>{year}</tt>
is the current year. Press <tt>Enter</tt> and then <tt>F2</tt>. This
will   open a "SDref" window, which you can fill out and save the new <a
 href="gm_sdref.html">SDref record</a> into your project database file.
In   the <tt>"SDabst"</tt> editor field on Page 2, you can now describe
why and   how did you create the process definition, what it is
supposed to do and  what results are to be sampled. This description
can be continued in the future every time when you access the Process
record and press <tt>F2 </tt>after   clicking on the <tt>"PSDref"</tt>
field.&nbsp; <br>
</p>
<p>Now, continue by going through the first five process iterators (<tt>"iTm",
"iV", "iP",  "iTC", "iNv"</tt>) and setting up there what has to be
changed   and what is to be kept constant in  the respective fields of
generated <a href="gdb_rkey.html#dbm_SysEq">SysEq record keys</a>. For
instance, if only    the bulk composition of the system will be changed
from one point to another    at constant pressure 1 bar and temperature
70 <sup>o</sup>C, the iterators    should look like this:&nbsp; <br>
</p>
<blockquote>
  <table cellpadding="2" cellspacing="2" border="1" width="250"
 bgcolor="#ffffff">
    <tbody>
      <tr>
        <td valign="top"><big><tt>iTm<br>
        </tt></big></td>
        <td valign="top"><big><tt>iV<br>
        </tt></big></td>
        <td valign="top"><big><tt>iP<br>
        </tt></big></td>
        <td valign="top"><big><tt>iTC<br>
        </tt></big></td>
        <td valign="top"><big><tt>iNv<br>
        </tt></big></td>
      </tr>
      <tr>
        <td valign="top"><big><tt>1000<br>
        </tt></big></td>
        <td valign="top"><big><tt>0<br>
        </tt></big></td>
        <td valign="top"><big><tt>1<br>
        </tt></big></td>
        <td valign="top"><big><tt>70<br>
        </tt></big></td>
        <td valign="top"><big><tt>0<br>
        </tt></big></td>
      </tr>
      <tr>
        <td valign="top"><big><tt>1200<br>
        </tt></big></td>
        <td valign="top"><big><tt>0<br>
        </tt></big></td>
        <td valign="top"><big><tt>1<br>
        </tt></big></td>
        <td valign="top"><big><tt>70<br>
        </tt></big></td>
        <td valign="top"><big><tt>0<br>
        </tt></big></td>
      </tr>
      <tr>
        <td valign="top"><big><tt>10<br>
        </tt></big></td>
        <td valign="top"><big><tt>0<br>
        </tt></big></td>
        <td valign="top"><big><tt>0<br>
        </tt></big></td>
        <td valign="top"><big><tt>0<br>
        </tt></big></td>
        <td valign="top"><big><tt>0<br>
        </tt></big></td>
      </tr>
    </tbody>
  </table>
</blockquote>
<p>&nbsp;This will generate the following list of SysEq record keys
(and store SysEq  records in the database if the <a href="#PePsts_4"><tt>PePsts[4]</tt></a>
flag is turned on): <br>
</p>
<blockquote><tt>TestProject:G:TestSystem:1000:0:1:70:000:</tt><br>
  <tt>TestProject:G:TestSystem:1010:0:1:70:000:</tt><br>
  <tt>TestProject:G:TestSystem:1020:0:1:70:000:</tt><br>
  <tt>.........................................</tt><br>
  <tt>TestProject:G:TestSystem:1200:0:1:70:000:</tt><br>
</blockquote>
<p>Note that the numbering in the CSD field occurs with an increment
10, so that up to 9 records can be added later on, if necessary,
between any two adjacent SysEq records to "resolve" some interesting
parts of the process   profile. In the last field of SysEq record keys, <tt>"000"</tt>
is printed   even though <tt>"0"</tt> stays in the <tt>"iNv"</tt>
iterator. This helps   to distinguish between the SysEq records created
by you and by process simulators. <br>
</p>
<p>Assignment of either of the remaining work cells &nbsp;<tt>"cTau",
"cpXi",   "cXi", "cNu", "cpH", "cpe", "cEh"</tt>, is usually done in
the <a
 href="file:///E:/gems2html/program/doc/html/gm_proces.html#P_expr"><tt>P_expr</tt></a>
math script (see below)<br>
</p>
<br>
<h3><a name="PROCESS_SIM_MATH_SCRIPT"></a>1.3. Writing Process
Simulation   Math Scripts<br>
</h3>
<p>To specify a change in the bulk composition of the system, you have
to   enter a <a href="gmscript.html">Math Script</a> into the <a
 href="#P_expr"><tt>P_expr</tt></a> text editor field. To make it
easier,   we recommend usage of the <a href="gmscript.html#MS_LIBRARY">template
math   script library</a>, accessible via the "Help" "Script" menu
command (or <tt>F3</tt> hot key). Upon that, you will see a list of
available template scripts (record  keys with math scripts for the <tt>P_expr</tt>
field start with <tt>"mscript-titr..."</tt>).   Select the appropriate
one and press "Ok". In the appearing SDref module  window,  the
template script is provided on Page 2. Read the comments, then   mark
the script text using the mouse drag, copy it (<tt>Ctrl-C</tt>), switch
to Page 1 of the Process window, click on the <tt>P_expr</tt> field and
paste the text (<tt>Ctrl-V</tt>).  Now, you can edit the script
according to your own idea about controlling the process simulation
(you can open the  "Single Thermodynamic System" dialog to look in
parallel for correct data object labels and names of PCO, species, and
phases). After you have edited the script (but before trying
calculations), save the Process record to database. <br>
</p>
<p>All Process work cells and corresponding iterators, as well as most
data   objects visible in the "System" window pages, can be used as
variables in   the process Math Script  expressions to describe changes
in the system along   the process  path. The  process script usually
looks like this (see also  template math scripts): </p>
<p><tt>$ Change in Ca/Si bulk ratio in the system</tt> <br>
<tt>cNu =: iNu[0] + J*iNu[2];</tt> <br>
<tt>xd_[{quartz}] =: cNu;</tt> <br>
<tt>xd_[{portlandite}] =: 1-cNu;</tt> <br>
<tt>$ end</tt> </p>
The script is run automatically to change bulk composition  in  SysEq 
records  when each next point&nbsp; (indexed with <tt>J</tt>)    is
generated  during&nbsp;  the process simulation. The first and the last
line are comments.  The   second  line calculates the current number of
moles of added quartz  stoichiometry     by incrementing within <tt>"iNu"</tt>
iterator (supposed  to be set up by  the user). The third line copies it
into an element of <tt>"xd_"</tt> vector that corresponds to quartz
(see "DComp" page of the "System" window).  The fourth  line calculates
the number of moles of portlandite stoichiometry  and assigns it to the
respective element  of the <tt>"xd_"</tt> vector.&nbsp;   There are
many alternative ways to specify the same process simulation in  
writing math scripts.
<p><br>
</p>
<h3><a name="PROCESS_SAMPL_MATH_SCRIPT"></a>1.4. Writing Process Data
Sampling   Math Scritps<br>
</h3>
<p>If you have invoked the data sampling/plotting mode then switch   to
Page   2 of the "Process" window and type a data sampling script into
the <tt>"pgExpr"</tt> editor field. Just  as in the case of the <tt>"P_expr"</tt>
simulation script  described above, you can pick up and paste a template
math script from the  library (look for SDref record keys beginning
with <tt>"mscript-plot..."</tt>).   All such scripts must fill out
the <tt>"xp"</tt> vector (abscissa) and the <tt>"yp"</tt> table
(ordinates, or plot lines) with some GEM IPM results,   one line per
process step (indexed with <tt>"J"</tt>). The <tt>"xp"</tt> and <tt>"yp"</tt>
data objects are accessible on the "Graph" page of the "Process"
window. After editing the <a href="gmscript.html">math script</a>,
save the Process record again. <br>
</p>
<p>If the empirical data are to be plotted, you can change to the
"Graph"   page of the "Process" window and type the data into<tt> "xEp"</tt>
and <tt>"yEp"</tt> fields. Also, edit the plot (column) names  in the <tt>"pY_nam",&nbsp;
"pX_nam",   &nbsp;"pLnam"</tt> and <tt>"pLnamE"</tt> fields (these will
appear on the   graph dialog and printouts of the results). <br>
&nbsp;<br>
&nbsp;<br>
</p>
<h3><a name="PROCESS_RUN"></a> 1.5. Running Process Simulators<br>
</h3>
<p>To start the process simulation, press the "Calculate record  data"
toolbar   button (or press the&nbsp; <span
 style="font-family: monospace;">F9</span> key or execute the "Record"
"Calculate" menu command). The program may ask  you to save the Process
record into the database; do it (this will do no harm but may save your
work if later on some problems happen with calculations).   If the
sampling/plotting mode is invoked, you will see a small "Use graphic  
window" question dialog, otherwise calculations will start immediately. <br>
</p>
<p>If you respond with "No" to the "Use graphic window" question then a
small   progress dialog may pop up in the left upper corner of your
desktop. In the  "stepwise" calculation mode, you can click on a "Stop"
button and, by clicking  on the "Step" button, execute the process
simulation step-by-step. At every  step, the program will calculate one
equilibrium point and wait (until you  examine the EqDemo window pages
or other windows). Clicking on a "Resume"  button will resume the
usual, continuous process simulation. When finished,  you will see a
message "Finished Ok" in the title line of the Process window.  &nbsp;<br>
</p>
<p>If there are syntax errors in the math scripts, the program will
display   an error message, followed by a yet unprocessed part of the
math script text.  If this happens then  press "Ok", fix the error, and
start the Process calculation  again. <br>
</p>
<p>If you run a process simulator with the sampling/plotting mode
invoked   for the first time, we recommend to run it without using the
graphic window   because the plots on the graphic dialog are not yet
customized. After this   is done (see next section), you can run the
process simulator using the graphic  window. In this case,
newly-calculated plots will be displayed as scattered  dots over the
previously existing plots.&nbsp;</p>
<p>The Process calculations may take  time if the system is large or
the process generates  many points (depending  on the processor
performance). When all equilibria  are computed, you can see a list of
generated SysEq records on "Page 3" and  sampled results on the "Graph"
page of the "Process" window. If you want to plot experimental data,
this is the right time to type this data into the <span
 style="font-family: monospace;">xEp</span> (abscissa) and <span
 style="font-family: monospace;">yEp</span> fields. &nbsp;<br>
</p>
<p>&nbsp;<br>
</p>
<h3><a name="PROCESS_PLOT_EXPORT"></a>1.6. Plotting and Exporting
Results </h3>
<p>Click on the "Plot data..." toolbar button (or execute the "Record"
"Plot"   menu command) to display the Graph dialog  with plotted
results and empirical   data points, if provided. Now, the graph
colors,  lines, scales, symbols  etc. can be customized ("Customize..."
button) and later on saved in the Process record.  &nbsp;The plot names
from the legend can be dragged and dropped on the plot lines in the
graphic image by using the left mouse button. Note that if you close
the graph dialog and open it again (or customize it), you will have to
drag-and-drop the legend names again. The picture can be saved into a
file (png, jpeg or bitmap) by clicking a "Save Image..." button, or
printed on a system printer ("Print..." button; may not work properly
on some Linux printers and currently in Win32 version). We recommend
saving the plots into .png files.&nbsp;<br>
<br>
The process simulation results (with or without scripts) can also be
printed into an ASCII file using the "Print"  toolbar button on the
"Process" window  and selecting an appropriate printing script from
the appearing list. <br>
&nbsp; <br>
The process simulation can always be re-run after some input parameters
of either the "parent" SysEq record (CSD) or the process simulator
(e.g. <span style="font-family: monospace;">modC</span> array values,
math scripts,   etc.) have been changed. When re-running the simulation
with an already customized  graph, you can click "Yes" on the "Use
graphic window?"  dialog. This will  display the graph with previous
calculation results; new  results will appear  as dots of the same
color as lines, step by step, until  the whole calculation  is
completed. If you wish to retain the newly calculated  results then
close  the graph dialog and save the Process record (if you now  open
the graph,  only new results will be shown as lines); otherwise, do not
save the record  and load it again from the database to discard the
newly-calculated results.  This mode is especially good for fitting some
input model parameters against  experimental (e.g. titration)
data.&nbsp; <br>
</p>
&nbsp; <br>
<h3><a name="PROCESS_SPECIAL"></a>1.6. Special Cases of &nbsp;Process
Simulators</h3>
&nbsp;There are several practically important special cases of Process
 simulators (see also the <a
 href="gm_sdref.html#process_mscripts_simulator">template math script
database</a>).   Three will be outlined in this section: inverse 
titrations, sequential reactors, and calculation of Lippmann diagrams
in the binary solid solution - aqueous solution (SSAS) system.<br>
&nbsp;
<h4><a name="INVERSE_TITRATION"></a>1.6.1. Inverse titrations<br>
</h4>
<h4>Inverse Titration (single point)</h4>
<p> Suppose a process simulator should find how many moles of CO<sub>2</sub>
per 1  kg of water at equilibrium with excess calcite CaCO<sub>3</sub>
(closed system) must be added to bring it to a prescribed equilibrium
pH=6.4&plusmn;0.01.   This can be done with&nbsp; the following <a
 href="gmscript.html">Math Script </a>program typed into "P_expr"
field on&nbsp; <tt>"Process" Page 1</tt>&nbsp;   window:</p>
<div style="margin-left: 40px;"><tt>$ Finding molality of CO2 added to
obtain   a prescribed pH</tt> <br>
<tt>$ Initialization</tt> <br>
<tt>&nbsp; if( NeIt[1] = 0 )</tt> <br>
<tt>&nbsp; begin</tt> <br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp; ipH[1]=:pH-ipH[0]; iNu[2]=:0;</tt> <br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp; cNu=:iNu[0]; iNu[1]=: xd_[{CO2}];</tt> <br>
<tt>&nbsp; end</tt> <br>
<tt>$ Calculation of difference between given and computed pH</tt> <br>
<tt>&nbsp; cpH =: pH-ipH[0];</tt> <br>
<tt>$ Recalculation of a step in titrant molality</tt> <br>
<tt>&nbsp; cNu =: ( ( cpH * ipH[1] ) &lt; 0 ? cNu*0.382 : cNu );</tt> <br>
<tt>&nbsp;&nbsp; ipH[1] =: cpH;</tt> <br>
<tt>$ Calculation of the amount of titrant</tt> <br>
<tt>&nbsp; iNu[2] =: iNu[2] + cNu*sign(cpH);</tt> <br>
<tt>&nbsp; xd_[{CO2}] =: iNu[1]+iNu[2];</tt> <br>
<tt>$ Check of convergence</tt> <br>
<tt>&nbsp; Next =: ( ( abs( cpH ) &lt; ipH[2] ) ? 0 : 1);</tt> <br>
<tt>$ Finish</tt></div>
<p> </p>
<p>The<span style="font-family: monospace;"> iNu[0] </span>cell should
contain   an initial guess how much titrant will be added;    if it is
too small or   too large then too many steps of this simple&nbsp;
"gold-section" algorithm   will be performed. The <span
 style="font-family: monospace;">iNu[2]</span> cell contains current
amount of  titrant added;<span style="font-family: monospace;"> iNu[1]</span>
is loaded at the beginning   with the amount of this titrant in the
parent SysEq definition.<span style="font-family: monospace;"> ipH[0] </span>contains
the prescribed pH   value,<span style="font-family: monospace;"> ipH[2]</span>
gives a precision   to be achieved, <span
 style="font-family: monospace;">ipH[1]</span> will  hold the current
difference between the calculated and prescribed pH. If alkali is used
for titration instead of acid, the assignment <tt>cpH =: pH-ipH[0];</tt>
must be replaced by <tt>cpH =: ipH[0]-pH;</tt>&nbsp; This is just one
example   of many possible algorithms to solve this kind of single
inverse titration   problems.&nbsp;&nbsp; </p>
<h4><a name="INV_TITR_SEQ"></a> Inverse titration sequence</h4>
<p> The process simulator in GEMS has also a built-in "golden section"
1-D   minimization procedure that    permits to calculate a series of
inverse titrations  in a single process    run. The GEM algorithm
cannot use pH as an input parameter;  the only way to obtain a
prescribed pH value is to add/subtract  acid or alkali  in the system
bulk composition. This can be done by hand,  repeating GEM IPM 
calculations and checking the pH value. However,&nbsp;this  is
inefficient  for plotting diagrams as function of pH. The script shown 
below (see also  a SDref record <span style="font-family: monospace;">"mscript-titr-invers:0003:proces:"</span>
in the <a href="gm_sdref.html#process_mscripts_simulator">template math
script database</a>) helps doing this efficiently. It can be used to
create a sequence of aquatic equilibria with pH changing in regular
intervals (e.g., from 2 to 10 in 0.2 unit step).<br>
</p>
<div style="margin-left: 40px;"><span style="font-family: monospace;">$
modC[J]:   acid or base added</span><br style="font-family: monospace;">
<span style="font-family: monospace;"> $ pH sequence of inv. titrations</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;"> if ( Next=1) begin</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;"> &nbsp;cNu =: cpH-pH; end</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;"> if (Next=2) begin</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;"> &nbsp;xa_[{NaOH}] =: ((cEh &lt; 
0)? 1e-8: cEh); </span><br style="font-family: monospace;">
<span style="font-family: monospace;"> &nbsp;xa_[{HCl}] =: ((0-cEh &lt;
 0)? 1e-8: 0-cEh);</span><br style="font-family: monospace;">
<span style="font-family: monospace;"> &nbsp;modC[J] =: cEh; </span><br
 style="font-family: monospace;">
<span style="font-family: monospace;"> end</span><br
 style="font-family: monospace;">
</div>
<p>After copying this script with <span style="font-family: monospace;">Ctrl-C</span>
and pasting it (<span style="font-family: monospace;">Ctrl-V</span>)
into   the <span style="font-family: monospace;">P_expr</span> field on
Page 1 of  the "Process" window, you may have to edit the script there
if different  acid and base are to be added (e.g., KOH and HNO<sub>3</sub>)
in your particular   system definition. If you use species'
stoichiometries as titrants (rather   than <a href="gm_compos.html">PCO/Compos</a>
entries) then change also <span style="font-family: monospace;">xa_</span>
to <span style="font-family: monospace;">xd_</span> data object
label.&nbsp; <br>
<br>
To use such "inverse titration" script, turn on the <span
 style="font-family: monospace;">PePsts[11]</span> flag "Is this a
sequence   of inverse titration points (+ -)?" when creating or
remaking the Process   definition. This flag activates a built-in
"Golden Section" 1-D parametric   minimization algorithm. At each
iteration of the "Golden Section" algorithm,   the interval [a,b] is
corrected as: <br>
</p>
<div style="margin-left: 40px;">x1 = { <span
 style="font-family: monospace;">ipXi[0]</span> at the first iteration;
current <span style="font-family: monospace;">cEh</span> at next
iterations }, <br>
x2 = <span style="font-family: monospace;">ipXi[1]</span>;<br>
a = min( x1, x2 ); <br>
b = max( x1, x2 ). <br>
</div>
<p>Convergence is achieved when the deviation function becomes smaller
than   the precribed precision value, given in the <span
 style="font-family: monospace;">iNu[1]</span> field (for pH, usually
0.01).   The "Inverse titration sequence" math script has the following
general structure:<br>
</p>
<div style="margin-left: 40px;">if( <span
 style="font-family: monospace;">Next</span> = 1 ) begin <br>
&lt;expressions&gt; <span style="font-family: monospace;">cNu</span>
=:&lt;function&gt;; &lt;expressions&gt; end <br>
if( <span style="font-family: monospace;">Next</span> = 2 ) begin <br>
&lt;expressions&gt; &lt;titrant&gt; =: <span
 style="font-family: monospace;">cEh</span>; &lt;expressions&gt; end <br>
</div>
<p>Here, &lt;function&gt; is a valid expression specifying a monotonous
function   of deviation between the calculated and the measured
parameter (<span style="font-family: monospace;">cNu</span><span
 style="font-family: monospace;"> =:</span><span
 style="font-family: monospace;"> cpH-pH;</span>), which has a minimum
in   a prescribed interval of addition of titrants to the bulk
composition of  the system. &lt;titrant&gt; is any cell in "System"
window pages to control  the calculated parameter of the eqiuilibrium
state. In the above script, the operator <br>
</p>
<div style="margin-left: 40px;"><span style="font-family: monospace;">&nbsp;xa_[{NaOH}]
=: ((cEh &lt; 0)? 1e-8: cEh);</span> <br>
</div>
<p>adds NaOH to the system bulk composition if <span
 style="font-family: monospace;">cEh</span> &gt; 0, and <br>
</p>
<div style="margin-left: 40px;"><span style="font-family: monospace;">&nbsp;xa_[{HCl}]
=: ((0-cEh &lt; 0)? 1e-8: 0-cEh); </span><br>
</div>
<p>adds HCl if <span style="font-family: monospace;">cEh</span> &lt; 0.
The   operator&nbsp; <span style="font-family: monospace;">modC[J] =:
cEh;</span> stores the necessary titrant addition into an optional
vector <span style="font-family: monospace;">modC</span>; and<span
 style="font-family: monospace;"> J </span>is an index of the chemical
equilibrium   system  currently generated in the Process simulator. <br>
&nbsp;<br>
The initial interval <span style="font-family: monospace;">ipXi[0],
ipXi[1]</span> of titrant additions (performed using the <span
 style="font-family: monospace;">cEh</span> cell) must be specified in
the   Process definition. The lower boundary <span
 style="font-family: monospace;">ipXi[0]</span> must be less than the
upper   boundary<span style="font-family: monospace;"> ipXi[1]</span>,
though <span style="font-family: monospace;">ipXi[0]</span> and also <span
 style="font-family: monospace;">ipXi[1]</span> can be negative. In the
latter   case, only acid will be added. If both boundaries are positive
then only  alkali will be added. Othervise, in some of the generated
equilibria, the  acid (negative<span style="font-family: monospace;"> cEh</span>
values) and  in other - the base will be added. Please, make sure
(before running the Process simulator) that appropriate boundaries are
known, by doing sample calculations in a single system for the smallest
and the largest pH values necessary. Also you must specify: <br>
</p>
<div style="margin-left: 40px;"><span style="font-family: monospace;">ipXi[2]</span>
- precision of inverse titration in the same units as the titrant
addition   (e.g. 1e-9 moles); <br>
<span style="font-family: monospace;">iNu[1]</span>&nbsp; - precision 
of  the deviation function result (<span style="font-family: monospace;">cNu</span>)
with respect to the calculated parameter (e.g. 0.01 pH unit).<br>
</div>
<p>When you calculate the Process Simulator, an inverse modelling
problem   is solved for and the resulting SysEq record is saved to the
database for   each simulation point. Then the program will proceed to
the next point (if   there are any left). The number of equilibrium
points to be created should   be entered into the <span
 style="font-family: monospace;">Ntxi[1]</span> field. Enter also <span
 style="font-family: monospace;">NeIt[0]</span> &gt; <span
 style="font-family: monospace;">Ntxi[1]*2</span>. Flags <span
 style="font-family: monospace;">PePsts[2], PePsts[4], PePsts[7],
PePsts[10]</span> must be turned on. Flag <span
 style="font-family: monospace;">PePsts[8]</span> must be turned off. If
necessary, remake the Process record and set the flags  properly. <br>
<br>
</p>
<h4><a name="SEQUENTIAL_REACTORS"></a>1.6.2. Sequential reactors</h4>
<p>The "sequential reactor sequence" is a good model for some
steady-state   irreversible processes such as weathering, infiltration
metasomatosis, evaporation   of seawater etc. The idea behind it is
that a given mass of the aqueous (fluid)  phase of a certain initial
composition is added to the first "reactor" where  it equilibrates at
given T, P with a known mass of solids of a given bulk  composition.
&nbsp;After &nbsp;the local equilibrium has been achieved, the  fluid
of now different bulk composition is moved (at a given quantity) to 
the next "reactor" that exists maybe at different T, P, and/or contains
some  reactive solids of known mass and bulk composition. In the same
way, the  fluid "propagates" sequentially through a desired
number&nbsp; of "reactors".&nbsp;</p>
<p>To facilitate "sequential reactor" modelling, we have included the
respective   mode of process simulation (activated during remake of the
Process record   using a <a href="#PePsts_5"><span
 style="font-family: monospace;">PePsts[5]</span></a> flag). However,
this also requires a special configuration of the "parent" <a
 href="gm_syseq.html">SysEq record,</a> more precisely - two start-up
records. The very first one is (let us call it "initial" system) is just
an ordinary  SysEq record that defines a prototype of the chemical
system to be used for  constructing all "reactors", which produces at
equilibrium the aqueous (fluid)  phase of the initial bulk composition.
The next one ("parent" system) can  be "cloned" from the "initial"
system and re-configured by executing&nbsp;   the "Record" "Remake"
menu command from the "Single Thermodynamic System"  dialog. In the
appearing remake configuration dialog, find and switch on ('+') a <a
 href="gems_bcc.html#SyPvec_3"><span style="font-family: monospace;">SyPvec[3]</span></a>
flag and press "Ok".  The program will ask you to select a SysEq record
from where to take equilibrium  bulk compositions of phases; select the
key of the "initial" SysEq record  and press Ok. Then open a "Phase"
page of the "System" window; there you will see a <a
 href="gems_bcc.html#xp_"><span style="font-family: monospace;">xp_</span></a>
vector of quantities of phases  from previous equilibrium to be added to
the bulk composition of this chemical  system. Set there e.g. 1000 g of
aqueous phase to add, then remove the corresponding  PCO additions on
the Compos page (<a href="gems_bcc.html#xa_"><span
 style="font-family: monospace;">xa_</span></a> vector). Calculate the
equilibrium  and save the results. The "parent" record is now
ready.&nbsp;<br>
</p>
<p>At this point, you can create the Process record that will perform
"sequential   reactors"; put <span style="font-family: monospace;">"R"</span>
in the last   field of the <a href="gdb_rkey.html#dbm_Proces">Process
record key</a>, select  the "Sequential Reactors" mode in the appearing
wizard, and enter a desired  number of "reactors" (e.g.21) to be
created. It is also desirable to activate  the "Data sampling/plotting"
mode, to be able to follow what happens in the  reactors. From now on,
define the process simulation as usual (set process  iterators, write
necessary math scripts and so on). Wnen ready, just run the process
simulation. To have it working properly, make sure that at least one
non-zero value is given in the xp_ vector of the "parent" SysEq record
for a multi-component phase. <br>
<br>
[worked example to be provided]&nbsp; </p>
<h4><a name="LIPPMANN_DIAGRAMS"></a>1.6.3. Lippmann diagrams<br>
</h4>
<p><a href="glossary.html#DT_Lippmann_diagram">Lippmann diagrams</a> are
helpful in establishing equilibrium compositions of a binary <a
 href="glossary.html#DT_solid_solution">solid solution</a> and <a
 href="glossary.html#DT_aqueous">aqueous electrolyte</a> phases as
function   of mole fractions (in solid and in aqueous phase). Even
though such diagrams   are not required for solving <a
 href="glossary.html#DT_SSAS_equilibrium">SSAS  equilibria</a> in GEM
codes,  Lippmann diagrams are still helpful in visualizing  behavior of
binary SSAS  systems. <br>
</p>
<h4>Process Simulator for compositional dependence in the binary SSAS
system <br>
</h4>
<p>To construct a Lippmann diagram, one first has to generate enough
SSAS   equilibrium points covering the whole range of solid phase
compositions.  50 points (with a step 2% in solid mole fraction) are
usually sufficient.  A direct titration script like that shown below
for the regular binary (Ca,Mn)CO3   system with <span
 style="font-style: italic;">a</span> = 1.9&nbsp; at S/L   = 0.2 mol
solid per 1 kg H<sub>2</sub>O can do the job: <br>
</p>
<div style="margin-left: 40px;"><span style="font-family: monospace;">cNu
=: iNu[0] + iNu[2]*J;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">xa_[{CaCO3}] =: (cNu&gt;0?
cNu*0.2/100;   1e-6);</span><br style="font-family: monospace;">
<span style="font-family: monospace;">xa_[{MnCO3}] =: (cNu&lt;100?
(100-cNu)*0.2/100;   1e-6);</span><br>
</div>
<p>The conditional math script operators check for zero mole fractions
and,   if so, assign trace additions of end-member stoichiometries to
prevent degeneration   of the system.&nbsp;  This script (to be put in
the <span style="font-family: monospace;">"P_expr"</span> field)
generates 51 points   using the <span style="font-family: monospace;">"iNu"</span>
iterator loaded   with 0; 100; 2 to produce 2% steps in solid mole
fraction scale.&nbsp; <br>
</p>
<h4>Data Samplers for constructing Lippmann diagrams</h4>
The Lippmann diagram actually is a superposition of two plots where the
same ordinate value called "total solubility product" is plotted
against two different abscissas: the end-member mole fraction in solid
solution ("solidus")  and the ionic mole fraction in aqueous phase
("solutus"). Any horizontal line connecting a point on "solidus" with
a point on "solutus" defines a SSAS equilibrium state. <br>
<br>
Note that the GEM-Selektor v.2 Graph Dialog can plot several ordinates
 (lines) but only against one abscissa. This technical limitation means
that  only one of two lines of the Lippmann diagram can be plotted in
one Process  or GtDemo run. To produce the second line, one has to
"clone" the record and change only the data sampling script, then
re-calculate. <br>
<br>
The example script below (to be put into <span
 style="font-family: monospace;">"pGexpr"</span> field ) calculates the
"solidus"   curve of the Lippmann diagram: <br>
<p style="margin-left: 40px;"><tt>$ Lippmann diagram - solidus</tt> <br>
<tt>&nbsp;&nbsp; xp[J] =: Wxx[{rhodochrosite}];</tt> <br>
<tt>&nbsp;&nbsp; yp[J][0] =: lg( my[{CO3-2}]*gamma[{CO3-2}] * <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (
my[{Ca+2}]*gamma[{Ca+2}]  +</tt>&nbsp;<tt> my[{Mn+2}]*gamma[{Mn+2}] ));</tt> <br>
</p>
<p>The script below calculates the "solutus" curve of the Lippmann
diagram.   "Clone" the Process record and put the second script  into
the&nbsp; <span style="font-family: monospace;">pGexpr</span> field,
then re-run the Process   simulator.<br>
</p>
<div style="margin-left: 40px;"><tt>$ Lippmann diagram - solutus</tt> <br>
<tt>&nbsp; xp[J] =: my[{Mn+2}]*gamma[{Mn+2}] / (
my[{Ca+2}]*gamma[{Ca+2}]   +</tt> <br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
my[{Mn+2}] * gamma[{Mn+2}] );</tt> <br>
<tt>&nbsp; yp[J][0] =: lg( my[{CO3-2}]*gamma[{CO3-2}] * </tt><br>
<tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (
my[{Ca+2}]*gamma[{Ca+2}]   +</tt> <tt>my[{Mn+2}]*gamma[{Mn+2}] ));</tt> <br>
</div>
<p> The full diagram can be plotted after exporting both sets of results
and putting them on the same graph in a commercial plotter (MS Excel,
SigmaPlot   etc.).<br>
<br>
</p>
<hr width="100%" size="2">
<h2><a name="PROCESS_DOD"></a>2. Description of Data Entries</h2>
<dl>
  <dt><br>
  </dt>
  <dt><a name="PeName"></a><big><b><tt><big>PeName</big> </tt></b></big>-
Comment line   for the full name of this Process Simulator definition </dt>
  <dd> <br>
  </dd>
  <dd>This string (up to 70 characters) should be entered by the user
for   identification of this Process record, best during creation or
remake.&nbsp;It  will appear on the plot and in the text printouts.</dd>
  <dd><br>
  </dd>
  <dd><br>
  </dd>
  <dd><br>
  </dd>
  <dt> <a name="PeNote"></a><big><b><big><tt>PeNote</tt></big></b></big>
- Comment line   for optional enhancement of the <span
 style="font-family: monospace;">PeName</span> line&nbsp;</dt>
  <dd>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</dd>
  <dd>This string (up to 70 characters) can also be entered to enhance
identification   of the process simulator.<br>
    <br>
  </dd>
  <dd><br>
  </dd>
</dl>
<dl>
  <dt> <a name="P_expr"></a><big><big style="font-weight: bold;"><tt>P_expr</tt></big></big><b><big><tt> </tt></big></b>-
Math script defining the process simulation</dt>
</dl>
<dl>
  <dd>&nbsp; <br>
Equations in this <a href="gmscript.html">math script</a> text are
supposed   to alter certain input data fields (seen in "System" window
pages) for calculation   of a sequence of equilibrium states. Some
additional restrictions may  apply   depending on the process type. The
equations are recalculated at every step   (point, iteration, <span
 style="font-family: monospace;">"J"</span> index)   of the process
simulation. If the math script contains a conditional expression  
which sets the <span style="font-family: monospace;">"Next"</span>
variable to 0 then the process simulation will be finished when <span
 style="font-family: monospace;">Next</span> becomes equal   to 0,
otherwise   it will stop when a prescribed maximum number of iterations
(or the upper    limit in any of the process iterators <span
 style="font-family: monospace;">"iTm",</span> ...) is reached. </dd>
</dl>
<dl>
  <dd> &nbsp; <br>
To facilitate writing of math script equations in this field, a
template   math script library is provided (see <a
 href="#PROCESS_SIM_MATH_SCRIPT">"Writing   Process Simulation Math
Scripts"</a> chapter).<br>
    <br>
&nbsp; </dd>
  <dd>&nbsp; <br>
  </dd>
</dl>
<h3>2.1 Input Process Iterators</h3>
Many variants   of the process simulation can be set up using one or
more of column   vectors ("iterators")&nbsp; <tt>"iTm", "iV", "iP",
"iTC", "iNv",  "iTau", "ipXi", "iNu",   "ipH", "ipe"</tt>. &nbsp;See
more about that in <a href="#PROCESS_SIM_ITERATORS">"Setting up the
Process iterators"</a> chapter.<br>
&nbsp;
<dl>
  <dt> <a name="iTm_0"></a><b><big><tt><big>iTm[0]</big> </tt></big></b>-&nbsp;
SysEq <a href="glossary.html#DT_CSD">CSD</a> variant number:
start value </dt>
  <dd> &nbsp; &nbsp;<br>
  </dd>
  <dd>This iterator defines values in the VarCSD field of newly
generated <a href="gdb_rkey.html">SysEq record keys</a> to store
process simulation   results. Recommended values are 100 &nbsp;(200,
300, ...) or 1000 (2000,  3000, ...).<br>
&nbsp; <br>
Important! Always check and edit this iterator before running the new 
process  simulation, to prevent accidental overwriting of previously
calculated  SysEq  records. </dd>
  <dd> &nbsp; <br>
  </dd>
  <dd>New SysEq record keys are generated using CSD variant numbers
from the current <span style="font-family: monospace;">"cTm"</span>
cell, which is automatically changed by the program as: <span
 style="font-family: monospace;">cTm =: iTm[0] + J * iTm[2]; </span>if
not   overridden by the<span style="font-family: monospace;"> P_expr </span>math
script.<span style="font-family: monospace;">&nbsp;</span> </dd>
  <dd> <br>
  </dd>
  <dd><br>
  </dd>
  <dt><a name="iTm_1"></a><b><big><tt><big>iTm[1]</big> </tt></big></b>-
SysEq CSD variant number:   end value</dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>This integer value defines the end point of the process
simulation,   which continues as long as <span
 style="font-family: monospace;">cTm &lt;=   iTm[1]</span> <span
 style="font-family: monospace;">and J &lt; Ntxi[1].</span>&nbsp;  
&nbsp;<br>
&nbsp; <br>
  </dd>
  <dd>If <span style="font-family: monospace;">&nbsp;iTm[1] &lt;
iTm[0] </span>then<span style="font-family: monospace;"> iTm[2] </span>must
be negative (decreasing   order of CSD variant numbering).&nbsp; &nbsp;</dd>
  <dd><br>
  </dd>
</dl>
<dl>
  <dd><br>
  </dd>
  <dt>&nbsp;<a name="iTm_2"></a><b><big><tt><big>iTm[2]</big> </tt></big></b>-
SysEq   CSD variant number: step value</dt>
  <dd> &nbsp;&nbsp; <br>
  </dd>
  <dd>This integer value defines how the system CSD variant number is
incremented   (can also be negative). Minimum absolute value is 1,
recommended values are  between 2 and 10 - this allows to insert some
additional SysEq records into  the process-generated sequence later on.<br>
&nbsp; <br>
&nbsp; </dd>
  <dt><a name="cTm"></a><b><big><tt><big>cTm</big> </tt></big></b>-
Current SysEq CSD   variant number </dt>
  <dd>
    <p>Current CSD variant number for <a href="gdb_rkey.html#dbm_SysEq">SysEq
record key</a> to be generated on <span style="font-family: monospace;">J</span>-th
process iteration. Incremented automatically according to the values
provided  in the <span style="font-family: monospace;">"<a
 href="#iTm_0">iTm</a>"</span> iterator; can also be set in the <span
 style="font-family: monospace;">P_expr</span> math script.</p>
  </dd>
  <dd><br>
  </dd>
  <dt><br>
  </dt>
</dl>
<dl>
  <dt><b><big><tt><a name="iV_0"></a><big>iV[0]</big> </tt></big></b>-<b><i> </i></b>Volume
constraint of the system (L): start value </dt>
  <dd> &nbsp; &nbsp; &nbsp;<br>
  </dd>
  <dd>Default value of this <a href="gdb_rkey.html#dbm_SysEq">SysEq
record   key</a> field for GEM calculations is 0 (unconstrained volume),
except in   a few special cases.&nbsp; </dd>
  <dd> <br>
  </dd>
  <dd><br>
  </dd>
  <dt><a name="iV_1"></a><b><big><tt><big>iV[1]</big> </tt></big></b>-
Volume constraint   of the &nbsp;system: &nbsp;end value</dt>
  <dd> &nbsp;<br>
It is recommended to leave this real number at the default value (0).  <br>
&nbsp; <br>
&nbsp;<br>
  </dd>
  <dt> <a name="iV_2"></a><b><big><tt><big>iV[2]</big> </tt></big></b>-
Volume constraint   of the system: increment</dt>
  <dd> &nbsp; <br>
It is recommended to leave this increment at the default value (0). </dd>
  <dd>&nbsp; &nbsp;</dd>
  <dd> &nbsp;<br>
  </dd>
  <dt><a name="cV"></a><b><big><tt><big>cV</big> </tt></big></b>-
Current V - volume constraint (default 0) </dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>In most cases, must be 0 (unconstrained volume).<br>
&nbsp; <br>
&nbsp;<br>
  </dd>
</dl>
<dl>
  <dt><a name="iP_0"></a><b><big><tt><big>iP[0]</big> </tt></big></b>-
Pressure   of interest P, bar: start (real) value </dt>
  <dd> &nbsp;<br>
  </dd>
  <dd>This iterator defines how the system pressure will be specified
in <a href="gdb_rkey.html#dbm_SysEq">SysEq record keys</a>
generated by the  process simulator. Ambient pressure is 1 bar
(default). </dd>
  <dd>If you wish to keep the pressure P constant then set &nbsp;<span
 style="font-family: monospace;">iP[0] =</span> P; <span
 style="font-family: monospace;">iP[1] =</span> P;<span
 style="font-family: monospace;"> iP[2] =</span> 0. </dd>
  <dd> &nbsp; <br>
  </dd>
  <dd>At the beginning of process simulation, <span
 style="font-family: monospace;">cP</span> is automatically set equal to
 <span style="font-family: monospace;">iP[0]</span>.</dd>
  <dd> &nbsp; <br>
  </dd>
  <dd>&nbsp; <br>
&nbsp;<br>
  </dd>
  <dt> <a name="iP_1"></a><b><big><tt><big>iP[1]</big> </tt></big></b>-
&nbsp;Pressure of interest&nbsp; P, bar: end value</dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>This real value (default 1 bar) defines the end point of the
process   simulation, which continues as long as <span
 style="font-family: monospace;">cP &lt;= iP[1]</span> <span
 style="font-family: monospace;">and J &lt; Ntxi[1].</span>&nbsp; &nbsp;<br>
&nbsp; <br>
  </dd>
  <dd>If <span style="font-family: monospace;">&nbsp;iP[1] &lt; iP[0] </span>then<span
 style="font-family: monospace;"> iP[2] </span>must be negative
(decreasing   pressure in the process simulation). <br>
  </dd>
  <dd>&nbsp; <br>
&nbsp;<br>
  </dd>
  <dd> <br>
  </dd>
  <dt> <a name="iP_2"></a><b><big><tt><big>iP[2]</big> </tt></big></b>-
Pressure of interest   P, bar: step value</dt>
  <dd> &nbsp;<br>
This real value defines how pressure will be (linearly) incremented in 
the process simulation. Default is 0 (constant pressure); otherwise the
program  will change the &nbsp;<span style="font-family: monospace;">cP</span>
&nbsp;cell according to a given non-zero value.&nbsp;</dd>
</dl>
<dl>
  <dd><br>
  </dd>
  <dd><br>
  </dd>
  <dt><a name="cP"></a><b><big><tt><big>cP</big> </tt></big></b>-
Current pressure of interest P   (bar). </dt>
  <dd> <br>
  </dd>
  <dd>Current pressure P to set in a <span
 style="font-family: monospace;">J</span>-th generated SysEq record
key. Automatic Initialization: <span style="font-family: monospace;">cP
=: iP[0]</span>.   Can be incremented in the <span
 style="font-family: monospace;"><a href="#P_expr">P_expr</a> </span>math
script expressions; if not and <span style="font-family: monospace;">iP[2]
&lt;&gt; 0</span> then automatically <span
 style="font-family: monospace;">cP = ip[0] + J*iP[2]</span> . </dd>
  <dd> <br>
  </dd>
  <dd>&nbsp;</dd>
  <dd><br>
  </dd>
  <dt><a name="iTC_0"></a><b><big><tt><big>iTC[0]</big> </tt></big></b>-&nbsp;
Temperature of interest TC, centigrade: start value </dt>
  <dd>&nbsp;<br>
  </dd>
  <dd>This real value (default 25 C, ambient temperature) defines how
the   system temperature will be specified in <a
 href="gdb_rkey.html#dbm_SysEq">SysEq record keys</a> generated by the
process   simulator.</dd>
  <dd>If you wish to keep temperature (TC) constant then set <span
 style="font-family: monospace;">iTC[0] =: </span>TC; <span
 style="font-family: monospace;">iTC[1] =:</span> TC; <span
 style="font-family: monospace;">iTC[2] =:</span> 0.</dd>
  <dd><br>
  </dd>
  <dd><br>
  </dd>
  <dt> <a name="iTC_1"></a><b><big><tt><big>iTC[1]</big> </tt></big></b>-
Temperature of interest   TC, centigrade: end value&nbsp;</dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>This real value (default 1 bar) defines the end point of the
process   simulation, which continues as long as <span
 style="font-family: monospace;">cTC &lt;= iTC[1]</span> <span
 style="font-family: monospace;">and J &lt; Ntxi[1].</span>&nbsp; &nbsp;<br>
&nbsp; <br>
  </dd>
  <dd>If <span style="font-family: monospace;">&nbsp;iTC[1] &lt;
iTC[0] </span>then<span style="font-family: monospace;"> iTC[2] </span>must
be negative (decreasing   pressure in the process simulation).</dd>
  <dd><br>
  </dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd> <br>
  </dd>
  <dt> <a name="iTC_2"></a><b><big><tt><big>iTC[2]</big> </tt></big></b>-
Temperature of interest   TC, centigrade: step value</dt>
  <dd> &nbsp; <br>
  </dd>
</dl>
<dl>
  <dd>This real value defines how temperature will be (linearly)
incremented   in the process simulation. Default is 0 (constant
temperature); otherwise   the program will change the &nbsp;<span
 style="font-family: monospace;">cTC</span> &nbsp;cell according to a
given non-zero value.&nbsp;</dd>
</dl>
<dl>
  <dd><br>
  </dd>
</dl>
<dl>
  <dt><a name="cTC"></a><b><big><tt><big>cTC</big> </tt></big></b>-
Current temperature   of interest TC &nbsp;(centigrade)<br>
  </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> Current temperature cTC to set in a <span
 style="font-family: monospace;">J</span>-th generated SysEq record
key. Automatic initialization: <span style="font-family: monospace;">cTC
=: iTC[0]</span>.   &nbsp;Can be incremented in the <a href="#P_expr"><span
 style="font-family: monospace;">P_expr</span></a> math script
expressions;   if not and<span style="font-family: monospace;"> iTC[2]
&lt;&gt; 0</span> then automatically <span
 style="font-family: monospace;">cTC = iTC[0] + J*iTC[2]</span>. </dd>
  <dd>&nbsp;<br>
&nbsp;&nbsp;&nbsp;</dd>
</dl>
<a name="cT"></a><b><big><tt><big>cT</big> </tt></big></b>- Current
temperature of interest T  (Kelvin)<br>
<dl>
  <dd>This work cell is automatically calculated as &nbsp;<span
 style="font-family: monospace;">cT =: cTC + 273.15 </span>&nbsp;at
each process simulation step in order to facilitate writing of <a
 href="#pgExpr"><span style="font-family: monospace;">pGexpr</span></a>
data sampling math scripts.<br>
  </dd>
</dl>
<dl>
  <dd>&nbsp;&nbsp;</dd>
  <dd><br>
  </dd>
</dl>
<dl>
  <dt><b><big><tt><a name="iNv_0"></a><big>iNv[0]</big> </tt></big></b>-
TD variant number:   start value </dt>
  <dd> &nbsp; &nbsp;<br>
  </dd>
  <dd>This iterator defines integer values in the VarTD field of newly
generated <a href="gdb_rkey.html#dbm_SysEq">SysEq record keys</a>
to store process   simulation results. Default value is 0. Recommended
values are 10 &nbsp;(20,   30, ...) or 100 (200, 300, ...).<br>
&nbsp; <br>
Important! Always check and edit this iterator before running the new 
process  simulation, to prevent accidental overwriting of previously
calculated  SysEq  records. </dd>
  <dd> &nbsp; <br>
  </dd>
  <dd>New SysEq record keys are generated using TD variant numbers from
the   current <span style="font-family: monospace;">"cNv"</span> cell,
which is   automatically changed by the program as: <span
 style="font-family: monospace;">cNv =: iNv[0] + J * iNv[2], </span>if
not   overridden by the<span style="font-family: monospace;"> P_expr </span>math
script.<br>
&nbsp; <br>
&nbsp; &nbsp;<span style="font-family: monospace;"></span></dd>
  <dd> &nbsp; <br>
  </dd>
  <dt> <a name="iNv_1"></a><big><b><tt><big>iNv[1]</big> </tt></b></big>-
TD variant number:   end value</dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>This integer value defines the end point of the process
simulation,   which continues as long as <span
 style="font-family: monospace;">cNv &lt;=   iNv[1]</span> <span
 style="font-family: monospace;">and J &lt; Ntxi[1].</span>&nbsp;  
&nbsp;<br>
&nbsp; <br>
  </dd>
  <dd>If <span style="font-family: monospace;">&nbsp;iNv[1] &lt;
iNv[0] </span>then<span style="font-family: monospace;"> iNv[2] </span>must
be negative (decreasing   order of TD variant numbering).&nbsp; &nbsp;</dd>
  <dd><br>
  </dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="iNv_2"></a><b><big><tt><big>iNv[2]</big> </tt></big></b>-
TD variant number:   step value</dt>
  <dd> &nbsp; <br>
  </dd>
</dl>
<dl>
  <dd>This integer value defines how the system TD variant number is
incremented   (can also be negative). Usually 0 is set (TD variant
number does not change).   In the case if the <span
 style="font-family: monospace;">P_expr</span> script   changes some
kinetic constraints or <span style="font-family: monospace;">gEx</span>
increments to input thermodynamic   data,&nbsp; the recommended values
are between 1 and 10.</dd>
</dl>
<dl>
  <dd> <br>
  </dd>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="cNV"></a><b><big><tt><big>cNV</big> </tt></big></b>-
Current SysEq TD variant number </dt>
  <dd> <br>
  </dd>
</dl>
<dl>
  <dd>Current VarTD number for <a href="gdb_rkey.html#dbm_SysEq">SysEq
record   key</a> to be generated on <span
 style="font-family: monospace;">J</span>-th   process iteration.
Incremented automatically according to the values provided   in the <span
 style="font-family: monospace;">"<a href="gm_proces.html#iNv_0">iNv</a>"</span>
iterator; can also be set in   the <span style="font-family: monospace;">P_expr</span>
math script.<br>
&nbsp; &nbsp;<br>
&nbsp;<br>
  </dd>
</dl>
<dl>
  <dt><a name="iTau_0"></a><b><big><tt><big>iTau[0]</big> </tt></big></b>&nbsp;-
Real   time (tau), arbitrary units: start value </dt>
  <dd> <br>
This iterator can be optionally used in simulations of kinetic mass
transfer processes that depend on the real time. Usually, such processes
(e.g. mineral   dissolution) also depend on the output GEM parameters
such as pH. The <span style="font-family: monospace;">"<a
 href="#P_expr">P_expr</a>"</span> math   script in such cases must
define the mole quantity of a kinetically-retarded   species as a
function of time, pH, ... and use this quantity for setting  the upper-
(<a href="gems_bcc.html#dul_"><span style="font-family: monospace;">dul_</span></a>),
the lower (<a href="gems_bcc.html#dll_"><span
 style="font-family: monospace;">dll_</span></a>)   or both
metastability restrictions (seen on the DComp page of the "System"  
window).&nbsp; The "iTau" iterator defines a linear (or logarithmic,
depending   on how the math script is written) sequence of time points
at which the partial  equilibrium states must be calculated.
&nbsp;Default value is 0.&nbsp;</dd>
  <dd> &nbsp; &nbsp; &nbsp; </dd>
  <dd>&nbsp; <br>
  </dd>
  <dt> <a name="iTau_1"></a><b><big><tt><big>iTau[1]</big> </tt></big></b>-
Real time   (tau): end value</dt>
  <dd> &nbsp; <br>
This real value defines the end time point of kinteically-dependent
simulation. Default value is 0.&nbsp;</dd>
</dl>
<dl>
  <dd>The simulation continues as long as <span
 style="font-family: monospace;">cTau &lt;= iTau[1]</span> <span
 style="font-family: monospace;">and J &lt; Ntxi[1].</span></dd>
</dl>
<dl>
  <dd>&nbsp; </dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="iTau_2"></a><b><big><tt><big>iTau[2]</big> </tt></big></b>-
Real time   (tau): step value</dt>
  <dd> &nbsp; <br>
This positive real value defines how the real time is incremented in
the kinetically-dependent simulation. Default value is 0.</dd>
  <dd> &nbsp;&nbsp;</dd>
  <dd> &nbsp; <br>
  </dd>
  <dt><a name="cTau"></a><b><big><tt><big>cTau</big> </tt></big></b>-
Current real time   (tau) </dt>
  <dd> <br>
  </dd>
  <dd>This cell contains a current real time value during
kinetically-dependent   simulations. Automatic initialization: <span
 style="font-family: monospace;">cTau =: iTau[0]</span>. The cell
content   can also be set in the <span style="font-family: monospace;">"<a
 href="#P_expr">P_expr</a>"</span> math script operators. If not, the
program   will set&nbsp; <span style="font-family: monospace;">cTau =:
iTau[0] + J*iTau[2]</span> on a <span style="font-family: monospace;">J</span>-th
step. If time is considered  in logarithmic scale then an expression <span
 style="font-family: monospace;">"10^cTau"</span> must be used as a time
variable in the process simulation math script operators.&nbsp; </dd>
  <dd> &nbsp; &nbsp; &nbsp;<br>
    <br>
  </dd>
  <dt><a name="ipXi_0"></a><b><big><tt><big>ipXi[0]</big> </tt></big></b>-
Process extent     parameter pXi = -log(Xi): start value </dt>
  <dd>&nbsp; &nbsp;</dd>
  <dd>This iterator can be used for automatic calculation of the
"reaction-extent"   ("process-extent") parameter <span
 style="font-family: monospace;">cpXi</span> = -log(Xi) if the latter is
not set in the <span style="font-family: monospace;">"<a href="#P_expr">P_expr</a>"</span>
math scripts. The <span style="font-family: monospace;">ipXi</span>
cells can  also be used as work cells in arbitrary math scripts.
&nbsp;Default value  is 0.&nbsp; </dd>
  <dd><span style="font-weight: bold;">&nbsp; </span><span
 style="font-weight: bold; text-decoration: underline;"><br>
Attention:</span> In the case of an <a
 href="glossary.html#DT_titration_inverse">inverse titration</a>
sequence (the <a href="#PePsts_11"><span style="font-family: monospace;">PePsts[11]</span></a>
flag set to <span style="font-family: monospace;">'+'</span>), this
iterator   must contain the interval of minimum-maximum values   and
precision for the  quantity of added titrant (see also the <a
 href="#INV_TITR_SEQ">"Inverse  titration sequence" section</a>). </dd>
  <dd> <br>
  </dd>
  <dd>&nbsp; <br>
  </dd>
  <dd> &nbsp; <br>
  </dd>
  <dt><a name="ipXi_1"></a><b><big><tt><big>ipXi[1]</big> </tt></big></b>-
Process extent   parameter pXi: end value</dt>
  <dd> &nbsp;<br>
This real value defines the end "reaction-extent" point of the process
 simulation (if not specified otherwise in the <span
 style="font-family: monospace;">P_expr</span> math script).. Default
value  is 0. <br>
  </dd>
</dl>
<dl>
  <dd><span style="font-weight: bold; text-decoration: underline;">Attention:</span>
In the case of an inverse titration sequence (the <a
 href="gm_proces.html#PePsts_11"><span style="font-family: monospace;">PePsts[11]</span></a>
flag set to <span style="font-family: monospace;">'+'</span>), this
cell   must contain the maximum possible addition of titrant.&nbsp;</dd>
</dl>
<dl>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="ipXi_2"></a><b><big><tt><big>ipXi[2]</big> </tt></big></b>-
Process extent   parameter pXi: step value</dt>
  <dd> &nbsp; <br>
This real value contains a (logarithmic) step of the "reaction-extent"
 variable pXi. Default value is 0. <br>
&nbsp; <br>
    <span style="font-weight: bold; text-decoration: underline;">Attention:</span>
In the case of an inverse titration sequence, this cell must contain the
precision for the quantity of added titrant (usually 1e-6 to 1e-9 mol).
&nbsp;</dd>
  <dd> &nbsp;<br>
&nbsp; <br>
  </dd>
  <dt><a name="cpXi"></a><b><big><tt><big>cpXi</big> </tt></big></b>-
Current pXi = -log(Xi), where Xi stands for a logarithmic "reaction
extent" variable</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This cell is automatically initialized as <span
 style="font-family: monospace;">cpXi =: ipXi[0]</span> when<span
 style="font-family: monospace;"> J </span>= 0. If not set in <a
 href="#P_expr"><span style="font-family: monospace;">P_expr</span></a>
math script operators, the <span style="font-family: monospace;">cpXi </span>cell
is incremented automatically as&nbsp; <span
 style="font-family: monospace;">cpXi =: ipXi[0] + J*ipXi[2]</span>. <br>
&nbsp;<br>
&nbsp;&nbsp; </dd>
  <dt><a name="cXi"></a><b><big><tt><big>cXi</big> </tt></big></b>-
Current Xi = 10^cpXi   - the linear "process extent" variable</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This work cell can be used in the <a href="#P_expr"><span
 style="font-family: monospace;">P_expr</span></a> or <a href="#pgExpr"><span
 style="font-family: monospace;">pGexpr</span></a> math scripts; usually
assigned as <span style="font-family: monospace;">cXi =: 10^cpXi</span>.&nbsp;
&nbsp;</dd>
  <dd> &nbsp; <br>
&nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="iNu_0"></a><b><big><tt><big>iNu[0]</big> </tt></big></b>-
Factor of the   process extent Nu: start value </dt>
  <dd>&nbsp;&nbsp; &nbsp;</dd>
  <dd>This iterator can define changes in the "process extent factor"
cXi   = cNu * 10^cpXi (has to be written explicitly in the P_expr math
script).   Default value is 0.&nbsp;&nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dd>&nbsp;<br>
  </dd>
  <dt><a name="iNu_1"></a><big><b><big><tt>iNu[1]</tt></big></b></big> -
Factor of the   process extent Nu: end value</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This real value may set up an upper boundary of the "process
extent"   factor cNu. &nbsp;Default value is 0.&nbsp;</dd>
</dl>
<dl>
  <dd><span style="font-weight: bold; text-decoration: underline;">Attention:</span>
If an <a href="#INV_TITR_SEQ">inverse titration sequence </a>(<a
 href="#PePsts_11"><span style="font-family: monospace;">PePsts[11]</span></a>
set to <span style="font-family: monospace;">'+'</span>) is specified
then <span style="font-family: monospace;">iNu[1]</span> must
contain the  precision of the parametric deviation function (for pH,
usually 0.01).</dd>
</dl>
<dl>
  <dd><br>
  </dd>
  <dd><br>
  </dd>
  <dt><a name="iNu_2"></a><b><big><tt><big>iNu[2]</big> </tt></big></b>-
Factor of the   process extent Nu: step value &nbsp;</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> This real value defines a step size for a increment of the
"process   extent" factor cNu. Default value is 0. </dd>
  <dd>&nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="cNu"></a><b><big><tt><big>cNu</big> </tt></big></b>-
Current Nu - the   process extent factor </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This work cell is automatically initialized as <span
 style="font-family: monospace;">cNu =: iNu[0]</span>. If not assigned
in   the <a href="#P_expr"><span style="font-family: monospace;">P_expr</span></a>
math script, <span style="font-family: monospace;">cNu</span> will be
automatically   incremented as <span style="font-family: monospace;">cNu
=: iNu[0] + iNu[2]</span>. <br>
&nbsp; <br>
    <span style="font-weight: bold; text-decoration: underline;">Attention:</span>
If an<a href="#INV_TITR_SEQ"> inverse titration sequence</a> is performed
 then the <span style="font-family: monospace;">cNu</span> cell must be
explicitly  assigned with the current value of the deviation   function
on iterations  of the built-in "golden section" procedure. Example: <span
 style="font-family: monospace;">cNu =: cpH - pH;</span> in the <span
 style="font-family: monospace;">P_expr</span> math script. <br>
&nbsp; <br>
&nbsp;<br>
&nbsp;&nbsp;</dd>
  <dt><a name="ipH_0"></a><b><big><tt><big>ipH[0]</big> </tt></big></b>-
Prescribed pH sequence (for   inverse titrations): start value </dt>
  <dd>&nbsp; &nbsp;</dd>
  <dd>This iterator can be used for generating a sequence of equilibria
that   produce pre-defined values pH (or another output parameter of
equilibrium   state) by solving a <a href="#INV_TITR_SEQ">sequence of
GEM inverse titration   problems</a>. In cases of forward modelling,
these cells can be used as work  variables in <a href="#P_expr"><span
 style="font-family: monospace;">P_expr</span></a> or <a href="#pgExpr"><span
 style="font-family: monospace;">pGexpr</span></a> math scripts. Default
value is 0.&nbsp;&nbsp;</dd>
  <dd> &nbsp; &nbsp;<br>
  </dd>
  <dd> <br>
  </dd>
  <dt><a name="ipH_1"></a><b><big><tt><big>ipH[1]</big> </tt></big></b>-
&nbsp;Prescribed   pH sequence: end value</dt>
  <dd> &nbsp; <br>
This real value sets the upper limit to pH (or another parameter)
sequence.   Default value is 0.&nbsp;</dd>
  <dd> &nbsp;&nbsp;</dd>
  <dd> &nbsp;<br>
  </dd>
  <dt> <a name="ipH_2"></a><tt><big><b><big>ipH[2]</big></b></big> </tt>-
Prescribed   pH sequence: step size</dt>
  <dd> &nbsp; <br>
This real value defines a step size for incrementing pH (usually in a 
sequence  of inverse titrations). Default is 0. Recommended step sizes
for pH are 0.1;  0.2; 0.5, depending on the pH interval. </dd>
  <dd>&nbsp; <br>
&nbsp;<br>
  </dd>
  <dt><a name="cpH"></a><b><big><tt><big>cpH</big> </tt></big></b>-
Current pH at J-th   inverse titration point </dt>
  <dd>&nbsp;&nbsp; </dd>
  <dd>This work cell is automatically initialized as&nbsp; <span
 style="font-family: monospace;">cpH =: ipH[0]</span>. If not written
in the <span style="font-family: monospace;">P_expr</span> math
script, the <span style="font-family: monospace;">cpH</span> value
is automatically   incremented as&nbsp; <span
 style="font-family: monospace;">cpH =: ipH[0]  + J*ipH[2]</span>. See
also a section about the<a href="#INV_TITR_SEQ"> inverse   titration
sequence</a>.&nbsp; </dd>
  <dd>
    <p>&nbsp; &nbsp;</p>
  </dd>
  <dt><a name="ipe_0"></a><b><big><tt><big>ipe[0]</big> </tt></big></b>-
Prescribed pe values for   the inverse titration sequence: start value </dt>
</dl>
<dl>
  <dd>This iterator can be used for generating a sequence of equilibria
that   produce pre-defined values of pe (or another output parameter of
equilibrium   state) by solving a <a href="gm_proces.html#INV_TITR_SEQ">sequence
of GEM   inverse titration problems</a>. In cases of forward modelling,
these cells   can be used as work variables in <a
 href="gm_proces.html#P_expr"><span style="font-family: monospace;">P_expr</span></a>
or <a href="gm_proces.html#pgExpr"><span style="font-family: monospace;">pGexpr</span></a>
math scripts. Default value is 0.</dd>
</dl>
<dl>
  <dd> &nbsp; <br>
  </dd>
  <dt><a name="ipe_1"></a><b><big><tt><big>ipe[1]</big> </tt></big></b>-
&nbsp;Prescribed   pe values: end value </dt>
  <dd>&nbsp; <br>
This real value sets the upper limit to pe sequence. Default value is 
0.&nbsp;</dd>
  <dd> &nbsp;</dd>
  <dd> <br>
  </dd>
  <dt> <a name="ipe_2"></a><b><big><tt><big>ipe[2]</big> </tt></big></b>-
Prescribed   pe sequence: step size</dt>
  <dd> &nbsp; <br>
This real value defines a step size for incrementing pe (in a sequence
 of inverse titrations). Default value is 0. Recommended step sizes for
pe  are 0.5 or 1.0, depending on the total pe interval. </dd>
  <dd> &nbsp; <br>
  </dd>
</dl>
<dl>
  <dt><a name="cpe"></a><b><big><tt><big>cpe</big> </tt></big></b>-
Current pe at J-th   inverse titration point&nbsp; </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This work cell is automatically initialized as&nbsp; <span
 style="font-family: monospace;">cpe =: ipe[0]</span>. If not written
in the <span style="font-family: monospace;">P_expr</span> math
script, the <span style="font-family: monospace;">cpe</span> value
is automatically   incremented as&nbsp; <span
 style="font-family: monospace;">cpe =: ipe[0]  + J*ipe[2]</span>. In
the&nbsp;<a
 href="file:///E:/gems2html/program/doc/html/gm_proces.html#INV_TITR_SEQ">
inverse titration sequence</a> math script, the operator &nbsp;<span
 style="font-family: monospace;">cNu =: cpH - pH;</span> must be
replaced   by <span style="font-family: monospace;">cNu =: cpe - pe;</span>.
&nbsp; </dd>
  <dd> <br>
  </dd>
  <dd><br>
  </dd>
  <dt><a name="cEh"></a><b><big><tt><big>cEh</big> </tt></big></b>-
Current Eh value </dt>
  <dd>&nbsp;&nbsp; &nbsp;</dd>
  <dd>This work cell, analogous to <a href="#cpH"><span
 style="font-family: monospace;">cpH</span></a>, can contain the
current prescribed value of Eh (in V).&nbsp; <br>
    <span style="font-weight: bold; text-decoration: underline;">Attention:</span>
During calculation of <a href="#INV_TITR_SEQ">inverse titration
sequences</a>,   this cell holds the current   amount of titrant set by
the built-in "golden   section" algorithm. </dd>
  <dd> &nbsp; <br>
&nbsp; <br>
  </dd>
</dl>
<dl>
  <dt><a name="NeIt_0"></a><big><b><big><tt>NeIt[0]</tt></big></b></big>
- Max. number   of iterations allowed (<span
 style="font-family: monospace;">&gt;= Ntxi[1]</span>;   for inverse
titrations, <span style="font-family: monospace;">&gt; Ntxi[1]*15</span>)</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This counter is necessary to prevent infinite cycling in case of
incorrect   specification of controlling parameters. Default value is
400. The process   simulation will stop with a warning message when the <span
 style="font-family: monospace;">NeIt[0]</span> limit is reached. <br>
  </dd>
  <dd>&nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="NeIt_1"></a><big><b><big><tt>NeIt[1]</tt></big></b></big>
- Number of   completed main steps in the process simulation </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This field contains the number of completed main iterations of
the process simulator, which is equal to the current index of processed
SysEq record   key and the <span style="font-family: monospace;">J</span>
index used in math scripts&nbsp; (<span style="font-family: monospace;">
J =: NeIt[1]</span> ). <br>
  </dd>
  <dd>&nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="Next"></a><b><big><tt><big>Next</big> </tt></big></b>- A
flag to continue   (1) or finish (0) main process simulation steps</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This flag is automatically set to 1 at the start of the process
simulation   and to 0 when a maximum number of allowed iterations has
been achieved, or  one of iterator's limits reached. Simulation  will
also stop if <span style="font-family: monospace;">Next</span> is set
to 0 in any of the math   script expressions. <br>
  </dd>
  <dd>&nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="I"></a><b><big><tt><big>I</big> </tt></big></b>-
Internal index in an   inverse titration sequence step </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This index controls iterations of the "golden section" procedure
in   a sequence of inverse titration problems. In a single inverse
titration,  it must be incremented in the math script text. In other
cases, the <span style="font-family: monospace;">I</span> cell can be
used as a work variable. <br>
    <p> &nbsp; </p>
  </dd>
  <dt> <a name="J"></a><b><big><tt><big>J</big> </tt></big></b>-
&nbsp;Process simulation   main step index</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> This&nbsp; index is automatically incremented (from 0 to <tt><a
 href="#Ntxi_1">Ntxi[1]</a>-1</tt>) when the next process  simulation
point  is to be performed. This index is automatically changed by the
program. You  can use it in math scripts, but you should not modify the<span
 style="font-family: monospace;">J</span> value, as it may cause 
unpredictable  behavior of the process simulator. <br>
  </dd>
  <dd>&nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="cnrk"></a><big><b><big><tt>Jp</tt></big></b></big> -
Current index of   the processed SysEq in the record key list</dt>
  <dd><br>
  </dd>
  <dd>This index is incremented automatically (usually in parallel with
the <span style="font-family: monospace;">J</span> index). Can be
read in   the math script expressions. <br>
  </dd>
  <dd> <br>
  </dd>
  <dd>&nbsp; <br>
    <br>
&nbsp;&nbsp;</dd>
  <dd> <br>
  </dd>
</dl>
<h3>Optional Data Vectors</h3>
&nbsp;These optional dynamic data objects are not used by default, but
 any of them can be allocated (using the respective flag) during
creation or remake of the Process record. The first three objects are
used commonly, other can help for debugging- or data sampling
purposes.&nbsp;
<dl>
  <dt> <br>
  </dt>
  <dt> <a name="PSDref"></a><big><b><big><tt>PSDref</tt></big></b></big>
-&nbsp;List of SDref keys to data sources</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> This list can contain one or more <a
 href="gdb_rkey.html#dbm_SDref">SDref record keys</a> (in packed format)
referencing to bibliography or your comments to this process simulator
definition. Allocated if the&nbsp; <span
 style="font-family: monospace;">PeDim1[4]&nbsp;</span> counter is set
to a positive number upon remake or create. &nbsp;</dd>
  <dd> &nbsp;</dd>
  <dd> <br>
  </dd>
  <dt> <a name="PSDval"></a><big><b><big><tt>PSDval</tt></big></b></big>
- List of short   comments to SDref &nbsp;keys in the PSDref list. </dt>
  <dd>&nbsp; <br>
  </dd>
  <dd> This list of comments is allocated if the <span
 style="font-family: monospace;">PeDim1[4]</span> counter is set to a
positive   number of lines in the <a href="#PSDref"><span
 style="font-family: monospace;">PSDref</span></a> list.&nbsp;</dd>
  <dd> &nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="modC"></a><big><b><big><tt>modC</tt></big></b></big> -
Array of the process   simulation parameters </dt>
  <dd>
    <p>This optional vector or matrix can contain data used in
specification   of the process simulation model by means of IPN math
script expressions.  Each row in this array corresponds to one step in
the main process simulation  sequence (indexed by a <a href="#J"><span
 style="font-family: monospace;">J</span></a> index). </p>
    <p>In the<a href="#P_expr"><span style="font-family: monospace;">
P_expr</span></a> or <a href="#pgExpr"><span
 style="font-family: monospace;">pGexpr</span></a> math script, you
should refer to this array as <span style="font-family: monospace;">modC[J][0]</span><span
 style="font-family: monospace;">, modC[J][1], ... </span>depending on
how   many columns were specified in the <span
 style="font-family: monospace;"><a href="#PeDim1_1">PeDim1[1]</a> </span>counter.
The&nbsp;<span style="font-family: monospace;"></span>number of rows is
automatically set  equal to <span style="font-family: monospace;">Ntxi[1]</span>on
remake.  &nbsp;  &nbsp;</p>
  </dd>
  <dd>&nbsp; <br>
  </dd>
</dl>
<p> </p>
<dl>
  <dt><a name="vTm"></a><b><big><tt>vTm</tt></big></b> - Optional vector
to collect VarCSD ( <a href="#cTm"><span
 style="font-family: monospace;">cTm</span></a> ) numbers from main
process simulaion steps&nbsp;</dt>
  <dd><b><i> </i></b>&nbsp; <br>
  </dd>
  <dd>This&nbsp; vector of length <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a> is allocated if the <a
 href="#PePvv_0"><span style="font-family: monospace;">PePvv[0]</span></a>
flag is set on (<span style="font-family: monospace;">"+"</span>). If
not   specified otherwise in the&nbsp; <a href="#P_expr"><span
 style="font-family: monospace;">P_expr </span></a>math script, the
CSD variant   number will be stored automatically as <span
 style="font-family: monospace;">vTm[J] =: cTm; </span><br>
  </dd>
  <dd>&nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="vNV"></a><b><tt><big>vNV</big></tt></b> - Optional vector
of VarTD (<a href="#cNV"><span style="font-family: monospace;">cNV</span></a>)
numbers from main process simulation steps </dt>
  <dd><br>
  </dd>
</dl>
<dl>
  <dd>This&nbsp; vector of length <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a> is allocated if the <a
 href="#PePvv_1"><span style="font-family: monospace;">PePvv[1]</span></a>
flag is set on (<span style="font-family: monospace;">"+"</span>). If
not   specified otherwise in the&nbsp; <a href="#P_expr"><span
 style="font-family: monospace;">P_expr </span></a>math script, the
VarTD   number will be stored automatically as <span
 style="font-family: monospace;">vNV[J] =: cNV; </span></dd>
</dl>
<dl>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="vP"></a><b><big><tt>vP</tt></big></b> - Optional vector
of   pressure values (<a href="#cP"><span
 style="font-family: monospace;">cP</span></a>)   from main process
simulation steps </dt>
  <dd> &nbsp; </dd>
</dl>
<dl>
  <dd>This&nbsp; vector of length <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a> is allocated if the <a
 href="#PePvv_2"><span style="font-family: monospace;">PePvv[2]</span></a>
flag is set on (<span style="font-family: monospace;">"+"</span>). If
not   specified otherwise in the&nbsp; <a href="#P_expr"><span
 style="font-family: monospace;">P_expr </span></a>math script, the
pressure   values (in bar) will be stored automatically as <span
 style="font-family: monospace;">vP[J] =: cP;<br>
&nbsp; <br>
    </span></dd>
</dl>
<dl>
  <dt><a name="vV"></a><b><big><tt>vV</tt></big></b> - Optional vector
of   volume constraint (<a href="#cV"><span
 style="font-family: monospace;">cV</span></a>)   values from main
process simulation steps</dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>This&nbsp; vector of length <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a> is allocated if the <a
 href="#PePvv_3"><span style="font-family: monospace;">PePvv[3]</span></a>
flag is set on (<span style="font-family: monospace;">"+"</span>). If
not   specified otherwise in the&nbsp; <a href="#P_expr"><span
 style="font-family: monospace;">P_expr </span></a>math script, the
pressure   values (in bar) will be stored automatically as <span
 style="font-family: monospace;">vV[J] =: cV;</span></dd>
</dl>
<dl>
  <dd>&nbsp;<br>
  </dd>
  <dt><a name="vT"></a><b><big><tt>vT</tt></big></b> - Optional vector
of   temperatures (<a href="#cT"><span style="font-family: monospace;">cT</span></a>)
from main process simulation steps </dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>This&nbsp; vector of length <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a> is allocated if the <a
 href="#PePvv_4"><span style="font-family: monospace;">PePvv[4]</span></a>
flag is set on (<span style="font-family: monospace;">"+"</span>). If
not   specified otherwise in the&nbsp; <a href="#P_expr"><span
 style="font-family: monospace;">P_expr </span></a>math script, the
temperature   values (in Kelvin) will be stored automatically as <span
 style="font-family: monospace;">vT[J] =: cT;</span></dd>
</dl>
<dl>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="vTau"></a><b><big><tt>vTau</tt></big></b> - Optional
vector   of Tau (physical time, <a href="#cTau"><span
 style="font-family: monospace;">cTau</span></a>) values from main
process   simulation steps </dt>
  <dd> &nbsp; <br>
  </dd>
</dl>
<dl>
  <dd>This&nbsp; vector of length <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a> is allocated if the <a
 href="#PePvv_5"><span style="font-family: monospace;">PePvv[5]</span></a>
flag is set on (<span style="font-family: monospace;">"+"</span>). We
recommend   always to allocate it if the process simulator involves
kinetic dependencies.   If not specified otherwise in the&nbsp; <a
 href="#P_expr"><span style="font-family: monospace;">P_expr </span></a>math
script, the time values (in bar) will be stored automatically as <span
 style="font-family: monospace;">vTau[J] =: cTau;<br>
&nbsp; <br>
&nbsp;<br>
    </span></dd>
</dl>
<dl>
  <dt><a name="vpXi"></a><b><big><tt>vpXi</tt></big></b> - Optional
vector   of pXi (-log process extent <span
 style="font-family: monospace;"><a href="#cpXi">cpXi</a>)</span> values
from main process simulation steps </dt>
  <dd> &nbsp; <br>
  </dd>
</dl>
<dl>
  <dd>This&nbsp; vector of length <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a> is allocated if the <a
 href="#PePvv_6"><span style="font-family: monospace;">PePvv[6]</span></a>
flag is set on (<span style="font-family: monospace;">"+"</span>). We
recommend   always to allocate it if the process simulator involves
kinetic dependencies.   If not specified otherwise in the&nbsp; <a
 href="#P_expr"><span style="font-family: monospace;">P_expr </span></a>math
script, the time values (in bar) will be stored automatically as <span
 style="font-family: monospace;">vpXi[J] =: cpXi;<br>
&nbsp; <br>
&nbsp; <br>
    </span></dd>
</dl>
<dl>
  <dt><a name="vNu"></a><b><big><tt>vNu</tt></big></b> - Optional vector
of Nu (process extent factor <a href="#cNu"><span
 style="font-family: monospace;">cNu</span></a>) values from main
process   simulation steps </dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>This&nbsp; vector of length <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a> is allocated if the <a
 href="#PePvv_7"><span style="font-family: monospace;">PePvv[7]</span></a>
flag is set on (<span style="font-family: monospace;">"+"</span>). We
recommend   always to allocate it if the process simulator involves
kinetic dependencies.   If not specified otherwise in the&nbsp; <a
 href="#P_expr"><span style="font-family: monospace;">P_expr </span></a>math
script, the time values (in bar) will be stored automatically as <span
 style="font-family: monospace;">vNu[J] =: cNu;</span></dd>
</dl>
<dl>
  <dd>&nbsp; &nbsp; </dd>
  <dd> &nbsp; <br>
  </dd>
  <dt> <a name="vKin"></a><b><big><tt>vKin</tt></big></b> - Optional
array   of parameters for (reaction) kinetic dependencies </dt>
  <dd>&nbsp;&nbsp; </dd>
  <dd>This work array for kinetic parameters will be created upon
remake if the <a href="#PePvv_8"><span style="font-family: monospace;">PePvv[8]</span></a>
flag is turned on (<span style="font-family: monospace;">'+'</span>) and
&nbsp;<a href="#PeDim1_3"><span style="font-family: monospace;">PeDim1[3]</span></a>
(number of rows) and <a href="#PeDim1_4"><span
 style="font-family: monospace;">PeDim1[4] </span></a>(number of
columns)   are set to positive numbers. This data object may be used in <a
 href="#P_expr"><span style="font-family: monospace;">P_expr</span></a>
and/or <a href="#pgExpr"><span style="font-family: monospace;">pGexpr</span></a>
math scripts for implementation of advanced kinetically-dependent
process   simulators. </dd>
  <dd>&nbsp; <br>
  </dd>
  <dd> &nbsp;<br>
  </dd>
  <dt> <a name="PeStl"></a><big><b><big><tt>PeStl</tt></big></b></big>
-&nbsp;List of   generated SysEq record keys</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This list of process-generated <a href="gdb_rkey.html#dbm_SysEq">SysEq
record keys</a> &nbsp;(in packed format) is automatically created
&nbsp;during   &nbsp;process simulations. &nbsp;The list can help in
identifying &nbsp;a   particular SysEq record that &nbsp;has to be
examined in detail (e.g. for   debugging purposes). Note that this list
contains fictive SysEq record keys   if the <a href="#PePsts_4"><span
 style="font-family: monospace;">PePsts[4]</span></a> &nbsp;flag is
switched off ('-') and saving of SysEq records to database  is
disabled.&nbsp; </dd>
  <dd>&nbsp; &nbsp;&nbsp;</dd>
  <dd> &nbsp;<br>
  </dd>
  <dt> <a name="pSTkey"></a><b><big><tt><big>pSTkey</big> -&nbsp;</tt></big></b>
Current SysEq record key</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This field displays the last processed <a
 href="gdb_rkey.html#dbm_SysEq">SysEq record key</a> generated from the <a
 href="gdb_rkey.html#dbm_Proces">Process record key</a> and current
contents   of the <span style="font-family: monospace;">&nbsp;<a
 href="#cTm">cTm</a>, <a href="#cV">cV</a>, <a href="#cP">cP</a>,<a
 href="#cTC">cTC</a>, <a href="#cNV">cNV</a> </span>cells. </dd>
  <dd>
    <p>&nbsp; &nbsp;&nbsp;</p>
  </dd>
  <dd>
    <p><br>
    </p>
  </dd>
</dl>
<h3>Data Objects for Sampling/Plotting Mode&nbsp;</h3>
&nbsp;The data objects listed below appear when the data
sampling/plotting   mode is activated during create/remake of the
process simulator by setting   the flag &nbsp;<a href="#PePsts_6"><span
 style="font-family: monospace;">PePsts[6]</span></a> on (<span
 style="font-family: monospace;">'+'</span>).&nbsp;
<dl>
  <dd><br>
  </dd>
  <dt><a name="pgExpr"></a><big><b><big><tt>pgExpr</tt></big></b></big>
- Math Script   expressions for data sampling during the process
simulation <br>
  </dt>
  <dd><br>
  </dd>
  <dd>Equations in this <a href="gmscript.html">math script</a> text
provide   you with power and flexibility in extracting any input or
output numerical   data and perform various calculations before
plotting results or exporting   them for use in other programs. To
facilitate writing of data sampling math   scripts, a <a
 href="gmscript.html#MS_LIBRARY">template library</a> is provided   (see
also <a href="#PROCESS_SAMPL_MATH_SCRIPT">"Writing process data
sampling   math scripts"</a> chapter).</dd>
  <dd> &nbsp; <br>
The minimum possible set of <span style="font-family: monospace;">&nbsp;pGexpr</span>
&nbsp;math script expressions for data sampling has the following form:
 </dd>
</dl>
<dl style="margin-left: 40px;">
  <dd><samp><tt>xp[J] =: &lt;expression&gt;;</tt></samp></dd>
  <dd><samp><tt>yp[J][0] =: &lt;expression&gt;;</tt></samp></dd>
  <dd><samp><tt>. . .</tt></samp></dd>
  <dd><samp><tt>yp[J][n] =: &lt;expression&gt;;</tt></samp></dd>
</dl>
<dl>
  <dd>here, &nbsp;<span style="font-family: monospace;">n</span> stands
for   the last valid index of columns in the data sampling array <a
 href="#yp"><span style="font-family: monospace;">yp</span></a>; &nbsp;<span
 style="font-family: monospace;">&lt;expression&gt;</span> must contain
some   labels of data objects visible on the EqDemo window pages.
Arbitrary expressions   for intermediate calculations can also be
specified. Lists of (hidden) data  objects that can be used in Process
math scripts are provided in a <a href="dod_labels.html">separate
file</a>. <br>
  </dd>
  <dd> &nbsp; <br>
&nbsp;<br>
  </dd>
  <dt><a name="xp"></a><big><b><big><tt>xp</tt></big></b></big> -&nbsp;
Vector-column   of abscissa x</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This vector-column (of dimension <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a>) will be used as an
abscissa   (x axis) for plotting the sampled data. Contents of this
vector must be filled  out in the&nbsp; <a href="#pgExpr"><span
 style="font-family: monospace;">pgExpr</span></a> &nbsp;math script, to
 be executed during the process simulation.&nbsp;</dd>
  <dd> &nbsp;</dd>
  <dd>&nbsp; <br>
  </dd>
  <dt> <a name="yp"></a><big><big><b><tt>yp</tt></b></big></big> - Data
table of ordinate(s)&nbsp;   y</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>Each column of the <span style="font-family: monospace;">yp</span>
sampled data table will be plotted as a separate curve. &nbsp;Number of
columns in the <span style="font-family: monospace;">yp</span> table
can be set in the <a href="#pDimXY%5B1%5D"><span
 style="font-family: monospace;">pDimXY[1]</span></a> counter upon
remake/create of the Process record. Number of rows is set from <a
 href="#pDimXY%5B0%5D"><span style="font-family: monospace;">pDimXY[0]</span></a>
counter which, in turn, automatically equals <span
 style="font-family: monospace;">Ntxi[1]</span> counter. &nbsp; </dd>
  <dd> &nbsp;<br>
&nbsp; &nbsp;</dd>
  <dt><a name="xEp"></a><big><b><big><tt>xEp</tt></big></b></big> -
Vector-column of   abscissa for empirical data xE</dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>In this vector-column, the user can enter empirical
(experimental) data that will be used as an abscissa for plotting
empirical (scattered) points on the graph. The number of elements in
the <span style="font-family: monospace;">xEp</span> vector can be
defined in the <span style="font-family: monospace;"><a
 href="#pDimEf%5B0%5D">pDimEf[0]</a> </span>counter on remake/create of
the Process record. </dd>
</dl>
<dl>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="yEp"></a><big><b><big><tt>yEp</tt></big></b></big> -
Vector-column (or   table) of ordinate(s) for empirical data yE</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>Here, the user can enter empirical (experimental) data to be used
as   ordinate(s) for plotting empirical (scattered) points on the
graph. The number  of lines (ordinates) can be defined in the <a
 href="#pDimEf%5B1%5D"><span style="font-family: monospace;">pDimEf[1]</span></a>
counter and that of  points - in the <a href="#pDimEf%5B0%5D"><span
 style="font-family: monospace;">pDimEf[0]</span></a> counter upon
remake/create   of the Process record. </dd>
  <dd> &nbsp; <br>
&nbsp; <br>
  </dd>
</dl>
<dl>
  <dt><a name="pX_Nam"></a><big><b><big><tt>pX_Nam</tt></big></b></big>
-&nbsp; Abscissa   name (for the graph)</dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>Here, the user should type a short name (up to 8 characters) for
the   abscissa axis that will be shown on the graph. Typical examples: <span
 style="font-family: monospace;">"pH", "log M", "Mol.Fr.%"</span>.
Ideally,   the abscissa name should include units of measurement.
&nbsp; &nbsp;</dd>
  <dd> &nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="pY_Nam"></a><big><b style="font-weight: bold;"><big><tt>pY_Nam</tt></big></b><span
 style="font-weight: bold;"> </span></big>-&nbsp; Ordinate   name (for
the graph)</dt>
  <dd> &nbsp; &nbsp; </dd>
  <dd>Here, the user should type a short name (up to 8 characters) for
the   ordinate axis to be shown on the graph. Typical examples: <span
 style="font-family: monospace;">"log M", "Molal", "log a"</span>.
Ideally,   the ordinate name should define units of measurement because
names of the   plot lines can be given separately in the <a
 href="#pLnam"><span style="font-family: monospace;">pLnam</span></a>
list.&nbsp;</dd>
  <dd> &nbsp;<br>
  </dd>
  <dd> <br>
  </dd>
</dl>
<dl>
  <dt> <tt><b><big><a name="pLnam"></a><big>pLnam</big>&nbsp;</big></b></tt>
- List of names of columns in the <a href="#yp"><span
 style="font-family: monospace;">yp</span></a> array<b><i> </i></b></dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>Here, the user should enter names of columns (plot lines)
corresponding   to columns in the <a href="#yp"><span
 style="font-family: monospace;">yp</span></a> (sampled data) table. The
names must not exceed 6 characters. They will be  displayed on the
graph legend together with coloured symbols and plot lines.  From
there, you can drag-and-drop the names onto the graph field (see also 
the <a href="#PROCESS_PLOT_EXPORT">"Plotting and exporting results"
chapter</a>).  Number of elements in this list is defined in the <a
 href="#PeDim1_0"><span style="font-family: monospace;">PeDim1[0]</span></a>
counter.&nbsp; </dd>
  <dd><br>
&nbsp; <br>
    <p> </p>
  </dd>
  <dt> <a name="pLnamE"></a><big><b><big><tt>pLnamE</tt></big></b></big>
-&nbsp; List   of names of columns in the <a href="#yEp"><span
 style="font-family: monospace;">yEp</span></a> array of empirical data</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>Enter here the name(s) of column(s) in the yEp array of empirical
data.   Similar to names in the pLnam list, these will also be
displayed on the graph  legend. Number of elements in this list is
defined in the <a href="#pDimEf%5B1%5D"><span
 style="font-family: monospace;">pDimEf[1]</span></a> counter.&nbsp;</dd>
  <dd> &nbsp;</dd>
  <dd><br>
  </dd>
</dl>
<h3>The data fields described below can be changed only in remake mode.</h3>
<dl>
  <dt><a name="pDimXY[0]"></a><b><big><tt><big>pDimXY[0]</big> -</tt></big></b><big><tt> </tt></big>Number
of rows in xp, yp arrays (simulated points to be sampled)</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>This counter contains the number of rows for allocation of the <a
 href="#xp"><span style="font-family: monospace;">xp</span></a> and <a
 href="#yp"><span style="font-family: monospace;">yp</span></a> arrays.
Usually,   there is no need to set it during creation of a new Process
record: the number  will be automatically copied from the <a
 href="#Ntxi_1"><span style="font-family: monospace;">Ntxi[1]</span></a>
counter. &nbsp;However,   it is good to check this counter upon remake
because it must be that <span style="font-family: monospace;">pDimXY[0]
&gt;= Ntxi[1]</span>.&nbsp; </dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd> &nbsp;<br>
  </dd>
  <dt> <a name="pDimXY[1]"></a><big><b><big><tt>pDimXY[1]</tt></big></b></big><b><i> </i></b>-
Number of columns in the yp table (plot lines)</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>If the data sampling/plotting mode of process simulation is
activated   (flag <span style="font-family: monospace;"><a
 href="#PePsts_6">PePsts[6]</a> = '+'</span>) then the user must enter
here the number of columns in the <a href="#yp"><span
 style="font-family: monospace;">yp</span></a> table   (or plot lines to
be shown on the graph). Recommended number of lines lies   between 1
and 3. If you need to sample/plot more output parameters then better 
create one or more <a href="gm_gtdemo.html">GtDemo data samplers</a>
connected to this process simulation.&nbsp;</dd>
  <dd> &nbsp;</dd>
  <dd> <br>
  </dd>
  <dt> <a name="pDimEf[0]"></a><big><b><big><tt>pDimEf[0]</tt></big></b></big>
- Number   of points&nbsp;of input empirical data (rows in <a
 href="#xEp"><span style="font-family: monospace;">xEp</span></a> and <a
 href="#yEp"><span style="font-family: monospace;">yEp</span></a>
arrays).&nbsp;</dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>Here, the user should enter the number of empirical data points
to be shown as scattered symbols on the graph together with the
simulated lines.&nbsp;<b><i> </i></b></dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd> <br>
  </dd>
  <dt> <a name="pDimEf[1]"></a><big><b><big><tt>pDimEf[1]</tt></big></b></big>
- Number   of parameters in the input empirical data (columns in the <a
 href="#yEp"><span style="font-family: monospace;">yEp</span></a> array).</dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>Here, the user should enter the number of empirical parameters to
be   shown as different scattered symbols on the graph together with
the simulated   lines. In most cases, this number is 1, seldomly 2 or
3.&nbsp;</dd>
</dl>
<dl>
  <dd>Dimensions of input empirical data: number of parameters (columns
in   yEp array)</dd>
  <dd>&nbsp; &nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <br>
  </dt>
</dl>
<h3>Data Objects that can be changed in Create/Remake mode only</h3>
<dl>
  <dt> <a name="PePsts_0"></a><big><b><big><tt>PePsts[0]</tt></big></b></big>
- Process   Simulation status: 0/5-indefinite; 1/6-start; 2/7-run;
4/9-end </dt>
  <dd> <br>
  </dd>
  <dd>This flag shows the process simulation status flag that controls
operation   of the Process module. In the usual (non-stepwise mode),
the flag takes the  following values: </dd>
  <dd> <br>
  </dd>
  <dd>0 &nbsp; indefinite <br>
1 &nbsp; start of process simulation <br>
2 &nbsp; progress or the process simulation <br>
4 &nbsp; process simulation finished </dd>
  <dd> <br>
The "stepwise" calculation mode is performed when the PePsts[0] flag
has one of the following values: <br>
  </dd>
  <dd><br>
5&nbsp;&nbsp; indefinite (stepwise) <br>
6 &nbsp; start of stepwise process simulation <br>
7 &nbsp; progress of stepwise process simulation <br>
9 &nbsp; stepwise process simulation finished </dd>
  <dd> &nbsp; <br>
  </dd>
  <dd>There is no need to&nbsp; manually change this field, except when
you   want to run a previously "non-stepwise" process in the "stepwise
mode. To   do this, just remake the Process record and set this flag to
5, then press   "Ok" and start the simulation by pressing the
"Calculate" button. In the  other way round (by changing this flag to 0
upon remake), you can convert  the process simulator to "non-stepwise"
mode (runs faster, but cannot be stopped or executed
step-by-step).&nbsp; &nbsp;<br>
  </dd>
  <dd>&nbsp;</dd>
  <dd> &nbsp; <br>
  </dd>
  <dt><a name="PePsts_1"></a><big><b><big><tt>PePsts[1]</tt></big></b></big>
- Is T,P,V   of the system changing in the process (+ -)?</dt>
  <dd>
    <p>This flag incicates that temperature T, pressure P or volume
constraint   V of the system will be changed in the process simulation.
Default is off   ('-'). If the flag is set on, the respective iterator (<span
 style="font-family: monospace;"><a href="#iTC_0">iTC</a>, <a
 href="#iV_0">iP</a></span> or <a href="#iV_0"><span
 style="font-family: monospace;">iV</span></a>) must have a non-zero
step   size.&nbsp;</p>
  </dd>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="PePsts_2"></a><big><tt><b><big>PePsts[2]</big></b></tt></big>
- Is there   a change in the bulk composition of the system (+ -)? </dt>
  <dd>
    <p>This flag indicates that <a href="glossary.html#DT_CSD">CSD</a>
(bulk composition) will be changed during the process simulation.
Default is on   ('+'). If the flag is set on then the iterator <a
 href="#iTm_0"><span style="font-family: monospace;">iTm</span></a> must
specify a non-zero step   size. &nbsp; </p>
&nbsp;&nbsp;    &nbsp;</dd>
  <dt> <a name="PePsts_3"></a><big><b><big><tt>PePsts[3]</tt></big></b></big>
- Are there changes in constraints or metastability parameters (+
-)?&nbsp;</dt>
  <dd>&nbsp;<br>
  </dd>
  <dd>This flag indicates that some metastability constriants or <a
 href="gems_bcc.html#gEx_"><span style="font-family: monospace;">gEx</span></a>_
increments will be changed in the process simulation. Default is off
&nbsp;('-').   If the flag is set on then the iterator <a href="#iNv_0"><span
 style="font-family: monospace;">iNv</span></a> must specify a non-zero
step   size. If a real-time kinetics are to be simulated then also the <a
 href="#iTau_0"><span style="font-family: monospace;">iTau</span></a>
iterator must specify a non-zero time step. </dd>
  <dd> &nbsp; &nbsp;<br>
  </dd>
  <dd><br>
  </dd>
  <dt><a name="PePsts_4"></a><big><tt><b><big>PePsts[4]</big></b></tt></big>
- Save generated SysEq records to database (+ -)? </dt>
  <dd> &nbsp; &nbsp;<br>
  </dd>
  <dd>This flag defines whether SysEq records generated on main process
simulation   steps will be saved into the project database ('+') or not
('-'). Default   value is on ('+'). Note that if saving of SysEq
records is disabled by setting   this flag off ('-') then you will not
be able to perform additional sampling   of results by creating GtDemo
data samplers; however, process simulation  will be performed much
faster, only fictive SysEq record keys will be written  into the <a
 href="#PeStl"><span style="font-family: monospace;">PeStl</span></a><span
 style="font-family: monospace;"> </span>list. </dd>
  <dd> &nbsp;&nbsp;</dd>
  <dd>&nbsp; &nbsp;</dd>
  <dt> <a name="PePsts_5"></a><big><b><big><tt>PePsts[5]</tt></big></b></big>
- Is this   a Sequential Reactor simulation (+ -)? </dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>This flag sets up a "sequential reactor" modeling sequence, in
which   the bulk composition of the system at the current (J-th) step
is calculated   using equilibrium bulk compositions  of  phases from
the previous (J-1) simulation  step. Default value is off ('-').&nbsp; <br>
  </dd>
  <dd>&nbsp; <br>
If this flag is turned on ('+') then the <span
 style="font-family: monospace;"><a href="#PePsts_2">PePsts[2]</a>, <a
 href="#PePsts_4">PePsts[4]</a> </span>and <a href="#PePsts_7"><span
 style="font-family: monospace;">PePsts[7]</span></a> flags must also be
turned on. The "parent" SysEq record for this process simulation must
be configured with&nbsp; the <a href="gems_bcc.html#xp_"><span
 style="font-family: monospace;">xp_</span></a> vector allocated (<a
 href="gems_bcc.html#SyPvec_3"><span style="font-family: monospace;">SyPvec[3]</span></a>
flag switched on). See <a href="#SEQUENTIAL_REACTORS">example</a>.&nbsp;</dd>
  <dd> &nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="PePsts_6"></a><big><big style="font-weight: bold;"><span
 style="font-family: monospace;">PePsts[6]</span></big></big> - Data
sampling/plotting   mode of process simulation&nbsp; (+ -)? </dt>
  <dd>&nbsp;&nbsp; <br>
  </dd>
  <dd> This flag activates the data sampling/plotting mode of the
process   simulation. Default value is off ('-'). If this flag is set
on ('+') then   you will have to enter (into <a href="#pDimXY%5B1%5D"><span
 style="font-family: monospace;">pDimXY[1]</span></a> counter) the
number   of columns to be sampled into the <a href="#yp"><span
 style="font-family: monospace;">yp</span></a> table; optionally, the
dimensionality   of empirical data arrays ( <a href="#pDimEf%5B0%5D"><span
 style="font-family: monospace;">pDimEf[0]</span></a> and <a
 href="#pDimEf%5B1%5D"><span style="font-family: monospace;">pDimEf[1]</span></a>
counters); and, after remake is finished, in any case type a data
sampling   math scritpt into the <a href="#pgExpr"><span
 style="font-family: monospace;">pGexpr</span></a> text editor field.
See   more in the <a href="#PROCESS_PLOT_EXPORT">"Plotting and
exporting results"   chapter</a>. <br>
  </dd>
  <dd>&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
  <dt> <a name="PePsts_7"></a><tt><b><big>PePsts[7]</big></b></tt> -
Does   Process simulation depend on the output GEM parameters (pH, Eh
etc.) (+ -)? </dt>
  <dd> &nbsp; &nbsp;<br>
  </dd>
  <dd>This flag (if turned on) ensures that the process simulation is
performed   in stepwise-reentrant mode because the math scripts refer
to some GEM IPM   output parameters (such as activities, fugacities,
speciation, equilibrium   composition of phases, pH, pe, Eh etc.)&nbsp;
Typical examples are inverse   titrations and sequential reactors.</dd>
  <dd> Default value is off ('-'). <br>
&nbsp; <br>
  </dd>
  <dd><br>
  </dd>
  <dt><a name="PePsts_8"></a><big><b><big><tt>PePsts[8]</tt></big></b></big>
- Is this   a single inverse titration problem (+ -)? </dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>This mode permits the user to create customary inverse titration
simulators   by writing a special <a href="#P_expr"><span
 style="font-family: monospace;">P_expr</span></a> math script (<a
 href="#PePsts_10"><span style="font-family: monospace;">PePsts[10]</span></a>
flag must also be turned on). The <span style="font-family: monospace;">"I</span>"
index must be used in some equations to count iterations and stop when
its  limit is reached, to  prevent infinite cycling. See also<a
 href="#INVERSE_TITRATION"> examples</a>. Default value of this flag is
off  ('-'). &nbsp; </dd>
  <dd>
    <p> </p>
    <br>
  </dd>
  <dd>If this flag (<span style="font-family: monospace;">PePsts[8]</span>)
&nbsp;is on then flags <span style="font-family: monospace;">PePsts[2],
PePsts[4], PePsts[7], PePsts[10]</span> must be switched on; however,
the flag <a href="#PePsts_11"><span style="font-family: monospace;">PePsts[11]</span></a>
must be turned&nbsp; off. </dd>
  <dd> &nbsp; <br>
  </dd>
  <dd><br>
  </dd>
  <dt><a name="PePsts_9"></a><b><big><tt>PePsts[9]</tt></big></b> - Flag
for kinetic-dependent&nbsp; modes of process simulation (+ -) &nbsp;-
reserved   &nbsp;</dt>
  <dd>&nbsp; &nbsp; <br>
  </dd>
  <dd>&nbsp; &nbsp;</dd>
  <dd>&nbsp; &nbsp;<br>
  </dd>
  <dt> <a name="PePsts_10"></a><big><b><big><tt>PePsts[10]</tt></big></b></big>
- Is   a math script to be specified in this process simulator
definition (+ -)? </dt>
  <dd> <br>
This flag defines whether the <a href="#P_expr"><span
 style="font-family: monospace;">P_expr</span></a> math script will be
used   for controlling the process simulation. If this flag is turned
on ('+', default)  then the math script must contain operators that
&nbsp;describe how some GEM IPM input parameters will be changed on <span
 style="font-family: monospace;">J</span>-th main simulation step (more
in   the <a href="#PROCESS_SIM_MATH_SCRIPT">"Writing process
simulation math scritps"  chapter</a>).&nbsp;</dd>
  <dd> &nbsp; <br>
  </dd>
  <dd>This flag can be turned off ('-') in cases when only temperature
or   pressure will be changed in the simulation, but the bulk
composition will   remain constant (then the iterators <a href="#iP_0"><span
 style="font-family: monospace;">iP</span></a> or <a href="#iTC_0"><span
 style="font-family: monospace;">iTC</span></a> must be set properly to
describe   the changes). <br>
  </dd>
  <dd>&nbsp; <br>
  </dd>
  <dd> <br>
  </dd>
  <dt> <a name="PePsts_11"></a><big><big><b><tt>PePsts[11]</tt></b></big></big>
- Is   this a sequence of inverse titration points (+ -)? </dt>
  <dd>&nbsp; <br>
This flag (if turned on '+') defines simulation of a sequence of
inverse   titration points by invoking a built-in "golden section" 1-D
parametric minimization  algorithm. See more in the "Inverse titration
sequence" section. For this  mode, set <span
 style="font-family: monospace;">NeIt[0] &gt; Ntxi[1]*15</span>;&nbsp; <br>
flags <span style="font-family: monospace;">PePsts[2], PePsts[7],
PePsts[10]</span> must be turned on, but flag <span
 style="font-family: monospace;">PePsts[8]</span> must be turned
off.&nbsp; <br>
&nbsp; <br>
Default value of this flag is off ('-'). <br>
&nbsp; <br>
&nbsp; &nbsp;<br>
  </dd>
  <dt> <a name="PePvv_0"></a><b><big><tt>PePvv[0]</tt></big></b> - Flag
for allocation of an optional <span style="font-family: monospace;">vTm</span>
vector (+ - *) </dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>The <a href="#vTm"><span style="font-family: monospace;">vTm</span></a>
vector will be allocated if this flag is turned on ('+' or '*'),
otherwise   this vector will be deallocated (default). <br>
  </dd>
  <dd>&nbsp; <br>
&nbsp;<br>
  </dd>
  <dt><a name="PePvv_1"></a><big><b><tt>PePvv[1]</tt></b></big> - Flag
for allocation   of an optional <span style="font-family: monospace;">vNV</span>
vector (+   - *)</dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>The <a href="#vNV"><span style="font-family: monospace;">vNV</span></a>
vector will be allocated if this flag is turned on ('+' or '*'),
otherwise   this vector will be deallocated (default). </dd>
</dl>
<dl>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="PePvv_2"></a><big><b><tt>PePvv[2]</tt></b></big> - Flag
for allocation   of an otpional <span style="font-family: monospace;">vP</span>
vector (+  - *)</dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>The <a href="#vP"><span style="font-family: monospace;">vP</span></a>
vector will be allocated if this flag is turned on ('+' or '*'),
otherwise   this vector will be deallocated (default). </dd>
</dl>
<dl>
  <dd>&nbsp;&nbsp; &nbsp;<br>
  </dd>
  <dt> <a name="PePvv_3"></a><big><b><tt>PePvv[3]</tt></b></big> - Flag
for allocation   of an optional <span style="font-family: monospace;">vT</span>
vector (+  - *)</dt>
  <dd> &nbsp;&nbsp; &nbsp; <br>
  </dd>
  <dd>The <a href="#vT"><span style="font-family: monospace;">vT</span></a>
vector will be allocated if this flag is turned on ('+' or '*'),
otherwise   this vector will be deallocated (default). </dd>
</dl>
<dl>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="PePvv_4"></a><b><tt><big>PePvv[4]</big> </tt></b>- Flag
for allocation   of an optional <span style="font-family: monospace;">vV</span>
vector (+  - *)</dt>
  <dd> <br>
  </dd>
  <dd>The <a href="#vV"><span style="font-family: monospace;">vV</span></a>
vector will be allocated if this flag is turned on ('+' or '*'),
otherwise   this vector will be deallocated (default). </dd>
</dl>
<dl>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="PePvv_5"></a><big><b><tt>PePvv[5]</tt></b></big> - Flag
for allocation   of an optional <span style="font-family: monospace;">vTau</span>
vector (+  - *)</dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>The <a href="#vTau"><span style="font-family: monospace;">vTau</span></a>
vector will be allocated if this flag is turned on ('+' or '*'),
otherwise   this vector will be deallocated (default). </dd>
</dl>
<dl>
  <dd> &nbsp; <br>
  </dd>
  <dt><a name="PePvv_6"></a><big><b><tt>PePvv[6]</tt></b></big> - Flag
for allocation   of an optional <span style="font-family: monospace;">vpXi</span>
vector (+  - *)</dt>
  <dd>&nbsp; <br>
  </dd>
  <dd>The <a href="#vpXi"><span style="font-family: monospace;">vpXi</span></a>
vector will be allocated if this flag is turned on ('+' or '*'),
otherwise   this vector will be deallocated (default). </dd>
</dl>
<dl>
  <dd>&nbsp; <br>
  </dd>
  <dt><a name="PePvv_7"></a><big><b><tt>PePvv[7]</tt></b></big> - Flag
for allocation   of an optional <span style="font-family: monospace;">vNu</span>
vector (+   - *)</dt>
  <dd> <br>
  </dd>
  <dd>The <a href="#vNu"><span style="font-family: monospace;">vNu</span></a>
vector will be allocated if this flag is turned on ('+' or '*'),
otherwise   this vector will be deallocated (default). </dd>
  <dd>&nbsp; <br>
&nbsp; <br>
  </dd>
  <dt><a name="PePvv_8"></a><b><tt><big>PePvv[8]</big> </tt></b>- Flag
for allocation   of an optional <span style="font-family: monospace;">vKin</span>
array (+   - *) </dt>
  <dd>&nbsp; <br>
This flag controls allocation of a kinetic parameters array&nbsp;<span
 style="font-family: monospace;"> <a href="#vKin">vKin</a></span>.
Default   value is off ('-'). If the flag is set on ('+' or '*') then
the&nbsp; non-zero   dimensions must be entered into <a
 href="#PeDim1_2"><span style="font-family: monospace;">PeDim1[2]</span></a>
(number of rows) and <a href="#PeDim1_3"><span
 style="font-family: monospace;">PeDim1[3]</span></a> (number of
columns) counters.<br>
&nbsp; <br>
&nbsp;&nbsp; </dd>
  <dt><a name="PePvv_9"></a><big><b><tt>PePvv[9]</tt></b></big> - Flag
for allocation   of the process simulation parameters array <span
 style="font-family: monospace;">modC</span> (+ - *) </dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>This flag controls allocation of the <a href="#modC"><span
 style="font-family: monospace;">modC</span></a> array, which in many
cases   is useful for entering or collecting some important parameters
that control   the process simulation. The <span
 style="font-family: monospace;">modC</span> array is also used in some <a
 href="gmscript.html#MS_LIBRARY">template math   scripts</a>. The
default flag is off ('-'). If the flag is on ('+') then  the number of
columns in the <span style="font-family: monospace;">modC</span> array
must be given in the <a href="#PeDim1_1"><span
 style="font-family: monospace;">PeDim1[1]</span></a> counter (<span
 style="font-family: monospace;"></span>number of lines is
automatically set equal to <a href="#Ntxi_1"><span
 style="font-family: monospace;">Ntxi[1]</span></a>). <br>
  </dd>
  <dd> &nbsp; &nbsp;&nbsp; </dd>
  <dd> <br>
  </dd>
  <dt> <a name="PePvv_10"></a><b><tt><big>PePvv[10]</big> -</tt></b> Use
previous SysEq   result (+) or Simplex initial approximation (-)? </dt>
  <dd> &nbsp; <br>
  </dd>
  <dd>This flag (if turned on, '+') permits to use the previous result
of   calculation of equilibrium state (at J-1 process main step) as an
initial   approximation for the J-th process simulation main step. This
can greatly   accelerate extensive simulations, although it is safer to
use the automatic   IPM Simplex initial approximation at all process
main steps. Default flag   is off ('-').</dd>
  <dd> &nbsp; &nbsp; &nbsp; &nbsp;<br>
  </dd>
  <dd><br>
  </dd>
  <dt><a name="PePvv_11"></a><b><tt><big>PePvv[11]</big> </tt></b>-
Show experimental   data points in the data sampling/plotting mode (+
-)? </dt>
  <dd>&nbsp; &nbsp;<br>
This flag (if turned on '+') causes the GraphDialog module to display 
data  entered into the <a href="#xEp"><span
 style="font-family: monospace;">xEp</span></a> and <a href="#yEp"><span
 style="font-family: monospace;">yEp</span></a> arrays  as scattered
symbols  on top of the simulated lines. Default flag is off ('-'). <br>
&nbsp; &nbsp; &nbsp;</dd>
  <dd> &nbsp; <br>
  </dd>
  <dt><a name="Ntxi_0"></a><b><big><tt>Ntxi[0]</tt></big></b> - Maximum
number of time steps in mass transport simulation involving real   time
(reserved for future versions)</dt>
  <dd>&nbsp;&nbsp;</dd>
  <dd> &nbsp; <br>
  </dd>
  <dt><a name="Ntxi_1"></a><b><big><tt><big>Ntxi[1]</big> </tt></big></b>-
Maximum number   of main process simulation steps (important!)&nbsp; </dt>
  <dd> &nbsp; &nbsp;<br>
  </dd>
  <dd>This counter defines how many main process simulation steps
(indexed   by <span style="font-family: monospace;">J</span>) can at
most be performed.   This counter must always be set upon creation or
remake of the Process record   because it is necessary for allocation
of many dynamic data objects such  as <span
 style="font-family: monospace;"><a href="#xp">xp</a>, <a
 href="#yp">yp</a>, <a href="#modC">modC</a></span>. However, the
actual number of performed steps can be less than <span
 style="font-family: monospace;">Ntxi[1]</span> depending on the process
iterators or conditions in the <a href="#P_expr"><span
 style="font-family: monospace;">P_expr</span></a> math script.&nbsp;<br>
&nbsp;Default counter is 1. <br>
&nbsp; <br>
  </dd>
  <dt><br>
  </dt>
  <dt><a name="PeDim1_0"></a><big><big><b><tt>PeDim1[0]</tt></b></big></big>
-&nbsp; Dimensionality   of the SyEq record key list (<a href="#PeStl"><span
 style="font-family: monospace;">PeStl</span></a>)</dt>
  <dd> &nbsp;<br>
  </dd>
  <dd><br>
  </dd>
  <dt> <a name="PeDim1_1"></a><big><big><b><tt>PeDim1[1]</tt></b></big></big>
- Number   of columns in the <a href="#modC"><span
 style="font-family: monospace;">modC</span></a> array</dt>
  <dd> &nbsp;&nbsp; &nbsp;</dd>
  <dd> &nbsp;<br>
  </dd>
  <dt> <a name="PeDim1_2"></a><b><tt><big>PeDim1[2]</big> </tt></b>-
Number of rows in the <a href="#vKin"><span
 style="font-family: monospace;">vKin</span></a> array</dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd> &nbsp;<br>
  </dd>
  <dt> <a name="PeDim1_3"></a><b><tt><big>PeDim1[3]</big> </tt></b>-
Number of columns   in the <a href="#vKin"><span
 style="font-family: monospace;">vKin</span></a> array</dt>
  <dd> &nbsp;&nbsp;</dd>
  <dd> &nbsp;<br>
  </dd>
  <dt> <a name="PeDim1_4"></a><big><big><b><tt>PeDim1[4]</tt></b></big></big>
- Number of entries   in <a href="#PSDref"><span
 style="font-family: monospace;">PSDref</span></a> and <a href="#PSDval"><span
 style="font-family: monospace;">PSDval</span></a> lists</dt>
  <dd> &nbsp;<br>
&nbsp; <br>
    <br>
  </dd>
</dl>
<h3>Data Objects Reserved For Future Versions</h3>
<dl>
  <dt> <br>
  </dt>
  <dt> <a name="pGDkey"></a><b><tt>pSYkey</tt></b> - internal</dt>
  <dd>&nbsp; </dd>
  <dd><br>
  </dd>
  <dt><a name="pSLkey"></a><b><tt>pTPkey</tt></b> - internal</dt>
  <dd>&nbsp;&nbsp;</dd>
  <dd><br>
  </dd>
  <dt> <a name="PeTprn"></a><b><tt>PeTprn</tt></b> - internal</dt>
  <dd>&nbsp;&nbsp;</dd>
  <dd>&nbsp;<br>
  </dd>
</dl>
<br>
<br>
<hr width="100%" size="2"><tt><br>
<br>
</tt>
<h2><a name="PROCESS_ERRORS"></a> 3. Warnings and error messages<br>
</h2>
(under construction)<br>
<br>
<dl>
  <dt><br>
  </dt>
  <dt><br>
  </dt>
  <dt><b><big><tt>E00PErem: </tt></big></b>Invalid dimensions in
Process data structure!</dt>
  <dd>&nbsp; </dd>
  <dd>&nbsp;Some counters are set inconsistently. Remake the Process
record   and check the counters.<br>
&nbsp;<br>
&nbsp;<br>
  </dd>
  <dt><b><big><tt>E01PErem: </tt></big></b>Invalid Process Simulation
mode</dt>
  <dd>&nbsp; </dd>
  <dd>&nbsp;Some flags defining simulation modes are inconsistent.
Remake   the record and check the flags.&nbsp; <br>
&nbsp; <br>
&nbsp;<br>
  </dd>
  <dt><b><big><tt>W02PErem: </tt></big></b>You forgot to specify the
number   of points! Please, do it!</dt>
  <dd>&nbsp; </dd>
  <dd>&nbsp;The <a href="#Ntxi_1"><span style="font-family: monospace;">Ntxi[1]</span></a>
counter contains 0 or a negative value. Remake the record and set the
counter   properly.<br>
&nbsp; &nbsp;<br>
&nbsp;<br>
  </dd>
  <dt><b><big><tt>E03PErem: </tt></big></b>Illegal access to pe in
set_def</dt>
  <dd> &nbsp; </dd>
  <dd>&nbsp;Internal error (memory corruption). Please, report it to
developers. <br>
&nbsp; <br>
&nbsp; &nbsp;<br>
  </dd>
  <dt><b><big><tt>E04PErem: </tt></big></b>Illegal access to pe in
dyn_new</dt>
  <dd>&nbsp; </dd>
  <dd>&nbsp;Internal error (dynamic memory corruption). Please, report
it   to developers.<br>
&nbsp;&nbsp; <br>
&nbsp; &nbsp;<br>
  </dd>
  <dt><b><big><tt>E05PErem: </tt></big></b>Illegal access to pe in
dyn_kill</dt>
  <dd><br>
  </dd>
</dl>
<dl>
  <dd>Internal error (dynamic memory corruption). Please, report it to
developers.<br>
&nbsp; <br>
&nbsp;<br>
  </dd>
</dl>
<dl>
  <dt><b><big><tt>E06PErem: </tt></big></b>Illegal access to pe in
dyn_set</dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>Internal error (dynamic memory corruption). Please, report it to
developers.<br>
&nbsp; <br>
&nbsp;<br>
  </dd>
</dl>
<dl>
  <dt><b><big><tt>E07PErem: </tt></big></b>Illegal record key (no
system)!</dt>
  <dd>&nbsp;</dd>
  <dd> Probably, the "parent" SysEq record was occasionally deleted.
Please,   restore it and calculate the process simulation again. <br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp; &nbsp;</dd>
  <dt><b><big><tt>E08PErem: </tt></big></b>Illegal record key (another
Modelling   Project)!</dt>
</dl>
<dl>
  <dd>The "parent" <a href="gm_syseq.html">SysEq record</a> has been
copied   from another project database. Please, rename it (in the
"Database Management"   mode of GEM-Selektor), then check and calculate
it, then remake this Process   record and try running the process
simulation again. <br>
&nbsp; &nbsp; &nbsp;<br>
    <br>
  </dd>
  <dt><b><big><tt>E09PErem: </tt></big></b>Please, do it in the
Project mode!</dt>
  <dd>&nbsp; <br>
You have attempted to remake the Process simulator in "Database
Management"   mode. Please, open the<a href="gm_project.html"> modeling
project </a>and   then&nbsp; remake this Process record.<br>
&nbsp;<br>
&nbsp; &nbsp;</dd>
  <dt><b><big><tt>E93MSTran: </tt></big></b>Error in translation of
Process   Simulator math script:&nbsp;</dt>
  <dd>&nbsp; <br>
Syntax error(s) were detected during pre-processing or translation of 
text  in the <a href="#P_expr"><span style="font-family: monospace;">P_expr</span></a>
math script. The remaining (not yet processed) part of the script will
be  printed after the error message in order to help in localizing the
error. <br>
&nbsp; <br>
To correct the script, press "Ok" to close the error message, examine 
the <a href="gmscript.html">math script syntax</a> in the <a
 href="#P_expr"><span style="font-family: monospace;">P_expr</span></a>
field, fix the error (or data object label, or phase/species name), save
the Process   record to database and calculate the simulation again.<br>
&nbsp; &nbsp; &nbsp;</dd>
  <dd> &nbsp; &nbsp;</dd>
  <dt><big><b><tt>E94MSTran: </tt></b></big>Error in translation of
Process   Demo Sampler math script:</dt>
  <dd> &nbsp;<br>
  </dd>
</dl>
<dl>
  <dd>Syntax error(s) were detected during pre-processing or
translation of text in the <a href="#pgExpr"><span
 style="font-family: monospace;">pGexpr</span></a> math script. The
remaining (not yet processed) part of the script will be   printed
after the error message in order to help in localizing the error. </dd>
  <dd> &nbsp; </dd>
  <dd> To correct the script, press "Ok" to close the error message,
examine   the <a href="gmscript.html">math script syntax</a> in the <a
 href="#pgExpr"><span style="font-family: monospace;">pGexpr</span></a>
field, fix the error (or data object label, or phase/species name), save
the Process   record to database and calculate the simulation again.</dd>
</dl>
<dl>
  <dd> &nbsp; <br>
&nbsp; </dd>
  <dt><b><big><tt>E00PEexec: </tt></big></b>Process simulation stopped
by   the user.</dt>
  <dd>&nbsp; &nbsp;</dd>
  <dd> &nbsp;The user has cancelled the stepwise process simulation. <br>
    <br>
&nbsp; <br>
  </dd>
  <dt><b><big><tt>W01PEexec: </tt></big></b>GoldenSection(): No result
in   specified interval! Change interval!&nbsp;</dt>
  <dd>&nbsp; &nbsp;</dd>
  <dd>The built-in "golden section" algorithm could not converge in one
of   the inverse titration sequence steps. <br>
Check and extend the titrant additions interval in the <a
 href="#ipXi_0"><span style="font-family: monospace;">ipXi</span></a>
iterator. Sometimes, the "golden section" algorithm cannot converge
because the titrant   addition precision value <a href="#ipXi_2"><span
 style="font-family: monospace;">ipXi[2]</span></a> is too large; in
this   case, decrease it by 1-2 orders of magnitude.&nbsp; &nbsp; &nbsp;<br>
    <br>
&nbsp; </dd>
  <dt><b><big><tt>E02PEexec: </tt></big></b>Please, do it in the
Project mode!&nbsp;</dt>
  <dd>&nbsp; &nbsp;</dd>
  <dd> &nbsp;You have attempted to calculate the Process record in
"Database   management" mode. Switch to the Project mode and try again.<br>
&nbsp; <br>
&nbsp;&nbsp;&nbsp;</dd>
  <dt><b><big><tt>E00PSexec: </tt></big></b>No print script format
text in    this record &nbsp; &nbsp;&nbsp;</dt>
  <dd>&nbsp; &nbsp;</dd>
  <dd> The SDref record selected when printing the Process record data
contains   no print format script (or print script for another record
type.) &nbsp;Switch   to "database management" mode, open the SDref
window, and check the record   with selected print script. <br>
&nbsp; <br>
    <br>
  </dd>
</dl>
<hr width="100%" size="2"><br>
<tt><a href="index.html">To Contents</a> &nbsp; &nbsp; &nbsp;  &nbsp; 
&nbsp;<a href="g_about.html">About GEM-Selektor</a> </tt><br>
<tt><br>
end of file</tt> <br>
&nbsp; <br>
&nbsp; <br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</body>
</html>
