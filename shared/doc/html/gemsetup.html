<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
                        
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
                        
  <meta name="GENERATOR"
 content="Mozilla/4.72 [en] (Win98; I) [Netscape]">
  <title>GEMS-PSI Installation and Setup Manual</title>
                           
  <meta name="description" content="Version 2.0.0-PSI">
</head>
  <body>
         
<h1><img src="gems1.png" height="48" width="48" align="left">
     <font color="#000066"> GEM-Selektor version 2-PSI</font></h1>
         
<p> </p>
         
<h2><font face="Helvetica, Arial, sans-serif"> Installation, Configuration 
 and Setup Manual</font></h2>
   <font face="Helvetica, Arial, sans-serif">(Under construction)</font>
     
<hr width="100%" size="2">   
<h3>Contents</h3>
     
<ul>
    <li>          
    <p><font face="Helvetica, Arial, sans-serif"><a href="#INSTALL_W32">Installing
GEMS under Win32</a></font></p>
    </li>
    <li>          
    <p><font face="Helvetica, Arial, sans-serif"><a
 href="#INSTALL_LINUX">Installing GEMS under Linux&nbsp;</a></font></p>
    </li>
    <li>          
    <p><font face="Helvetica, Arial, sans-serif"><a
 href="#COMLINE_PARAM">GEMS Command-line parameters</a></font></p>
    </li>
    <li>          
    <p><font face="Helvetica, Arial, sans-serif"><a
 href="#PREFERENCES_DIALOG">GEMS Preferences Dialog</a></font></p>
    </li>
    <li>          
    <p><font face="Helvetica, Arial, sans-serif"><a
 href="#TROUBLES_WINDOWS">Troubleshooting (Windows)</a></font></p>
    </li>
    <li>          
    <p><font face="Helvetica, Arial, sans-serif"><a
 href="#TROUBLES_LINUX">Troubleshooting (Linux)</a></font></p>
    </li>
   
</ul>
     
<hr width="100%" size="2">   
<p> </p>
         
<h3> </h3>
   
<h3> <a name="INSTALL_W32"></a>Installing GEMS under Win32</h3>
   This is a provisional installator, simply a self-extracting zip archive.
 <br>
  <br>
  Just execute GEMsetup.exe. It will ask you for a directory path where to
 unpack all the directories and files. If you tell it C:\gemsetup\ then you
 can start GEMS immediately, without editing the rungems.bat file. Otherwise,
 first edit rungems.bat as described in README1.TXT and then start GEMS.
<br>
  <br>
  To everybody who sees the program for the first time: Press the "Get Started"
 button on the GEMS main dialog and work through the "Getting Started" manual.
 Then try the Tutorial, beginning from Part 1. We hope, &nbsp;you will quickly
 grasp how to work with GEMS!<br>
  <br>
  You have unpacked the program into a directory that you just have specified.
 Before you can start GEMS2 for the first time, please edit the file RUNGEMS2.BAT
 as described below.<br>
  <br>
  Suppose that you created the directory D:\MYGEMS and unpacked the GEMSETUP.EXE
 archive there. Now, open RUNGEMS2.BAT with Notepad or any other simple ASCII
 editor and change it as shown on the example below: <br>
  <br>
  Before editing:<br>
  &nbsp;&nbsp; rem New file configuration if /projects dir changed<br>
  &nbsp;&nbsp; gems2.exe -c -s c:\Gems2inst\program -u c:\Gems2inst <br>
  &nbsp;&nbsp; <br>
  After editing:<br>
  &nbsp;&nbsp; rem New file configuration if /projects dir changed<br>
  &nbsp;&nbsp; gems2.exe -c -s d:\mygems\program -u d:\mygems <br>
  <br>
  Apply the same changes to other (commented out) command lines and save
RUNGEMS2.BAT.  The program files are located in the mygems\program subdirectory;
your modelling  projects will be created in the mygems\projects subdirectory.
<br>
  <br>
  You can start GEMS2 now by executing RUNGEMS2.BAT from a command line.
Or,  better, create a Windows shortcut icon to start GEMS2, set a work directory
 "d:\mygems", and enter the command line <br>
  "d:\mygems\program\gems2.exe -c -s d:\mygems\program -u d:\mygems".<br>
  <br>
  If you install GEMS2 under Windows 2000, Windows 98, and Windows ME, it 
may not work properly because of problems with the imm32.dll file. This file
 is necessary to run GEMS under Windows 95 and some Windows NT version older
 than 4 SP 5. If, under newer versions of Windows, error messages will appear
 when you try to start the <br>
  program, simply delete the imm32.dll file from the \program directory where
 gems2.exe file is located.<br>
  <br>
       
<h3><a name="INSTALL_LINUX"></a>Installing GEMS under Linux</h3>
      This test version of GEMS program package has been developed under
Linux    paltform using <a href="http://www.redhat.com/">RedHat Linux 6.1</a>
distribution.    The program can also run under <a
 href="http://www.suse.de/">S.u.S.E. Linux    6.3</a> or later. We did not
try, but expect that GEMS will run under the    latest <a
 href="http://www.delix.de/">DLD Linux</a> <font color="#000000">Mandrake,
EasyLinux 1.2 and other installations similar</font>   to RedHat. Basic information
about Linux can be found on the following web   sites:      
<ol>
       <a href="http://www.linux.org">http://www.linux.org</a> - main info
 on  Linux (worth looking for the first time) <br>
       <a href="http://www.linux.org/books/index.html">http://www.linux.org/books/index.html
     </a>- books <br>
       <a href="http://www.linux.org/dist/index.html">http://www.linux.org/dist/index.html
     </a>- distributions <br>
       <a href="http://www.linux.com">http://www.linux.com</a> - some useful
  information    <br>
       <a href="http://linuxnewbie.org">http://linuxnewbie.org/</a> - for 
people   new to Linux and Unix <br>
       <a href="http://freshmeat.net">http://freshmeat.net/ </a>- application
  news    <br>
       <a href="http://linuxtoday.org">http://linuxtoday.org/</a> - Linux 
(and   not only) news     
</ol>
      GEMS v. 0.99b comes as a&nbsp;<tt> gems-0.99b-4.i386.rpm&nbsp; </tt>archive
   file. It should be installed using the <a href="http://www.rpm.org/">RedHat
   Package Manager</a> <tt>(rpm) </tt>program version 2.5 or later, available
   in all recent Linux distributions mentioned above.      
<h3> <a name="P2100"></a><tt>2.1. Requirements for Linux Configuration</tt></h3>
      Installation, generic configuration and shell commands of Linux are 
described   within a specific distribution package (<a href="#P2000">see Section
2</a>).   Please ensure that there is at least 10 Mb free space on your /usr
hard disk. GEMS v.0.99a code requires the following packages to be already
installed   in your Linux system:      
<ul>
      <li> Xwindows X11R6(XFree86) server, version 3.3 or later (usage of 
the   latest version is preferable because it contains more drivers for recent 
 videocards and it is easier to install it). Making XFree86 running is usually 
 (the most tricky, especially for laptops) part of Linux installation.</li>
       <li> The following shared <a href="http://www.gnu.org/">GNU and egcs</a> 
  run-time libraries: <font color="#000000">libstdc++.so (2.9.0), libc.so, 
 libm.so (glibc-2.1.2),&nbsp; libX11.so, libXext.so (XFree-3.3)</font></li>
       <li> <a href="http://www.troll.no/">Qt 2.0</a> or later run-time library 
  (libqt.so.2).</li>
           
</ul>
      Although GEMS can work with any Xwindow manager - KDE, kwm, GNOME/Enlightment,
   IceWM, AfterStep etc.- we strongly advice you to use <a
 href="http://www.kde.org/">KDE 1.1</a> or later. This popular graphic desktop 
  for Linux also contains several useful applications such as <tt>kwrite</tt> 
  and<tt> ksnapshot</tt>. It is convenient to start the <a
 href="ftp://ftp.gnome.org/pub/">Midnight Commander</a><tt>(mc)</tt> in a 
  KDE terminal window and have it open all the time for managing your files 
  and sending them to/from the MS-DOS (Windows) partitions on your hard disk 
  or diskettes. <br>
     &nbsp;      
<h3> <a name="P2200"></a><tt>2.2. Installing GEMS Package from rpm archive</tt></h3>
      Log in as <tt>root</tt> and mount the GEMS installation diskette (if
 in  doubt, type a&nbsp; <tt>man mount</tt>&nbsp; shell command). Typically,
 there  is a <tt>/mnt/floppy</tt>&nbsp; directory&nbsp; present and one just
 types&nbsp;<font color="#000000"> <tt>mount /dev/fd0 /mnt/floppy -t vfat</tt></font><tt>
 Enter</tt>. Alternatively, if the superuser&nbsp; have created a <tt>/dos/a
 </tt>directory  (e.g. using Midnight Commander) <font color="#000000">and
 added a string</font>  <br>
     <font color="#000000">'/dev/fd0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   /dos/a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vfat
 noauto,user&nbsp;&nbsp;&nbsp;&nbsp; 0 0'&nbsp;&nbsp;&nbsp;&nbsp; to <b>/etc/fstab</b>&nbsp;
 file&nbsp; then you can type:&nbsp; <tt>mount /dos/a&nbsp; Enter</tt>.</font>
      
<p><font color="#000000">Use Midnight Commander to go in the diskette. You 
  should see the file <tt>gems-0.99b-4.i386.rpm</tt>&nbsp; there. Copy this 
  file (or download it from ftp site) into <tt>/usr/src/redhat/RPMS/i386 </tt>directory
  (this directory exists at least in RedHat and S.u.S.E Linux distributions).</font>
  </p>
         
<p><font color="#000000">Type a shell command: <tt>rpm -U gems-0.99b-4.i386.rpm&nbsp;</tt>
   and press <tt>Enter</tt> (You can do it also right from diskette). The
<tt>rpm</tt>   program will create GEMS directories, the <tt>gems_admin</tt>
and </font><tt>gems_user</tt>   groups (if they do not exist), and tell you
if some runtime libraries are   missing (in this case, you will have to download
and install their <tt>.rpm   </tt>archives before trying to install GEMS
again). If no error messages  occurred then GEMS package is installed and
you can check that the <tt>*gems</tt>  executable file (about 2 Mb size)
is placed in the <tt>/usr/bin</tt>&nbsp;  directory, and also the default
database directory <tt>/usr/lib/gems&nbsp;</tt>  is present. This directory
contains the <tt>DB.default/ </tt>subdirectory   with the <a
 href="#P3320">core thermodynamic database files</a> which can   be used
but cannot be modified by GEMS users. You will also find a <tt>profile/ 
 </tt>subdirectory with a default system profile extension files, automatically 
  copied into the user's home directory when <a href="#P2500">GEMS is run 
for  the first time</a> in file configuration mode. The&nbsp; <tt>/doc&nbsp;</tt> 
  subdirectory contains documentation files (including this one). The <tt>/img&nbsp;</tt>
   and <tt>/visor.data</tt> subdirectories contain GEMS GUI configuration
files.   <br>
     &nbsp; </p>
         
<h3> <a name="P2300"></a><tt>2.3. Configuring Linux for GEMS Installation</tt></h3>
      Before installing GEMS, you must log in as root and create one or more
  users belonging to a <tt>gems_user</tt>&nbsp; group for persons supposed
 to work with GEMS. The simplest way to do it is typing the following Unix
 shell commands:      
<ol>
      <li> To create a new user, type:&nbsp;&nbsp; <tt>useradd -m -g gems_user 
  &lt;username&gt;&nbsp; Enter</tt>;</li>
       <li> To assign password to the user, type:&nbsp; <tt>passwd &lt;username&gt;&nbsp;
   Enter</tt>&nbsp; and then type and re-type the password.</li>
           
</ol>
      The same can also be done using more sophisticated (and convenient) 
interactive   tools such as YaST (S.u.S.E. Linux), available in all recent 
Linux distributions.   Refer to the related documentation for details.   
  
<p>Start Midnight Commander&nbsp; (<tt>mc Enter</tt>) and find&nbsp;&nbsp;<tt>
   /etc/fstab</tt>&nbsp; file.&nbsp; Use text viewer or editor ( <tt>F3</tt>
   or <tt>F4</tt> ) to check contents of this file (usually like this): </p>
         
<p><tt>/dev/hda6 / ext2 defaults 1 1</tt> <br>
     <tt>/dev/hda7 swap swap defaults 0 0</tt> <br>
     <tt>/dev/cdrom /mnt/cdrom iso9660 noauto,ro,user 0 0</tt> <br>
     <tt>/dev/fd0 /mnt/floppy ext2 noauto,user 0 0</tt> <br>
     <tt>none /proc proc defaults 0 0 none</tt> <br>
     <tt>/dev/pts devpts gid=5,mode=620 0 0</tt> </p>
         
<p>The first two lines describe Linux partitions on hard disk. Third line
   makes it possible to mount CD ROM device assigning it to <tt>/mnt/cdrom&nbsp;</tt>
   directory. Fourth line assigns a Linux diskette in the floppy drive to
<tt>/mnt/floppy</tt>&nbsp;   directory.&nbsp; If you wish to read/write files
to your Windows/95 hard  disk drive, add a line like this: </p>
         
<p><tt>/dev/hda1 /dos/c vfat auto,user 0 0</tt> </p>
         
<p>Adding the line below will make it possible to mount a DOS-formatted diskette 
  and write/read files with long names: </p>
         
<p><tt>/dev/fd0 /dos/a vfat noauto,user 0 0</tt> </p>
         
<p>If you did the recommended changes and saved the /etc/fstab file to disk, 
  make sure that you also have created empty directories<tt> /dos/c </tt>and<tt>
   /dos/a </tt>and reboot Linux to make changes effective. </p>
         
<p>Now you can log out from <tt>root </tt>(and it is always a good idea not 
  to work as the superuser, whenever possible!).<br>
  </p>
   
<hr width="100%" size="2">  
<p> </p>
         
<h3> <a name="COMLINE_PARAM"></a>GEMS command line parameters</h3>
      Log in as a normal GEMS user (from now on, we assume that the user's
 name   is <tt>modeller</tt>). <br>
     Try to start GEMS as described in the <a href="#P2500">next section</a>.
  If the program does not start properly, the reason might be that it cannot
  find its system directory. If this happens, proceed as follows.      
<p>Type&nbsp; <tt>mc Enter</tt>&nbsp; to start the Midnight Commander. You 
  should find yourself in the <tt>/home/modeller</tt> directory (further abbreviated
  as <tt>~/</tt>). Find a&nbsp; <tt>~/.bash_profile</tt>&nbsp;&nbsp; file
and  press&nbsp; <tt>F4</tt>&nbsp; to edit it.&nbsp; This is necessary for
letting  GEMS program know where to find its default database directory. The&nbsp;
 <tt>~/.bash_profile</tt>&nbsp; script&nbsp; is automatically executed when
 the user logs in. The newly-created&nbsp; <tt>~/.bash_profile</tt>&nbsp;&nbsp;
   file typically looks like this: </p>
         
<p><tt># Get the aliases and functions</tt> <br>
     <tt>if [ -f ~/.bashrc ];</tt> <br>
     <tt>then . ~/.bashrc fi</tt> <br>
     <tt># User specific environment and startup programs</tt> <br>
     <tt>PATH=$PATH:$HOME/bin</tt> <br>
     <tt>BASH_ENV=$HOME/.bashrc</tt> <br>
     <tt>USERNAME=""</tt> <br>
     <tt>export USERNAME BASH_ENV PATH</tt> </p>
         
<p>Modify the script replacing the last line with two lines below, and save 
  the file (press <tt>F2 Esc</tt>): </p>
         
<p><tt>GEMS_DIR=/usr/lib/gems/</tt> <br>
     <tt>export USERNAME BASH_ENV PATH GEMS_DIR</tt> <br>
     &nbsp; </p>
         
<h3> <a name="PREFERENCES_DIALOG"></a>GEMS Preferences Dialog</h3>
      From your home directory (<tt>/home/modeller</tt> in our example),
type   <tt>startx&nbsp;  Enter</tt>&nbsp; to launch&nbsp; Xwindows server
and KDE.   When you will see the desktop, open a terminal emulation window
by pressing   an icon in the bottom KDE menu line. In the terminal, type
<tt>gems&nbsp;   Enter. </tt>After  some delay (a few seconds), the GEM-Selektor
main window   should appear with&nbsp; two large buttons corresponding to
two main modes   of operation:&nbsp; "<a href="#P3200">Computation of Equilibria</a>"&nbsp;
  and&nbsp; "<a href="#P3300">Thermodynamic Database</a>" .      
<p><font size="+1"><b><br>
 </b></font></p>
 
<p><font size="+1"><b><img src="PrefDialog.jpg"
 alt="Preferences Dialog image" width="531" height="400">
 <br>
 <br>
 </b></font></p>
 
<p><font size="+1"><b>Important!</b>: Do not press </font>either of these
   large buttons when GEMS is started for the first time in your home directory!
   Just press&nbsp; the&nbsp; <tt>Exit</tt>&nbsp; button;&nbsp; a&nbsp; small
   dialog window "Save current configuration?" appears;&nbsp; press <tt>Yes</tt>&nbsp;
   button&nbsp; to save the newly-created configuration of your own GEMS
extension    database.&nbsp; Go back to the terminal emulation window and
type <tt>mc</tt>&nbsp;<tt>    Enter</tt>&nbsp;&nbsp; to start Midnight Commander
there.&nbsp; You should    find a&nbsp;&nbsp; <tt>~/GEMS</tt>&nbsp;&nbsp;
directory with a&nbsp; <tt>~/GEMS/profiles    </tt>subdirectory and two configuration
files, which have been created&nbsp;   during this first work session. <br>
  </p>
   
<hr width="100%" size="2">  
<p> </p>
         
<h3> <a name="TROUBLES_WINDOWS"></a>Troubleshooting (Windows)</h3>
      If you have forgotten to save the file configuration after the first
 GEMS   session but can see the&nbsp; <tt>~/GEMS</tt> directory, just start
 <tt>gems   -c&nbsp; </tt>from the terminal emulation window. Proceed as
described  above  in <a href="#P2500">Section 2.5</a>. The -c command line
option forces  GEMS  to re-read the whole&nbsp; <tt>~/GEMS</tt> and <tt>/usr/lib/GEMS.sys</tt>
   directory trees and create a new file configuration. GEMS must be called
  in this mode every time when you add a new system profile directory (for
 instance, obtained from another geochemist - your good friend) or you have
 erased some files or system profile directories. In all cases, do not forget
 to save configuration upon exit!      
<p>If you have Qt-2.0.x&nbsp; runtime library (libqt.so.2) installed in your 
  not-RedHat Linux but rpm does not install GEMS complaining that the Qt2 
dependence  is missing, try to start&nbsp; <tt>rpm</tt>&nbsp; as follows: 
</p>
         
<p><tt><font color="#000000">rpm -U --nodeps gems-0.99b-4.i386.rpm</font></tt>
   </p>
         
<p>The --nodeps option tells rpm to avoid checking dependencies for shared
   libraries. </p>
         
<p><a href="GEMS-Linux-USREF.html#P8000">Contact us</a> if GEMS will not
install or will not start properly from the user home directory. <br>
     </p>
         
<p><br>
     </p>
         
<p>A small GEM-Selektor  Exit dialog appears. Press<tt> "Yes"</tt> to exit 
  normally, without saving   file/window configuration, or <tt>"Cancel"</tt> 
  to continue the work session.   The <tt>"No"</tt> button should be pressed 
  only in some special cases when   the database file configuration setup 
has  changed (<a
 href="file:///C:/GEMS2test/program/doc/html/gemsetup.html">more  about GEMS 
configuration</a>).&nbsp;</p>
         
<p>  Start GEMS again and click on the <tt>"Preferences"</tt> button that
   opens a GEM-Selektor Settings and Preferences dialog. There are two useful
   possible adjustments. A checkbox in the lower left corner, if checked,
forces   the program to save configuration on exit, so the GEM-Selektor Exit
Dialog   will not appear; the program can be started resuming the saved configuration
   (<a href="file:///C:/GEMS2test/program/doc/html/gemsetup.html">more</a>). 
  A "Documentation Base" radiobutton group in the upper part controls where 
  the GEMS Helpwindow browser looks for HTML files. If the "Local directory" 
  button is selected (default), the files will be read using the specified 
 directory path on your PC. However, if you switch to the "Remote URL" &nbsp;button, 
  the program will access the most recent version of GEMS documentation posted 
  on the specified web site (make sure that your internet connection is active!). 
  We recommend the later choice for everybody who has a LAN or DSL&nbsp; permanent
  connection, as the documentation will be constantly corrected, improved
and  extended, and direct internet access is the only way to get it before
the  next version will be officially released. <br>
     &nbsp;<br>
  <br>
  </p>
   
<h3><a name="TROUBLES_LINUX"></a>Troubleshooting (Linux)</h3>
   
<h3> </h3>
       &lt;To be provided in version 2.0.2&gt;<br>
  <br>
  <br>
  <br>
   
<hr width="100%" size="2">  
<p><tt>end of file</tt> <br>
     &nbsp; </p>
     <br>
     <br>
    <br>
   <br>
  <br>
 <br>
</body>
</html>
