<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html><head>


  
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

  
  <meta name="GENERATOR" content="Mozilla/4.72 [en] (Win98; I) [Netscape]"><title>GEM-Selektor Elements Wizard</title>
  

  
  
  <meta name="description" content="Version 2.0.0-PSI"></head><body>
<h1> <img src="gems1.png" align="left" height="48" width="48">&nbsp; <font color="#000066"><big><font size="+2"><big>GEM-Selektor version 3<br>
</big></font></big></font></h1>

<h2>Modeling Project
Basis Configuration (Elements Wizard)<br>
</h2>

<hr size="2" width="100%">
<h3>Contents<br>
</h3>

<p style="margin-left: 40px;"><a href="#ELEMENTS_INTRO">1. Introduction</a></p>
<p style="margin-left: 40px;"><a href="#ELEMENTS_WIZARD">2. Elements Wizard and its Operation</a><br>
</p>
<p style="margin-left: 40px;"><a href="#WZSTEP_1">2.1. Wizard step 1 - Selection of Databases, Phase Type Filters</a></p>
<p style="margin-left: 40px;"><a href="#WZSTEP_2">2.2. Wizard step 2 - Selection of Independent Components</a><br>
 </p>

<p style="margin-left: 40px;"><a href="#ELEMENTS_PROJ_SETUP">2.3. Setting
up the Project Stoichiometry Basis using
Elements Dialog</a></p>

<p style="margin-left: 40px;"><a href="#FILTERS">3. Advanced
Project Configuration: The Set Filters Dialog</a></p>

<p style="margin-left: 40px;"><a href="#DISCARDED_PHASES">4. List of
Discarded Records File<br>
</a></p>

<a href="#DISCARDED_PHASES"><br>
</a>
<hr style="width: 100%; height: 2px; color: rgb(255, 0, 0);">
<h2><a name="ELEMENTS_INTRO"></a>1. Introduction<br>
 </h2>

<p>The &nbsp;Elements Wizard appears when an independent modelling
project (<a href="gm_project.html">more...</a>)
is created or extended.
This widget facilitates
the collection of necessary data records from the GEMS built-in default
database and copying
it&nbsp; into the user's project database, when and where appropriate.
The main basis for
the data selection is the choice of an internally consistent thermodynamic
database (and optionally its extensions), followed by setup of the system stoichiometry basis, i.e. the list of
chemical elements (and additional Independent Components, <a href="gm_icomp.html">more...</a>).&nbsp;</p>

<span style="color: rgb(255, 0, 0);">
</span><br>
<hr style="width: 100%; height: 2px;">
<h2><a name="ELEMENTS_WIZARD"></a>2. Elements Wizard and its Operation</h2>
<p>The purpose of this wizard is to help the user select a
thermodynamic data base and optional extensions to it, from where the
records with definitions of phases, components, pre-defined
compositions, and data source references should be copied into the
newly-created or extended modeling project. This copying is controlled
by filters on phase- and component types; the filters can also be
re-configured using this wizard. </p>

<p>The Elements Wizard consists of two steps, one allowing the
selection of database and phase/DC type filters, another lets the user
to select Independent Components to formulate the stoichiometry basis
of the project system.&nbsp; After Step 2 of this wizard, the control
goes to the <a href="gems_aphsetup.html">Autophase Setup Dialog</a>, where the models of aqueous and gas/fluid phases can be configured.</p>


<br>


<hr style="width: 100%; height: 2px;">
<h3><a name="WZSTEP_1"></a>2.1. Wizard step 1 - Selection of Databases, Phase Type Filters</h3>
<p>This wizard page (see a screenshot below) appears after selecting a
"New Project" option when entering the "Equilibria calculations" mode
of GEM-Selektor. </p>
<br>




<img style="width: 737px; height: 560px;" alt="ElementsWizardStep1.png" src="ElementsWizardStep1.png"><br>






<br>
<p>This page consists of two parts: a group of checkboxes called
"Phase/DC filters" on the left-hand side, and a tree-like hierarchical
list showing the databases currently available in the "<span style="font-family: monospace;">/Resources/DB.default</span>" subfolder. The "Learn more" button opens this
help page section.</p>
<p>Checkboxes in the "Phase/DC Filters" group determine the types of
phases (and Dependent Components) that will be copied into a
newly-created independent modeling project, if they are available in
the built-in database and its extensions, selected by checkboxes in the
tree-like list visible on the right-hand side.&nbsp; The last checkbox
"Skip solid solutions", if checked, causes the program not to copy
Phase records for any condensed multi-component phases (solid and
liquid non-electrolyte solutions) even if available in selected
database(s). One has to be careful when unchecking the boxes "Aqueous
electrolyte" and/or "Gas mixture": if so then the options "No aqueous
phase" and/or "No gas mixture" respectively must be selected in the
forthcoming <a href="gems_aphsetup.html">Autophase Setup dialog</a>. <br>
</p>
<p>The structure and organization of the built-in database(s) is not
hardcoded, but completely defined by DB.default file names.&nbsp; These
file names follow a simple convention:&nbsp; each&nbsp; name consists
of two to six fields followed by a .pdb or .ndx extension: <br>
</p>
<p style="font-family: monospace;">&lt;DB
Chain&gt;.&lt;Database&gt;.[&lt;Subdatabase&gt;].[&lt;subset&gt;].[&lt;subsubset&gt;].[ver&lt;Digits&gt;.[&lt;Digits&gt;]].&lt;extension&gt;</p>
<p>Here, <span style="font-family: monospace;">&lt;DB Chain&gt;, &lt;Database&gt;</span> and <span style="font-family: monospace;">&lt;extension&gt;</span> are compulsory, and other fields are optional. If present, the <span style="font-family: monospace;">ver&lt;Digits&gt;...</span> part that identifies the version of database file must be located immediately before the <span style="font-family: monospace;">.&lt;extension&gt;</span>.&nbsp; Some examples of recommended file names: <br>
</p>
<table style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">compos.nagra-psi.ver03.12.ndx<br>

compos.nagra-psi.ver03.12.pdb<br>

      </td>
      <td style="vertical-align: top; font-family: monospace;">icomp.supcrt.ver1998.ndx<br>



icomp.supcrt.ver1998.pdb</td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">phase.nagra-psi.ver03.12.ndx<br>


phase.nagra-psi.ver03.12.ndx</td>
      <td style="vertical-align: top; font-family: monospace;">dcomp.supcrt.inorg.solids.ver1998.ndx<br>

dcomp.supcrt.inorg.solids.ver1998.pdb</td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">dcomp.nagra-psi.aqions.ver03.12.ndx<br>

dcomp.nagra-psi.aqions.ver03.12.pdb<br>

      </td>
      <td style="vertical-align: top; font-family: monospace;">sdref.3rdparty.cemdata.ver07.01.ndx<br>

sdref.3rdparty.cemdata.ver07.01.pdb</td>
    </tr>
  </tbody>
</table>
<br>
<p>As seen on screenshot above, the &lt;DB chain&gt; and
&lt;extension&gt; fields, as well as 'ver' keyword, are not shown,
files from different chains but having the same &lt;Database&gt; field
are shown as a single entry. The visible 'trees' begin from the
&lt;Database&gt; field and can be expanded, if &lt;Subdatabase&gt;,
&lt;Subset&gt;, ...&nbsp; are present in the names of some files with
the same &lt;Database&gt; keyword. If, at the same time, the file names
with less fields are present (cf. <span style="font-family: monospace;">dcomp.supcrt.inorg.solids.ver1998</span> and <span style="font-family: monospace;">icomp.supcrt.ver1998</span>) then the presence of the latter will be shown (after expansion of the tree) as a checkbox followed by the dot '.'.&nbsp; <br>
</p>
<p>When using checkboxes for selection of "3rdparty" subdatabases, the
user must know whether they are compatible with the selected database.
For instance, the Cemdata'07 database requires the Nagra-PSI database
to be selected, whereas the HERACLES database is standalone, and all
other databases must be de-selected for its correct usage. The SUPCRT
database can be used independently of any other database, either
completely, or only 'organic' or 'inorg(anic)' subdtabases.Contents of the
respective databases and subsets are described in the  <a href="gems_ctdb.html">default database documentation</a>. </p>
<p>These features makes the selection of appropriate database, subsets,
and extensions very simple and intuitive. Upon creation of a modeling
project, only files for all DB chains belonging to selected databases,
extensions and subdatasets will be scanned for copying records into the
project database files. The full list of selected built-in database
files can be seen in the 'Set Filters' dialog that can be called from
Step 2 page of the Elements Wizard. <br>
 </p>
<p style="margin-left: 40px;">In previous versions of GEM-Selektor,
hard-coded keywords (also present as parts of file names in
'DB.default' folder) were used for source database selections before
assembling the new modeling project. These keywords, visible below the
"Periodic Table" selection of Independent Components, determined in
which "layers" of the default database the program should
look for the
available
data to build the modeling project. The old keywords are given here for
reference to the older GEMS3 installers. <br>
</p>



<table style="margin-left: 40px; width: 875px; height: 220px;" border="1" cellpadding="2" cellspacing="2">


  <tbody>
    <tr>
      <td valign="top">Checkbox name<br>
      </td>
      <td valign="top">Default value<br>
      </td>
      <td valign="top">Which files from "/Resources/DB.default" will be
accessible (On) or not accessible (Off)&nbsp; <br>
      </td>
      <td style="vertical-align: top;">Contents of Default database
layer in old versions of GEMS<br>
      </td>
    </tr>
    <tr>
      <td valign="top"><font face="Helvetica, Arial, sans-serif">Kernel
(NagraPSI)<br>
      </font></td>
      <td valign="top">On<br>
      </td>
      <td valign="top">All files containing a keyword <tt>"kernel"</tt>
in the file name. <br>
      </td>
      <td style="vertical-align: top;">Kernel part contains data
imported from the Nagra/PSI data base, version 01/01.</td>
    </tr>
    <tr>
      <td valign="top"><font face="Helvetica, Arial, sans-serif">Complem.
(SUPCRT)<br>
      </font></td>
      <td valign="top">Off<br>
      </td>
      <td valign="top">All files containing a keyword <tt>"complem"</tt>
in the file name. <br>
      </td>
      <td style="vertical-align: top;">Complementary part
contains data imported from SUPCRT92 (Slop98.dat) data file, inorganic
part (<a href="http://geopig.asu.edu/">http://geopig.asu.edu</a>)<br>
      </td>
    </tr>
    <tr>
      <td valign="top"><font face="Helvetica, Arial, sans-serif">Supplem.<br>
      </font></td>
      <td valign="top">Off<br>
      </td>
      <td valign="top">All files containing a keyword <tt>"supplem"</tt>
in the file name.<br>
      </td>
      <td style="vertical-align: top;">Supplementary part&nbsp;
contains data imported from SUPCRT92 (Slop98.dat) data file, organics
part<br>
      </td>
    </tr>
    <tr>
      <td valign="top"><font face="Helvetica, Arial, sans-serif">Specific<br>
      </font></td>
      <td valign="top">Off<br>
      </td>
      <td valign="top">All files containing a keyword <tt>"specific"</tt>
in the file name.<br>
      </td>
      <td style="vertical-align: top;">Third-party database in GEMS
format, for instance<br>
Cemdata'07 (<a href="http://www.empa.ch/cemdata">http://www.empa.ch/cemdata</a>);
      <br>
Heracles v. 0.2 (<a href="http://www.psi.ch/heracles/gems-specific-heracles-database">http://www.psi.ch/heracles</a>).<br>
      </td>
    </tr>
  </tbody>
</table>









<br>


<br>
<hr style="width: 100%; height: 2px;">
<h3><a name="WZSTEP_2"></a>
2.2. Wizard step 2 - Selection of Independent Components</h3>
<p>The Elements Dialog, located in this wizard page, resembles a Periodic Table composed of
buttons with
symbols of chemical elements:</p>

<br>


<img style="width: 737px; height: 560px;" alt="ElementsWizardStep2.png" src="ElementsWizardStep2.png"><br>





<br><br>
<p>The "Set Filters" button opens up a separate Set Filters Dialog (<a href="gems_elements.html#FILTERS">more...</a>).&nbsp; The "Learn more" button opens this
help page section.</p>
<p> The program automatically checks all IComp
records
accessible in databases chosen at the previous wizard step, and makes the
buttons
of all available elements clickable (and indicated by darker symbols). The same
happens
with additional Independent Components, which (if present) will be
shown
on the buttons in the "Additional" column on the right-hand side. <br>
</p>
<p>Simply click at necessary element symbols to select them; the
selected buttons remain 'depressed' and can be de-selected. In the
"extension" mode using another project as template, the buttons for
elements forming the basis of the template project will be
automatically depressed and cannot be de-selected. <br>
</p>
<p>When finished, click "Next" to proceed to the <a href="gems_aphsetup.html">Autophase Setup dialog</a> that completes the new project configuration.<br>
</p>
<br>

<span style="color: rgb(255, 0, 0);">

</span>
<p><span style="color: rgb(255, 0, 0);"></span></p>

<hr style="width: 100%; height: 2px;">
<h3><a name="ELEMENTS_PROJ_SETUP"></a>2.3. Setting up the
Project Stoichiometry Basis using Elements Dialog<br>

</h3>

<p>We recommend to begin with a list of chemical elements (and
optional additional Independent Components) that cover the compositions
to be considered in the prospective applications of the newly-created
modeling project. Also, consult the the <a href="gems_ctdb.html">default
database documentation</a> for pressure and temperature ranges, and
decide which database (subdatabase, subset) to use (e.g. Nagra-PSI database for low-temperature
waste-repository systems, or SUPCRT for hydrothermal systems). If
a third-party database is needed, check that its files were already copied
into the currently used "/Resources/DB.default" folder (you can check
its location in the <a href="gems_setup.html#PREFERENCES_DIALOG">Preferences
Dialog</a>,
where also a keyword of the default database can be entered); if
necessary, exit GEM-Selector, copy third-party database files into
'DB.default' folder,
start GEM-Selektor again, and proceed. <br>
</p>

<p>(2). Make necessary selections of source thermodynamic database,
subdatabase, subset etc., as desired. Check 'Phase/DC Filters', and
proceed to the next wizard page. <span style="font-family: Helvetica,Arial,sans-serif;"></span><font face="Helvetica, Arial, sans-serif"><br>
</font></p>

<p>(3) In the appearing Elements Dialog, click on "active" (not gray) buttons representing
elements or, on the right-hand side, "Additional"&nbsp; Independent
Components. If aqueous systems will be modeled, make sure that H, O and
e(Zz) buttons are selected. For using "atmospheric air" compositions
(with non-reactive nitrogen gas), select "Nit" (in "Additional"; it is
possible to select it when N (reactive nitrogen) is selected). When
done, click "Next &gt;" to proceed.&nbsp;</p>

<p>(4). In the appearing <a href="gems_aphsetup.html">Autophase Setup wizard</a>,
select desired automatic or specific models for aqueous electrolyte and
gas/fluid mixture (<a href="gems_aphsetup.html">more...</a>), and click
"Ok" to proceed. This should bring you into "Equilibria Calculation"
mode where you can create the first SysEq record key and proceed <a href="gm_project.html#HOWTO_1ST_SYSTEM">as decribed here</a>. Note
that even if you press "Cancel" at this step and will exit without
defining the first system and calculating equilibrium state, you can do
it any time later when you start GEM-Selektor again and simply open this
newly-created project. <br>
</p>

<p style="font-family: Helvetica,Arial,sans-serif;">
</p>

<p>If any error message appears before you see the SysEq record key
dialog to create the first system, exit GEM-Selektor and check for the
subfolder with this (failed) project name in the active "/projects"
folder (you can check its location in the <a href="gems_setup.html#PREFERENCES_DIALOG">Preferences Dialog</a>).
If
you find it there, delete the subfolder, start GEMS and try again. The
most frequent reason for such a failure is that different versions of
built-in database or incompatible databases or subsets were selected. </p>

<br>

<hr style="width: 100%; height: 2px;">
<h2><a name="FILTERS"></a>3. Advanced Project Configuration: The Set Filters Dialog<br>
</h2>

<p>Advanced users can use this dialog for "fine-grained" control on
choosing default database files as source of data records for the
newly-created or extended modeling project, and setting rules for
re-naming database records by copying them into project database. This
renaming is necessary because in GEMS database, two records with the
same key are not allowed to exist. Re-naming always occurs in the last
field of the record key (record key formats are described <a href="gems_rekey.html">here...</a>).<br>
</p>

<p>In future versions of GEM-Selektor, optional filter scripts are
foreseen in this dialog that would make even more control possible on
selecting DComp, ReacDC and Compos records to be taken into the
modeling project. <br>
</p>

<h3>Database Files Tab<br>
</h3>

<p>This tab shows a tree-like view of the files available in DB.default
database chains. Highlighted are files that will be used for selecting
records to be copied into modeling project according to "Phases" and
"Dataset" options in the Elements Dialog (<a href="#ELEMENTS_INTRO">more...</a>).&nbsp;
The selection can be changed by clicking on file name rows in each
chain. In principle, this option even allows having more than one
"specific" database file set in the "/Resources/DB.default" folder
because the proper files can be selected here. &nbsp; </p>

<h3>IComp Tab<br>
</h3>

<p>This tab shows two lists of IComp records: one for currently
selected in the Elements Dialog, and another (only for project made by
extension of an existing project) showing Independent Components in the
"parent" existing project. Taken together, these lists form the major
filter for all Compos, DComp and ReacDC records in the accessible part
of the default database. Any record whose formula contains at least one
Independent Component not in this filter will be discarded and not
taken over into the modeling project.&nbsp; <br>
</p>

<p>In the upper part of this tab, there are two drop-down lists that
can be used to control how IComp records will be renamed by copying
them from default to project database. The upper selection defines what
character(s) to locate in the last field of the record key, and the
lower selection defines the replacement character(s). Templates are
described here... . By default, copying of an IComp record to project
database adds underscore '_' after the last non-space character of the
third field of IComp record key, for example "Iron" -&gt;
"Iron_".&nbsp; <br>
</p>

<h3>Compos Tab<br>
</h3>

<p>In the upper part, this tab contains two drop-down lists that can be
used to control how Compos records will be renamed by copying them from
default to project database. The upper selection defines what
character(s) to locate in the last field of the record key, and the
lower selection defines the replacement character(s). Templates are
described here... . By default, copying of a Compos record to project
database adds underscore '_' after the last non-space character of the
last field of Compos record key.&nbsp; <br>
</p>

<p>By default, any Compos record whose stoichiometry contains at least
one Independent Component not from the list selected in the Elements
Dialog for this project, will be discarded, and its record key added to
the "DiscardedRecords.txt" file (<a href="#DISCARDED_PHASES">more...</a>).<br>
</p>

<h3>DComp Tab<br>
</h3>

<p>In the upper part, this tab contains two drop-down lists that can be
used to control how DComp records will be renamed by copying them from
default to project database. The upper selection defines what
character(s) to locate in the last field of the record key, and the
lower selection defines the replacement character(s). Templates are
described here... . By default, copying of a DComp record to project
database replaces the last non-space character with the underscore '_'
in the fourth record key field, for example "s98" -&gt; "s9_".&nbsp; <br>
</p>

<h3>ReacDC Tab<br>
</h3>

<p>In the upper part, this tab contains two drop-down lists that can be
used to control how ReacDC records will be renamed by copying them from
default to project database. The upper selection defines what
character(s) to locate in the last field of the record key, and the
lower selection defines the replacement character(s). Templates are
described here... . By default, copying of a ReacDC record to project
database replaces the last non-space character with the underscore '_'
in the fourth record key field.&nbsp; </p>

<h3>Phases Tab<span style="font-family: Helvetica,Arial,sans-serif;"></span></h3>

<p><span style="font-family: Helvetica,Arial,sans-serif;"></span></p>

<span style="font-family: Helvetica,Arial,sans-serif;"></span>
<p>In the upper part, this tab contains two drop-down lists that can be
used to control how Phase records will be renamed by copying them from
default to project database. The upper selection defines what
character(s) to locate in the last field of the record key, and the
lower selection defines the replacement character(s). Templates are
described here... . By default, copying of a Phase record to project
database adds underscore '_' after the last non-space character of the
last field of Phase record key. </p>

<p>This tab also contains several options in addition to "Phases"
options in the Elements Dialog (<a href="#ELEMENTS_INTRO">more...</a>).
Text on options is self-explanatory. Options 1, 3, 4, 5 are "On" and 2,
6 "Off" by default. When option 3 is "On", the list of discarded phases
will be written in a text file "DiscardedRecords.txt", described below.
<br>
</p>

<span style="font-family: Helvetica,Arial,sans-serif;">
<br>
</span>
<hr style="width: 100%; height: 2px;">
<h2><span style="font-family: Helvetica,Arial,sans-serif;"><a name="DISCARDED_PHASES"></a><span style="font-family: Times New Roman,Times,serif;">4. List of Discarded
Records File<br>
</span></span></h2>

<p>During creation (extension) the modeling project, come Compos and
Phase records may be discarded from copying into the project database,
although such records can be potentially useful in the modeling
application context. <br>
</p>

<p>For example, a Compos record may contain a complex rock composition
expressed in 8 major and 6 minor elements. If a project stoichiometry
basis does not contain some of those major elements then this rock
composition will be most probably unusable in the newly-created
project. However, if all 8 major elements are included in the project
basis and only some minor elements are not, the rock composition can be
perhaps easily modified (by removing entries for missing minor
components) for use in the new project. This cannot be done
automatically, so the program leaves it for the user's discretion and
will not copy the Compos record into project database, but add it
record key to a section "Discarded Compos records" of the
"DiscardedRecords.txt" file. <br>
</p>

<p>If a record for phase-solution has been encountered in the default
database, and some components (species, end members) in the phase were
not copied into the modeling project due to a mismatch with the
stoichiometry basis, such phase definition will normally not be copied
into project database, and its record key added to the "Discarded Phase
records" of the "DiscardedRecords.txt" file. </p>

The "DiscardedRecords.txt" file, if present, can be found in the same
folder where the GEMS executable file exists (typically, in Gems3-app
subfolder; in Mac OS, in the "/Applications" folder at the same level
where gems3.app is located). This file is over-written every time when
a new project is created or expanded.<br>

<br>

If it is easier to utilize some discarded records than create similar
ones from scratch, the user can find the "DiscardedRecords.txt" file,
identify records there, start GEMS, open the project, then close it,
find the records in the default database, manually copy them into the
project database, and remake/edit there to make them consistent with
the project stoichiometry basis.<br>

&nbsp;&nbsp;
<hr size="2" width="100%">
<p> </p>

<p> Last change: 12 Dec. 2012&nbsp; DK<br>

</p>
Copyright (c) 2012, GEMS Development Team<br>
<br>

<br>

<br>

<br>

<br>

</body></html>