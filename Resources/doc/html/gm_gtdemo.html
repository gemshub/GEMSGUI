<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;
      charset=ISO-8859-1">
    <meta name="GENERATOR" content="Mozilla/4.72 [en] (Win98; I)
      [Netscape]">
    <title>GEMS3 GtDemo Module</title>
    <meta name="description" content="Version 2.0.0-PSI">
  </head>
  <body>
    <h1><img src="gems1.png" alt="GEMS logo" align="left" width="48"
        height="48"> GEM-Selektor version 3<br>
    </h1>
    <h2>Data Sampling and Graphic Demo (GtDemo) Module<br>
    </h2>
    <hr size="2" width="100%"><br>
    <h3>Contents&nbsp; </h3>
    <p><a href="#GTDEMO_OPERATION">1. GtDemo Data Sampler Module
        Operation</a></p>
    <p style="margin-left: 40px;"><a href="#GTDEMO_SCRIPTS">1.1.
        Writing&nbsp; Data Sampling Scripts</a> </p>
    <p style="margin-left: 40px;"><a href="#GTDEMO_EXECUTE">1.2.
        Running GtDemo Data Samplers</a>
    </p>
    <p style="margin-left: 40px;"><a href="#GTDEMO_PLOT">1.3.
        Plotting and Exporting Results</a></p>
    <p><a href="#GTDEMO_MWIZARD">2.
        GtDemo Create/Remake Wizard</a>
    </p>
    <p style="margin-left: 40px;"><a href="#WZSTEP_1">2.1.
        GtDemo Wizard Step 1</a>
    </p>
    <p style="margin-left: 40px;"><a href="#WZSTEP_2">2.2.
        GtDemo Wizard Step 2</a>
    </p>
    <p style="margin-left: 40px;"><a href="#WZSTEP_3">2.3.
        GtDemo Wizard Step 3</a>
    </p>
    <p style="margin-left: 40px;"><a href="#WZSTEP_4">2.4.
        GtDemo Wizard Step 4</a></p>
    <p><a href="#GTDEMO_MWINDOW">3.
        GtDemo Module Window</a>
    </p>
    <p style="margin-left: 40px;"><a href="#MWPAGE_1">3.1.
        GtDemo Window 'Sampling' Page</a></p>
    <p style="margin-left: 40px;"><a href="#MWPAGE_2">3.2. GtDemo
        Window 'Results' Page</a> </p>
    <p style="margin-left: 40px;"><a href="#MWPAGE_3">3.3. GtDemo
        Window 'Config' Page</a></p>
    <p><a href="#GTDEMO_DATA">4.
        GtDemo Data Entries</a> </p>
    <p style="margin-left: 40px;"><a href="#GTDEMO_DATA_PROTECTED">4.1.
        Data Objects
        Accessible through Create/Remake Wizard Only</a></p>
    <p><a href="#GTDEMO_ERRORS">5.
        Warnings and Error Messages</a></p>
    <hr size="2" width="100%">
    <h2><a name="GTDEMO_OPERATION"></a>1. GtDemo Data Sampler Module
      Operation</h2>
    <p>When many equilibrium states are generated by e.g. using a <a
        href="gm_proces.html">Process</a> simulator or just the <a
        href="gems_bcc.html">Single System dialog</a>, it may not
      be&nbsp; productive
      to print out all the results, pick up and plot required data "by
      hand".
      This operation - a crucial performance step in the interpretation
      of&nbsp; modeling results - can be much accelerated by creating
      the GtDemo data
      samplers and plotters that work according to specifications in
      GtDemo
      records stored in&nbsp;
      the modeling project database extension files. The GtDemo module
      can sample
      virtually any numerical data by reading records of any type using
      a
      selected sequence
      of record keys. What data to extract and how to recalculate them,
      the
      user
      can specify in a sampling <a href="gmscript.html">script</a>
      entered in the <a href="#gExpr"><tt>gExpr</tt></a>&nbsp; record
      field.&nbsp; <br>
    </p>
    <p>As in the case of &nbsp;<a href="gm_proces.html#pgExpr"><tt>pgExpr</tt></a>
      script in the <a href="gm_proces.html">Process simulator</a>, the
      GtDemo sampling math will be
      automatically translated when the GtDemo record is calculated and
      will
      be run every time when a database record from the list is loaded.
      From
      each sampled record
      (indexed with <a href="#jR"><tt>jR</tt></a>), the script will
      pick up
      the required data, re-scale them or calculate some derived
      parameters,
      and
      store into a GtDemo abscissa vector <a href="#x0"><tt>x0</tt></a>
      and
      table
      <a href="#y0"><tt>y0</tt></a> (with up to 200 columns). <br>
    </p>
    <p>When sampling of
      database records is finished, these data objects can be displayed
      in a
      GtDemo window page, printed into a text
      file,&nbsp; copy-pasted to worksheets or software for high-quality
      graphical presentations, or <a href="#GTDEMO_PLOT">plotted</a>
      in a Graph Dialog window. The graphs can be customized, zoomed,
      saved
      and printed. As an option, a sequence
      of experimental points (entered by the user into <a href="#xE"><tt>xE</tt></a>
      and <a href="#yE"><tt>yE</tt></a> arrays) can be shown as
      scattered
      symbols on the graph over the sampled (or calculated) data. <br>
    </p>
    <p>One of
      several GtDemo
      records can be created for sampling the same selection of GEMS
      project database
      records. <br>
    </p>
    <br>
    <hr style="width: 100%; height: 2px;"><br>
    <h3><a name="GTDEMO_SCRIPTS"></a>1.1. Writing Data Sampling Scripts</h3>
    <p>The sampling script gExpr is accessible in the 'Sampling' page of
      the GtDemo window. The initial script (in several variants) can be
      created automatically using selection lists in the <a
        href="#WZSTEP_2">GtDemo wizard Step 2</a>, and later on
      modified, as necessary. &nbsp; <br>
    </p>
    <p>As an alternative, the <a href="gmscript.html#MS_LIBRARY">template
        math script library</a>, can be used for copy-pasting some
      sampling scripts, accessible via the "Help" "Script" menu command
      (or <tt>F3</tt> hot
      key). You will
      see a list of available scripts (record keys with template math
      scripts
      begin
      with <tt>"mscript..."</tt>); select an appropriate one and press
      "Ok".
      In
      the appearing <a href="gm_sdref.html">SDref </a>module window,
      the
      template
      script can be found on Page 2. Read the comments, then mark the
      script
      text using the mouse drag, copy it (<tt>Ctrl-C</tt>), switch to
      the 'Sampling' page
      of the GtDemo window, click on the <a href="gm_gtdemo.html#gExpr"><tt>gExpr</tt></a>
      field,
      and paste the text there (<tt>Ctrl-V</tt>). Now, you can edit the
      script
      according to your own needs. To see the data
      fields
      exactly, you can open any module window, or some submodule windows
      from the "Single
      Thermodynamic
      System", where you will also find the data object labels and names
      of
      compositions,
      species, and phases. After you have edited the script (but before
      calculations),
      save the GtDemo record to database. <br>
    </p>
    <p>How the GtDemo math scripts operate? On the<span
        style="font-family: monospace;"> </span>'Config' page of GtDemo
      window, you can see two special data objects: <a
        href="gm_gtdemo.html#next"><tt>next</tt></a>&nbsp;
      contains 1 if the next data record is to be sampled, or 0 if the
      sequence
      is finished; and <a href="gm_gtdemo.html#jR"><tt>jR</tt></a> -
      the
      index of
      (currently
      processed) data record from the <a href="gm_gtdemo.html#GD_rkl"><tt>GD_rkl</tt></a>
      list
      visible below. The <tt>jR</tt> index together with&nbsp; <tt>x0,
        y0</tt>
      arrays must be used as variables in the GtDemo <a
        href="g_mscript.html">math script expressions</a>&nbsp; that
      define what data to sample and assign
      to <tt>x0[jR]</tt>&nbsp; and <tt>y0[jR][0], y0[jR][1], ....</tt>
      cells.
      The <tt>jR</tt> index is incremented automatically when GtSemo
      sampler
      is
      running. The typical GtDemo script looks like this:<br>
    </p>
    <blockquote> <span style="font-family: Courier
        New,Courier,monospace;">$ Abscissa</span><br style="font-family:
        Courier New,Courier,monospace;">
      <span style="font-family: Courier New,Courier,monospace;">
        x0[jR] =: pH; </span><br style="font-family: Courier
        New,Courier,monospace;">
      <span style="font-family: Courier New,Courier,monospace;">$
        Ordinates</span><br style="font-family: Courier
        New,Courier,monospace;">
      <span style="font-family: Courier New,Courier,monospace;">
        y0[jR][0] =: lga[{CO2@}]; </span><br style="font-family:
        Courier New,Courier,monospace;">
      <span style="font-family: Courier New,Courier,monospace;">
        y0[jR][1] =: lga[{HCO3-}] + 0.4343*lnGam[{HCO3-}]; </span><br
        style="font-family: Courier New,Courier,monospace;">
      <span style="font-family: Courier New,Courier,monospace;">
        y0[jR][2] =: lga[{CO3-2}] + 0.4343*lnGam[{CO3-2}];</span><br
        style="font-family: Courier New,Courier,monospace;">
      <span style="font-family: Courier New,Courier,monospace;">
        y0[jR][3] =: lgm_t[{C}]; </span><br style="font-family: Courier
        New,Courier,monospace;">
      <span style="font-family: Courier New,Courier,monospace;">
        $ End</span><tt><br>
      </tt> </blockquote>
    <p>
      This script collect data for inorganic carbon aqueous species from
      each
      SysEq record read in a sequence indexed by <tt>jR</tt>. The
      first,
      third and the last line are comments. The second line picks up the
      calculated
      pH and stores it in the abscissa vector <tt>x0</tt>. The rest of
      the
      script
      collects logarithms of molalities of aqueous carbonate species and
      total
      dissolved carbon into four columns of the <a
        href="gm_gtdemo.html#y0"><tt>y0</tt></a>
      table
      (obviously, four columns should have been ordered during
      create/remake). Both x0 and y0 array contents can be seen in
      tabulated form in the 'Results' page of the GtDemo window. <br>
    </p>
    <p>There is an infinite number of possible math scripts, of course.
      More examples can be found in the GtDemo <a
        href="gmscript.html#MS_LIBRARY">template math script library</a>.
    </p>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="GTDEMO_EXECUTE"></a>1.2. Running GtDemo Data Samplers</h3>
    <p> After editing the GtDemo data fields in the 'Sampling' page,
      switch to the 'Results' page and press the
      "Re-Calculate..."
      button or execute the "Record" "Calculate" menu command to run the
      data
      sampler.
      You will see how the x0 and y0 arrays are filled out with numbers.
      <br>
    </p>
    <p>If the math script contains syntax errors, you may be asked to
      fix them
      before the program can proceed. If this happens, click first on
      the "Stop" (red) button to the left of the progress bar, then edit
      the script, and run GtDemo sampler again.&nbsp; <br>
    </p>
    <p>Calculations may take some time,
      especially if
      many large SysEq records are sampled because each such record is
      expanded
      into the full GEM IPM data structure, and thermodynamic data are
      calculated if temperature or pressure differs. You will see a
      progress bar below the window page area as long as the
      calculations proceed.&nbsp; <br>
    </p>
    <p>When all database records are sampled, the progress bar
      disappears; a message
      "GtDemo calculation finished OK" will appear in the status line of
      the GEM-Selektor
      window. Now you can proceed with
      analyzing,
      plotting and printing the results. <br>
    </p>
    <p>If you want also to plot
      experimental
      data, then this is the right time to type this data into the <a
        href="gm_gtdemo.html#xE"><span style="font-family: monospace;">xE</span></a>
      (abscissa)
      and <a href="gm_gtdemo.html#yE"><span style="font-family:
          monospace;">yE</span></a>
      (ordinate) array fields. If you cannot find them in the "Results"
      page, re-make the GtDemo Record and set their dimensions in the
      Wizard. <br>
    </p>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="GTDEMO_PLOT"></a>1.3. Plotting and Exporting Results</h3>
    <p>
      Click on the "Plot data..." toolbar button (or execute the
      "Record"
      "Plot" menu command) to display the Graph dialog with plotted
      results
      and empirical data points, if provided. <br>
    </p>
    <p>Now, the graph colors, lines,
      scales, symbols
      etc. can be customized (through the "Customize..." button) and
      later on
      saved
      in this GtDemo record. &nbsp;The plot names from the legend can be
      dragged
      and dropped on the plot lines in the graphic image by using the
      left
      mouse
      button. Note that if you close the graph dialog and open it again
      (or
      customize it), you will have to drag-and-drop the legend names
      again. <br>
    </p>
    <p>The picture can
      be saved into a file (png, jpeg or bitmap) by clicking a "Save
      Image..."
      button, or printed on a system printer ("Print..." button; may not
      work
      properly
      on some Linux printers). We recommend
      saving
      the plots into .png files. <br>
    </p>
    <p>
      The sampled data (with or without scripts or with/without
      empirical data)
      can
      also be printed into an ASCII file using the "Print" toolbar
      button on
      the "GtDemo" window and selecting an appropriate <a
        href="pe_script.html">printing script</a> from the appearing
      list. A useful alternative can be to use the right-click menu to
      select the whole table or only y0 column(s) in the 'Results' page,
      then copy it to clipboard, and paste to another program
      (spreadsheet or quality plotting program).&nbsp; </p>
    <p>
      The GtDemo data sampler can always be re-run after the <a
        href="gm_gtdemo.html#gExpr"><tt>gExpr</tt></a>
      sampling script has been modified or some sampled data records
      have been
      recalculated.
      Accordingly, the plot on the Graph dialog can be re-customized. </p>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h2><a name="GTDEMO_MWIZARD"></a>2.
      GtDemo Create/Remake Wizard</h2>
    <p>GtDemo is a tool for sampling numbers from GEMS database into
      tables for subsequent plotting or exporting them. This is done by
      selecting records, launching the GtDemo sampler, and applying the
      sampling script <a href="#gExpr">gExpr</a> to each record. <br>
    </p>
    <p>To create/modify a GtDemo record, turn GEM-Selektor into
      "Equilibria Calculation" mode, open a modeling project, and click
      on a "GtDemo" icon on the left side of the main frame window.
      This opens the GtDemo window. There, click on "Create ..." toolbar
      button or select a "Record" "Create" menu command. This opens a
      GtDemo record key form. Fill out necessary fields of the new <a
        href="gdb_rkey.html#DBM_GtDemo">GtDemo record
        key</a>.&nbsp;
      The record key dialog should look like this:</p>
    <br>
    <br>
    <img style=" width: 600px; height: 257px;"
      alt="GtDemoRecordKeyDialog1.png" src="GtDemoRecordKeyDialog1.png"><br>
    <br>
    <p>The first record key field (Name of the modeling project) is not
      editable. We recommend to enter a short name in the third field
      and a longer comment to it in the last field. There may be several
      variants (the fourth field) cloned from one GtDemo sampler, which
      differ in the selection of results to plot/export. <br>
    </p>
    <p>After you press "Ok", the <a href="#WZSTEP_1">GtDemo Wizard Step
        1</a> window appears.&nbsp; In some cases, after the wizard is
      finished, a record key selection dialog appears, for instance if
      the Process record type for data sampling has been selected. Mark
      there one appropriate record key and proceed with "Ok". Another
      selection dialog with SysEq record keys generated by the selected
      Process simulator will appear. Select all (or part) of those
      record keys and click "Ok" to proceed. For sampling records of
      other types (e.g. DComp, ...), just the latter selection list will
      appear; select records to be sampled, and click "Ok" to
      proceed.&nbsp; <br>
    </p>
    <p>Now, "Sampling" Page of the GtDemo&nbsp; window appears.
      Fill out or correct the <a href="gm_gtdemo.html#GDname"><tt>GDname</tt></a>
      and <a href="gm_gtdemo.html#GDcom"><tt>GDcom</tt></a>
      lines (if not done yet) and also type&nbsp; into <a
        href="gm_gtdemo.html#gX_Nam"><tt>gX_Nam</tt></a>
      and <a href="gm_gtdemo.html#gY_Nam"><tt>gY_Nam</tt></a> fields
      the
      names of abscissa
      and ordinate (for the plot legend), as well as the column (plot
      line)
      identifiers in the <a href="gm_gtdemo.html#gLnam"><tt>gLnam</tt></a>
      field. <br>
    </p>
    <p>If you
      want to plot experimental data then also type the identifier(s) in
      <a href="gm_gtdemo.html#gLnamE"><tt>gLnamE</tt></a>
      field, go to<tt> Page 3 </tt>of<tt> GtDemo </tt>window and type
      the
      data
      into <a href="gm_gtdemo.html#xE"><tt>xE</tt></a> vector
      (abscissa) and
      <a href="gm_gtdemo.html#yE"><tt>yE</tt></a>
      columns (ordinates); this typing can also be done later. Now, what
      remains is to check/edit the <a href="gm_gtdemo.html#gExpr"><tt>gExpr</tt></a>
      field the sampling script (if necessary)&nbsp; telling the program
      what data to&nbsp; sample, how
      to recalculate
      and put it into the <a href="gm_gtdemo.html#x0"><tt>x0</tt></a>
      vector
      (abscissa)
      and
      <a href="gm_gtdemo.html#y0"><tt>y0</tt></a> columns (ordinates) of
      the
      GtDemo sampler. <br>
    </p>
    <br>
    <p>
    </p>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="WZSTEP_1"></a>2.1.
      GtDemo Wizard Step 1 - GtDemo task configuration<br>
    </h3>
    <p>This wizard page contains brief instructions about the workflow
      on the left-hand side, and a "Select a record type" radio-button
      group box on the right-hand side. Select a desired record type and
      proceed by clicking "Next &gt;". </p>
    <p>Note that, for getting the correct operation of property-item
      selection lists in the next wizard page, the record of selected
      type must have been read right before this GtDemo sampler is
      created; if not, cancel this wizard, read the record, and
      create/clone the GtDemo again.</p>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="WZSTEP_2"></a>2.2.
      GtDemo Wizard Step 2 - Selection of items to sample / plot<br>
    </h3>
    In this wizard page, three areas appear: "Property", "Item
    Selection", and "Sampling Script". The latter may contain (already
    created) script that needs no modification, in which case this
    wizard page should be skipped by clicking "Next&gt;" or "&lt;Back"
    buttons. Otherwise, upon clicking on a chosen property and then on
    its items, the respective operators will appear as being added to
    the sampling script. By unselecting items, the respective operators
    will be removed. <br>
    <p>By default, selecting any item creates an assignment operator of
      the form <span style="font-family: Courier
        New,Courier,monospace;">y0[jR][i] =:
        &lt;Property&gt;[{&lt;Item&gt;}];</span>,&nbsp; where 'i' is the
      ordinate index, automatically incremented from 0. Choosing from
      'Scalars' property may add operators like <span
        style="font-family: Courier New,Courier,monospace;">y0[jR][i] =:
        &lt;Item&gt;;</span>&nbsp; or&nbsp; <span style="font-family:
        Courier New,Courier,monospace;">y0[jR][i] =: &lt;Item&gt;[jR];</span>,
      depending on the item selected.&nbsp;</p>
    <p>The very first operator in the auto-assembled sampling script
      will be&nbsp; <span style="font-family: Courier
        New,Courier,monospace;">x0[jR] =: jR;</span>, which copies the
      record list index jR into the 'abscissa' vector x0. However, any
      other property item can be set as abscissa instead, if it is
      right-clicked in the "Item Selection" list. This shows a small
      menu where "Abscissa" should be selected, which replaces the
      topmost operator by&nbsp; <span style="font-family: Courier
        New,Courier,monospace;">x0[jR] =: </span><span
        style="font-family: Courier New,Courier,monospace;">&lt;Property&gt;[{&lt;Item&gt;}];</span>&nbsp;

      or &nbsp;&nbsp; <span style="font-family: Courier
        New,Courier,monospace;">x0[jR] =: &lt;Item&gt;;</span>&nbsp;
      or&nbsp; <span style="font-family: Courier
        New,Courier,monospace;">x0[jR] =: &lt;Item&gt;[jR];</span>.</p>
    <p>"Calculator" is another option available through the right-click
      on an item. This opens the GEMS Data Object Cell Calculator
      dialog, where you can type a value of the second operand, select
      the operation, and click "Ok-Do it!". For example, choosing "cTC"
      item and typing an increment 273.15 with '+' (addition) operation
      will result in a script operator&nbsp; <span style="font-family:
        Courier New,Courier,monospace;">y0[jR][i] =: cTC+273.15;</span>
      .&nbsp; If, for "my" property, "SiO2@" item, you select on
      Calculator the "log" operation,&nbsp; the following script
      operator will be added:&nbsp; <span style="font-family: Courier
        New,Courier,monospace;">y0[jR][i] =: ( my[{SiO2@}] &gt; 0. ?
        lg(my[{SiO2@}]) : empty() );&nbsp;</span> In a situation when
      logarithm is taken from zero, this prevents the error by assigning
      the empty() value instead. <br>
    </p>
    If you click on a property in "Property" list, the respective
    tooltip is shown in the lower left part of the wizard page. For the
    "Scalars" property items, the tooltips can be obtained by hovering
    the cursor over the item name (without clicking it) for one or two
    seconds. Most of these properties and items are also accessible in
    GEM-Selektor module or submodule windows and pages. More information
    on them can be found using "Index" in the Help Window. <br>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="WZSTEP_3"></a>2.3.
      GtDemo Wizard Step 3 - Important data object dimensions<br>
    </h3>
    <p>Spin boxes below define the dynamic memory configuration of this
      GtDemo data sampler.</p>
    <p>Optional 'gd_wc' vector and 'gQp' table can be allocated to store
      intermediate values used in the 'gExpr' sampling script for the
      data recalculation.</p>
    <p>Optional 'xE', 'yE' arrays can be used to plot the experimental
      data over sampled values. </p>
    <p style="text-decoration: underline;">Dimensions of sampled,
      intermediate, and experimental data</p>
    <p>Number of columns in the 'y0' table (from 1 to 999) to keep the
      data sampled by the 'gExpr' math script. Number of rows in 'y0'
      table will correspond to the total number of sampled records.</p>
    <p style="margin-left: 40px;">Typically, this dimension is set
      automatically when the sampling script was created by the Process
      Wizard. However, the user may need to change this setting after
      editing the gExpr script (adding or removing operators).&nbsp; <br>
    </p>
    <p>Optional: number of cells in 'gd_wc' vector for intermediate
      data. Default: 0.</p>
    <p style="margin-left: 40px;">The sampling script, in principle, can
      be used for rather complex re-scaling or recalculation of the
      collected data. For convenience, this data object can be allocated
      for keeping intermediate data or constants that are valid for any
      sampled record. <br>
    </p>
    <p>Optional: Number of columns in 'gQp' table for intermediate data.
      Default: 0. Number of rows in 'gQp' table will correspond to the
      total number of sampled records.</p>
    <p style="margin-left: 40px;">Likewise, this data object can be used
      in 'gExpr' sampling script to keep intermediate values specific
      for each sampled record.&nbsp; <br>
    </p>
    <p>Optional: Number of rows in 'xE', 'yE' arrays. Default: 0 (not
      allocated).</p>
    <p style="margin-left: 40px;">If there is a need to plot some
      experimental data over the sampled curves, they can be entered
      later on into these arrays. This setting tells how many
      experimental points will be plotted (default: 0, not plotted). </p>
    <p>Optional: Number of columns in 'yE' array. Default: 1.</p>
    <span style="font-family: Helvetica,Arial,sans-serif;"></span>
    <p style="margin-left: 40px;">And this setting tells how many
      properties per experimental point will be entered and plotted.</p>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="WZSTEP_4"></a>2.4.
      GtDemo Wizard Step 4</h3>
    <p>Optional spinbox: </p>
    <p>Set here the number of links to SDref source data or bibliography
      records (default: 0)</p>
    <div style="margin-left: 40px;">
      <p>This option lets the user to allocate one or more links to
        SDref records (available or to be created in the modeling
        project database) with descriptions of sources of data or
        bibliographic references.</p>
    </div>
    <p>Optional single-line edit field (to be edited only if Process
      simulation results will be sampled): </p>
    <p>Process record key (template) can be edited here<br>
    </p>
    <p style="margin-left: 40px;">If you see a template like "*", the
      desired Process record can be selected from all Process records
      available in the modeling project. Otherwise, if you see a valid
      Process record key, it will remain operational (see also GDproc
      line on 'Controls' page of GtDemo window). To change this GtDemo
      sampler to a different Process record, edit this line by replacing
      the record key by a template "*". <br>
    </p>
    <p> More optional settings on this wizard page may be added in
      future versions. </p>
    <p> Below, the typical process simulation workflow is briefly
      described that occurs after the Process wizard is finished.
    </p>
    <p>1) If the above field contains a valid Process record key
      template, a list of available Process records will appear; there,
      select a desired one and click 'Ok'.</p>
    <p>(2) In an appearing list of record keys, choose records to be
      sampled, or 'Select all' to sample all. After that, the 'Sampling'
      Page of GtDemo window will appear.</p>
    <p>(3) Fill out 'GDname' and 'GDcom' comment lines; check/edit the
      'gExpr' script, if needed. Example scripts are available via
      'Help' 'View Scripts' menu command.</p>
    <p>(4) Switch to 'Results' page, and click on 'Re-calculate' toolbar
      button to start reading of records and data sampling. Check axis
      and plot names, and click on 'Plot data...' button to see the
      Graph dialog.</p>
    <p>(5) To plot experimental data over the sampled curves, close the
      Graph dialog; type or paste the data into arrays 'xE' and 'yE' on
      the 'Results' page; open the plot again and customize, if
      necessary.</p>
    <p>In case of error messages, stop calculation, fix the script, and
      try calculation again.</p>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h2><a name="GTDEMO_MWINDOW"></a>3.
      GtDemo Module Window</h2>
    <p>This window opens when the 'GtDemo' module is selected in the
      'Equilibria Calculation' mode of GEM-Selektor. The GtDemo window
      has three pages - 'Sampling', 'Results' and 'Config' - that
      provide access to all relevant data. </p>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="MWPAGE_1"></a>3.1.
      GtDemo Window 'Sampling' Page<br>
    </h3>
    <p>In the upper part, this page contains two comment lines ('<a
        href="#GDname">GDname</a>' and '<a href="#GDcom">GDcom</a>')
      that identify the sampling task. It is highly recommended to write
      these comments because the first one will be displayed on the
      plots in GraphDialog, and because these comments are helpful in
      remembering after a while what was the purpose of this GtDemo
      sampler. &nbsp;</p>
    <p>Below the comment lines, optional fields <a href="#GSDref">'GSDref</a>'
      and <a href="#GSDval">'GSDval'</a> can be visible with links to <a
        href="gm_sdref.html">SDref records</a> with bibliographic data
      source information e.g. for experimental data in xE, yE arrays. <br>
    </p>
    <p>Next, the '<a href="#gX_Nam">gX_Nam</a>' and '<a href="#gY_Nam">gY_Nam</a>'
      edit fields contain the abscissa and the ordinate names,
      respectively (will be shown on the graph). Edit them as desired.
      The '<a href="#gLnam">gLnam</a>' and '<a href="#gLnamE">gLnamE</a>'
      fields should contain the labels for ordinate curves and
      experimental data, respectively. <br>
    </p>
    <p>Below them, the '<a href="#gExpr">gExpr</a>' multi-line text
      editor field with the data sampling script is visible. This script
      is always present to tell the program which data objects to
      sample, re-calculate, and write the results into the '<a
        href="#x0">x0</a>' (abscissa) vector and '<a href="#y0">y0</a>'
      (ordinates) table (both accessible in the 'Results' page). The
      initial sampling scripts can be generated by the GtDemo Wizard and
      modified as needed in this page. <br>
    </p>
    <p>If experimental data arrays '<a href="#xE">xE</a>', '<a
        href="#yE">yE</a>' were allocated then another multi-line text
      editor field '<a href="#gExprE">gExprE</a>' is available in the
      lowermost part of this page. By default, the script in this field
      contains a single expression "next =: next;" (which actually does
      nothing). Optionally, the user can type here any operators that
      modify experimental data (for example, convert it into different
      units of measurement compatible with the results sampled by the
      'gExpr' script).</p>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="MWPAGE_2"></a>3.2. GtDemo
      Window 'Results' Page<br>
    </h3>
    <p>This page displays a table widget composed of the '<a href="#x0">x0</a>'
      (abscissa) vector - the first column - and the '<a href="#y0">y0</a>'
      (ordinates) data table - all columns to the right. In these
      arrays, the simulation results will be collected by the sampling
      script '<a href="#gExpr">gExpr</a>' (see the 'Sampling' page). The
      uppermost row '<a href="#gLnam">gLnam</a>' contains labels (names)
      for the abscissa axis and the ordinates, which can be edited at
      any time. These labels will be displayed in the plot on the Graph
      Dialog, invoked by clicking on the "Plot data..." upper toolbar
      button. The rightmost column of this table widget contains the '<a
        href="#GD_rkl">Gd_rkl</a>' list of sampled project database
      record keys for better identification of sampled data.<br>
    </p>
    <p>Using the righ-click menu, all or part of the table widget can be
      selected, copy-pasted to another (spreadsheet or text editor)
      program, or cleaned (i.e. filled with 'empty' values). <br>
    </p>
    <p>If allocated, the '<a href="#xE">xE</a>', '<a href="#yE">yE</a>'
      arrays for experimental data (to be plotted over the simulation
      results) will be visible below the large table widget. If
      necessary, enter or copy-paste the data into the 'xE', 'yE'
      fields. Upon execution, they will be re-calculated once by the '<a
        href="#gExprE">gExprE</a>' script, if provided in the 'Sampling'
      page. </p>
    <br>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="MWPAGE_3"></a>3.3. GtDemo
      Window 'Config' Page<br>
    </h3>
    <p>This page contains technical information used in the process
      simulator task, which can be useful for troubleshooting. It also
      contains a '<a href="#GD_rkl">Gd_rkl</a>' list of sampled project
      database record keys.&nbsp; <br>
    </p>
    <p>The current dimensionality of 'y0', 'x0', 'yE', 'xE' sampling and
      data arrays can be seen in the '<a href="#gDimXY">gDimXY</a>' and
      '<a href="#gDimEf">gDimEf</a>' cells. The arrays can be
      re-allocated in the GtDemo Wizard while remaking the GtDemo
      record.</p>
    <p>If optional work data arrays '<a href="#gd_wc">gd_wc</a>' and '<a
        href="#gQp">gQp</a>' were allocated, their contents will be
      accessible on this page. Their dimensions are seen in the 'GDnwcq'
      field.<br>
    </p>
    <br>
    <hr size="2" width="100%">
    <h2><a name="GTDEMO_DATA"></a>4. GtDemo Data Entries<br>
    </h2>
    <dl>
      <dt><a name="GDname"></a><big><b><big><tt>GDname</tt></big></b></big>
        -
        Comment line for the full name of this GtDemo sampler definition</dt>
      <dd>This string (up to 70 characters) should be entered by the
        user
        for identification of this GtDemo record, best during creation
        or
        remake. <br>
      </dd>
      <dd>It
        will appear on the plot and in the text printouts.&nbsp;</dd>
      <dd>&nbsp;&nbsp;</dd>
      <dt> <a name="GDcom"></a><big><b><big><tt>GDcom</tt></big></b></big>
        -&nbsp;Comment
        line for optional enhancement of the <span style="font-family:
          monospace;">GdName</span> line</dt>
      <dd>&nbsp; This string (up to 70 characters) can also be entered
        to enhance
        identification of the data sampler.&nbsp;</dd>
      <dd>&nbsp; &nbsp;<br>
      </dd>
      <dt> <a name="gX_Nam"></a><b><big><tt><big>gX_Nam</big> </tt></big></b>&nbsp;-
Abscissa
        name (for the graph), up to 8 characters</dt>
      <dd>Here, the user should type a short name for the abscissa axis
        that
        will be shown on the graph. <br>
      </dd>
      <dd>Typical examples: <span style="font-family: monospace;">"pH",
          "log M", "Mol.Fr.%"</span>.
        Ideally, the abscissa name should include units of measurement.</dd>
      <dd>&nbsp;&nbsp;&nbsp;</dd>
      <dt> <a name="gY_Nam"></a><big><b><big><tt>gY_Nam</tt></big></b></big>
        -&nbsp;Ordinate
        name (for the graph), up to 8 characters</dt>
      <dd>&nbsp;Here, the user should type a short name (up to 8
        characters) for
        the ordinate axis to be shown on the graph. <br>
      </dd>
      <dd>Typical examples: <span style="font-family: monospace;">"log
          M", "Molal", "log a"</span>. <br>
      </dd>
      <dd>Ideally, the ordinate name should define units of measurement
        because
        names of the plot lines can be given separately in the <a
          href="#gLnam"><span style="font-family: monospace;">gLnam</span></a>
        list.&nbsp;</dd>
      <dd>&nbsp;<br>
      </dd>
      <dt><a name="gLnam"></a><b><big><tt><big>gLnam</big>&nbsp;</tt></big></b>
        - List of names of columns in the <a href="#y0"><span
            style="font-family: monospace;">y0</span></a> array, up to 8
        characters</dt>
      <dd>Here, the user should enter names of columns (plot lines)
        corresponding to columns in the <a href="#y0"><span
            style="font-family: monospace;">y0</span></a>
        (sampled data) table. <br>
      </dd>
      <dd>They will be displayed on the graph legend
        together
        with coloured symbols and plot lines. <br>
      </dd>
      <dd>From there, you can drag-and-drop
        the names onto the graph field (see also the <a
          href="#GTDEMO_PLOT">"Plotting
          and exporting results" chapter</a>). <br>
      </dd>
      <dd>Number of elements in this list is
        defined
        in the <a href="#gDimXY"><tt>gDimXY<span style="font-family:
              monospace;">[1]</span></tt></a>
        counter.&nbsp;</dd>
      <dd>&nbsp;&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="gLnamE"></a><big><b><big><tt>gLnamE</tt></big></b>&nbsp;</big>-&nbsp;
List
        of names of columns in the <a href="#yE"><span
            style="font-family: monospace;">yE</span></a> array of
        empirical data</dt>
      <dd>Enter here the name(s) of column(s) in the <tt>yE</tt> array
        of
        empirical
        data. <br>
      </dd>
      <dd>Similar to names in the <tt>gLnam</tt> list, these will also
        be
        displayed
        on the graph legend. <br>
      </dd>
      <dd>Number of elements in this list is defined in the <a
          href="#gDimEf"><span style="font-family: monospace;">gDimEf[1]</span></a>
        counter.&nbsp;</dd>
      <dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="gExpr"></a><big><b><big><tt>gExpr</tt></big></b></big>&nbsp;
-
        Math script expressions for data sampling</dt>
      <dd>Equations in this <a href="g_mscript.html">math script</a>
        text
        provide you with power and flexibility in extracting any input
        or
        output numerical data and perform various calculations before
        plotting
        results or exporting them for use in other programs. <br>
      </dd>
      <dd>To facilitate
        writing of data sampling math scripts, a <a
          href="g_mscript.html#MS_LIBRARY">template library</a> is
        provided (see
        also <a href="#GTDEMO_SCRIPTS">"Writing process data sampling
          math
          scripts"</a> chapter).</dd>
      <dd>The minimum possible set of <span style="font-family:
          monospace;">&nbsp;gExpr</span>
        &nbsp;math script expressions for data sampling has the
        following form: </dd>
    </dl>
    <dl style="margin-left: 40px; font-family: Courier
      New,Courier,monospace;">
      <dd><samp>x0[jR] =: &lt;expression&gt;;</samp></dd>
      <dd><samp>y0[jR][0] =: &lt;expression&gt;;</samp></dd>
      <dd><samp>. . .</samp></dd>
      <dd><samp>y0[jR][n] =: &lt;expression&gt;;</samp></dd>
    </dl>
    <dl>
      <dd>Here, &nbsp;<span style="font-family: monospace;">n</span>
        stands
        for the last valid index of columns in the data sampling array <a
          href="#y0"><span style="font-family: monospace;">y0</span></a>;
        &nbsp;<span style="font-family: monospace;">&lt;expression&gt;</span>
        must contain
        some labels of data objects visible on the GEM-Selektor window
        pages. <br>
      </dd>
      <dd>Arbitrary
        expressions for intermediate calculations can also be specified;
        in
        this
        case, usage of the optional arrays <a href="#gd_wc"><tt>gd_wc</tt></a>
        and/or <a href="#gQp"><tt>gQp</tt></a> is recommended. &nbsp;</dd>
      <dd>Lists of (hidden) data objects that can be used in GtDemo math
        scripts
        are provided in a <a href="mscr_dod.html">separate file</a>.</dd>
      <dd>&nbsp;<br>
      </dd>
      <dt> <a name="gExprE"></a><big><b><big><tt>gExprE</tt></big></b>
        </big>-
        Math script expressions for empirical data (optional)</dt>
      <dd>This text edit field can be used to enter a script for
        generation of large arrays of
        empirical data xE, yE by specifying some functional equations as
        <a href="gmscript.html">math script</a> expressions. The script
        can
        have the following nested-loop structure: </dd>
    </dl>
    <blockquote style="font-family: Courier New,Courier,monospace;">
      <dl>
        <dd>jE=: 0; <br>
          do begin <br>
          iE =: 0; <br>
          do begin <br>
          xE[iE] =: &lt;expression&gt;; <br>
          ........ <br>
          yE[iE][jE] =: &lt;expression&gt;; <br>
          ........ <br>
          iE =: &lt;expression&gt;; <br>
          end <br>
          jE =: &lt;expression&gt;; <br>
          end </dd>
      </dl>
    </blockquote>
    <dl>
      <dd>Expressions in this text are executed only once before the
        sampling cycle begins. <br>
      </dd>
      <dd>Alternatively, this script can be aimed at converting the
        entered experimental data into units of measurement (or
        logarithmic scale, etc.) compatible with the data sampled by the
        gExpr script.&nbsp; <br>
      </dd>
      <dd>If the empirical data is just supposed to be entered by hand
        then this script should contain a "do nothing" operator like
        this:<br>
      </dd>
      <blockquote style="font-family: Courier New,Courier,monospace;"> <dd>next
          =: next; </dd>
      </blockquote>
      <dd>&nbsp; &nbsp; <br>
      </dd>
      <dt> <a name="x0"></a><big><b><big><tt>x0</tt></big></b></big>&nbsp;-&nbsp;
Vector-column
        of the abscissa x</dt>
      <dd> This vector-column (of dimension&nbsp;<a href="#gDimXY"><tt>gDimXY<span
              style="font-family: monospace;">[0]</span></tt></a> set
        automatically)
        will
        be used as an abscissa (x axis) for plotting the sampled data. <br>
      </dd>
      <dd>After sampling, the numbers can also be copy-pasted to another
        program using the right-click menu. <br>
      </dd>
      <dd>Contents
        of this vector must be filled out by the&nbsp; <a href="#gExpr"><span
            style="font-family: monospace;">gExpr</span></a> &nbsp;math
        script, to
        be
        executed during the GtDemo sampling run.&nbsp;</dd>
      <dd>&nbsp; &nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="y0"></a><big><b><big><tt>y0</tt></big></b></big>&nbsp;-
Data
table
        of the ordinate(s)&nbsp; y</dt>
      <dd> Each column of the <span style="font-family: monospace;">y0</span>
        sampled
        data table will be plotted as a separate curve. <br>
      </dd>
      <dd>After sampling, the numbers can also be copy-pasted to another
        program using the right-click menu. </dd>
      <dd>Number of columns
        in
        the <span style="font-family: monospace;">y0</span> table can
        be set
        in the <a href="#gDimXY"><span style="font-family: monospace;">gDimXY[1]</span></a>
        counter in the GtDemo wizard upon remake/create of the GtDemo
        record. <br>
      </dd>
      <dd>Number of rows is set
        automatically from <a href="#gDimXY"><span style="font-family:
            monospace;">gDimXY[0]</span></a> counter<span
          style="font-family: monospace;"></span>. &nbsp;</dd>
      <dd>&nbsp;&nbsp;&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="xE"></a><big><b><big><tt>xE</tt></big></b></big>&nbsp;-
Vector-column
of
        abscissa for empirical data&nbsp;</dt>
      <dd>In this vector-column, the user can enter empirical
        (experimental)
        data that will be used as an abscissa for plotting empirical
        (scattered)
        points on the graph. <br>
      </dd>
      <dd>The number of elements in the <span style="font-family:
          monospace;">xE</span> vector can be given in the <span
          style="font-family: monospace;"><a href="#gDimEf">gDimEf[0]</a>
        </span>counter
        on remake/create of the GtDemo record. </dd>
      <dd>&nbsp; &nbsp;&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="yE"></a><big><b><big><tt>yE</tt></big></b></big>&nbsp;-
Vector-column
(or
        table) of ordinate(s) for empirical data&nbsp;</dt>
      <dd>Here, the user can enter empirical (experimental) data to be
        used
        as ordinate(s) for plotting empirical (scattered) points on the
        graph. <br>
      </dd>
      <dd>The
        number of lines (ordinates) can be defined in the <a
          href="#gDimEf"><span style="font-family: monospace;">gDimEf[1]</span></a>
        counter and that
        of points - in the <a href="#gDimEf"><span style="font-family:
            monospace;">gDimEf[0]</span></a>
        counter in the GtDemo Wizard upon remake/create of the GtDemo
        record.</dd>
      <dd>Optionally, the data in this array can be generated using the
        math
        script
        provided in the <a href="#gExprE"><tt>gExprE</tt></a>
        field.&nbsp;</dd>
      <dd>&nbsp; &nbsp;&nbsp;</dd>
      <dt> <a name="gd_wc"></a><big><b><big><tt>gd_wc</tt></big></b></big>
        - Vector-row
        of work cells for GtDemo math scripts (optional)</dt>
      <dd>You can type some initial constants here or use the cells as
        work
        variables
        in the <a href="#gExpr"><tt>gExpr</tt></a> or <a
          href="#gExprE"><tt>gExprE</tt></a>
        math scripts.&nbsp;</dd>
      <dd>By default, this array is not allocated; it can always be
        allocated
        upon remake in the GtDemo Wizard by setting a positive number of
        cells (e.g. 10) in the <a href="#GDnwcq_0"><tt>GDnwcq[0]</tt></a>
        counter.</dd>
      <dd>&nbsp; &nbsp; <br>
      </dd>
      <dt> <a name="gQp"></a><big><b><big><tt>gQp</tt></big></b></big>
        -
        Table
        of work cells - a row per sampled record (optional)</dt>
      <dd>This optional array can be used in the <a href="#gExpr"><tt>gExpr</tt></a>
        or <a href="#gExprE"><tt>gExprE</tt></a> math scripts for
        storing
        intermediate
        data during execution of GtDemo sampler, e.g. as <tt>gQp[jR][0]
          =:
          &lt;expression&gt;;</tt>
        or <tt>y0[jR][1] =:&nbsp; gQp[jR][0] + gQp[jR][1];</tt>&nbsp;</dd>
      <dd>By default, this array is not allocated, but it can always be
        allocated
        upon remake in the GtDemo Wizard by setting a positive number of
        columns (e.g. 3) in the <a href="#GDnwcq_1"><tt>GDnwcq[1]</tt></a>
        counter. The number of rows
        will
        be automatically taken from the <a href="#gDimXY"><tt>gDimXY[0]</tt></a>
        counter.&nbsp;</dd>
      <dd><span style="color: rgb(204, 0, 0);">Attention:</span>
        Contents of <tt>gQp</tt> array will be lost after
        calculations
        because they are not saved in GtDemo records.</dd>
      <dd>&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="jR"></a><big><b><big><tt>jR</tt></big></b></big> -
        Index of
        currently sampled database record</dt>
      <dd>This index is automatically incremented from 0 to <a
          href="#gDimXY"><tt>gDimXY[0]</tt></a><tt>-1</tt> when database
        records
        are
        read and sampled consecutively according to the <a
          href="#GD_rkl"><tt>GD_rkl</tt></a>
        list.&nbsp;</dd>
      <dd>This index should always be used for correct assignments of
        data
        to
        demo arrays <tt><a href="#x0">x0</a>, <a href="#y0">y0</a></tt>
        in
        the <a href="#gExpr"><tt>gExpr</tt></a> math script. <br>
      </dd>
      <dd>It is not
        recommended to modify
        this index in the script operators because this may result in
        the program crash or unpredictable behavior.&nbsp;</dd>
      <dd>&nbsp;&nbsp;&nbsp; &nbsp; <br>
      </dd>
      <dt> <a name="next"></a><big><b><big><tt>next</tt></big></b></big>
        -
        A flag
        to continue (1) or finish (0) the data sampling steps</dt>
      <dd>This flag is automatically set to 1 at the start of the GtDemo
        sampling and to 0 when all records have been sampled, or a
        certain
        condition in the sampling script has been fulfilled.&nbsp;</dd>
      <dd>&nbsp; &nbsp;<br>
      </dd>
      <dt> <a name="GSDref"></a><big><b><big><tt>GSDref</tt></big></b></big>
        -&nbsp;List
        of SDref keys to data sources</dt>
      <dd>This list may contain one or more <a href="gm_sdref.html">SDref
record
          keys</a> (in packed format) referencing to bibliography or
        your
        comments
        to this data sampler definition (e.g. source of the experimental
        data).&nbsp;</dd>
      <dd>Allocated if the&nbsp; <span style="font-family: monospace;"><a
            href="#GDnlrk_2">GDnlrk[2]</a> </span>counter is set to a
        non-zero
        positive
        number in the GtDemo Wizard upon remake or create. &nbsp;</dd>
      <dd> &nbsp;</dd>
      <dt> <a name="GSDval"></a><big><b><big><tt>GSDval</tt></big></b></big>
        -
        List of short comments to SDref &nbsp;record keys in the <tt>GSDref</tt>
        list. </dt>
      <dd>&nbsp; This list of comments is allocated together with <tt>GSDref</tt>&nbsp;
if
        the <a href="#GDnlrk_2"><span style="font-family: monospace;">GDnlrk[2]</span></a>
        counter is set to a positive number.&nbsp;</dd>
      <dd> &nbsp;&nbsp;</dd>
      <dt> <a name="i0"></a><big><b><big><tt>i0</tt></big></b></big> -
        Internal
        column loop index for the use in <a href="#gExpr"><tt>gExpr</tt></a>
        math
        scripts</dt>
      <dd> &nbsp; This index can be used as a loop index in math
        scripts. Otherwise, it is not modified by the program.<br>
      </dd>
      <dd>&nbsp; &nbsp;&nbsp;</dd>
      <dt> <a name="iE"></a><big><b><big><tt>iE</tt></big></b></big> -
        Internal
        column loop index for the use in <a
          href="file:///C:/gems2html/program/doc/html/gm_gtdemo.html#gExpr"><tt>gExprE</tt></a>
        math scripts</dt>
      <dd>&nbsp; This index can be used as a loop index in math scripts.
        Otherwise, it is not modified by the program. </dd>
      <dd> &nbsp; &nbsp;&nbsp;</dd>
      <dt> <a name="j0"></a><big><b><big><tt>j0</tt></big></b></big>&nbsp;
-
Internal
        row loop index for the use in <a
          href="file:///C:/gems2html/program/doc/html/gm_gtdemo.html#gExpr"><tt>gExpr</tt></a>
        math scripts</dt>
      <dd>&nbsp; This index can be used as a loop index in math scripts.
        Otherwise, it is not modified by the program. </dd>
      <dd> &nbsp;&nbsp;</dd>
      <dt> <a name="jE"></a><big><b><big><tt>jE</tt></big></b></big> -
        Internal
        row loop index for the use in <a
          href="file:///C:/gems2html/program/doc/html/gm_gtdemo.html#gExpr"><tt>gExprE</tt></a>
        math scripts</dt>
      <dd>&nbsp; This index can be used as a loop index in math scripts.
        Otherwise, it is not modified by the program. </dd>
      <dd> &nbsp;<br>
      </dd>
    </dl>
    <hr style="width: 100%; height: 2px;">
    <h3><a name="GTDEMO_DATA_PROTECTED"></a>4.1. Data Objects Accessible
      through Create/Remake Wizard Only</h3>
    <br>
    <dl>
      <dt> <a name="GDps_0"></a><big><b><big><tt>GDps[0]</tt></big></b></big>
        - Flag for using the empirical data (create xE, yE arrays) { + -
        }</dt>
      <dd>This flag tells the GtDemo sampler to allocate the <a
          href="#xE"><tt>xE</tt></a>
        and <a href="#yE"><tt>yE</tt></a> data objects where the user
        can
        enter some
        experimental data to be displayed as scattered symbols on the
        graph.&nbsp;</dd>
      <dd>Possible values:&nbsp; '+' on ;&nbsp; '-' off (default).&nbsp;</dd>
      <dd><b>Attention!</b> This flag will be automatically switched on
        after
        the user has entered positive values into both <tt><a
            href="#gDimEf">gDimEf</a>[0]</tt>
        and <tt>gDimEf[1] </tt>fields; otherwise (i.e. if at least one
        of
        those fields
        contains 0), this flag will be switched off.&nbsp;</dd>
      <dd>&nbsp; &nbsp;</dd>
      <dt><a name="GDps_1"></a><big><b><big><tt>GDps[1]</tt></big></b></big>
        -
        Flag to sample data from IComp records {+ -}</dt>
      <dd>This flag tells the GtDemo sampler to collect data from IComp
        records
        listed in the <a href="#GD_rkl"><tt>GD_rkl</tt></a> list.</dd>
      <dd>Possible values:&nbsp; '+' on (default);&nbsp; '-' off.&nbsp;</dd>
      <dd>This one and the following 8 flags are usually set upon
        create/remake
        by choosing the record type to be sampled.&nbsp;</dd>
      <dd>&nbsp; &nbsp; <br>
      </dd>
      <dt> <a name="GDps_2"></a><big><b><big><tt>GDps[2]</tt></big></b></big>&nbsp;-
Flag
        to sample data from Compos records {+ -}</dt>
      <dd>This flag tells the GtDemo sampler to collect data from Compos
        records
        listed in the <a href="#GD_rkl"><tt>GD_rkl</tt></a> list.</dd>
      <dd>Possible values:&nbsp; '+' on&nbsp; '-' off (default). <br>
      </dd>
      <dd>&nbsp;<br>
      </dd>
      <dt> <a name="GDps_3"></a><big><b><big><tt>GDps[3]</tt></big></b></big>&nbsp;-
Flag
        to sample data from DComp records {+ -}</dt>
      <dd> This flag tells the GtDemo sampler to collect data from DComp
        records
        listed in the <a href="#GD_rkl"><tt>GD_rkl</tt></a> list.</dd>
      <dd>Possible values:&nbsp; '+' on&nbsp; '-' off (default). <br>
      </dd>
      <dd>&nbsp;&nbsp;&nbsp;</dd>
      <dt> <a name="GDps_4"></a><big><b><big><tt>GDps[4]</tt></big></b></big>
        - Flag to sample data from ReacDC records {+ -}</dt>
      <dd>This flag tells the GtDemo sampler to collect data from ReacDC
        records
        listed in the <a href="#GD_rkl"><tt>GD_rkl</tt></a> list.</dd>
      <dd>Possible values:&nbsp; '+' on&nbsp; '-' off (default). <br>
      </dd>
      <dd>&nbsp;<br>
      </dd>
      <dt> <b><big><tt><a name="GDps_5"></a><big>GDps[5]</big></tt></big></b>&nbsp;-
Flag
        to sample data from RtParam records {+ -}</dt>
      <dd> This flag tells the GtDemo sampler to collect data from
        RtParam
        records
        listed in the <a href="#GD_rkl"><tt>GD_rkl</tt></a> list.</dd>
      <dd>Possible values:&nbsp; '+' on&nbsp; '-' off (default). <br>
      </dd>
      <dd>&nbsp; <br>
      </dd>
      <dt> <a name="GDps_6"></a><big><b><big><tt>GDps[6]</tt></big></b></big>
        - Flag to sample data from Phase records {+ -}</dt>
      <dd> This flag tells the GtDemo sampler to collect data from Phase
        records
        listed in the <a href="#GD_rkl"><tt>GD_rkl</tt></a> list.</dd>
      <dd>Possible values:&nbsp; '+' on&nbsp; '-' off (default). <br>
      </dd>
      <dd>&nbsp; <br>
      </dd>
      <dt> <a name="GDps_7"></a><big><b><big><tt>GDps[7]</tt></big></b></big>&nbsp;-
Flag
        to sample data from SysEq records {+ -}</dt>
      <dd> This flag tells the GtDemo sampler to collect data from SysEq
        records
        listed in the <a href="#GD_rkl"><tt>GD_rkl</tt></a> list.</dd>
      <dd>Possible values:&nbsp; '+' on&nbsp; '-' off (default). <br>
      </dd>
      <dd>&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="GDps_8"></a><big><b><big><tt>GDps[8]</tt></big></b></big>
        - Flag to sample data from SysEq records generated by a Process
        simulator
        {+ -}</dt>
      <dd> This flag tells the GtDemo sampler to collect data from SysEq
        records
        generated by a selected Process simulator.&nbsp;</dd>
      <dd>Possible values:&nbsp; '+' on&nbsp; '-' off (default). If this
        flag is set on, the <a href="#GDps_7"><tt>GDps[7]</tt></a> flag
        will
        also
        be set on. <br>
      </dd>
      <dd>&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="GDps_9"></a><b><tt>GDps[9]</tt></b> -
        &nbsp;reserved
        for future
        versions</dt>
      <dd> UnSpace { + -)?</dd>
      <dd>&nbsp;&nbsp;</dd>
      <dt> <a name="GDps_10"></a><b><tt>GDps[10]</tt></b> - reserved
        for
        future
        versions</dt>
      <dd> DualTh { + -)?</dd>
      <dd>&nbsp;</dd>
      <dt> <a name="GDps_11"></a><b><tt>GDps[11]</tt></b> - reserved
        for future versions { +
        -)?</dt>
      <dd>&nbsp;GEM2MT</dd>
      <dd>&nbsp;<br>
      </dd>
      <dt> <a name="GDps_12"></a><b><tt>GDps[12]</tt></b> - reserved {
        +
        -)?</dt>
      <dd>&nbsp; <br>
      </dd>
      <dt> <a name="GDps_13"></a><b><tt>GDps[13]</tt></b> - reserved {
        +
        -)?</dt>
      <dd>&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="GDps_14"></a><b><tt>GDps[14]</tt></b> - reserved {
        +
        -)?</dt>
      <dd>&nbsp;&nbsp;</dd>
      <dt> <a name="GDps_15"></a><b><tt>GDps[15]</tt></b> - reserved {
        +
        -)?</dt>
      <dd>&nbsp;&nbsp;</dd>
      <dt> <a name="GDnlrk_0"></a><b><big><tt>GDnlrk[0]</tt></big></b>
        -
        Total
        number of database records to be sampled</dt>
      <dd>This counter also defines the number of rows in the <a
          href="#GD_rkl"><tt>GD_rkl</tt></a> list, as well as in <tt><a
            href="#x0">x0</a>, <a href="#y0">y0</a></tt> and <a
          href="#gQp"><tt>gQp</tt></a>
        arrays.&nbsp;</dd>
      <dd>It is set automatically after selection of database records
        &nbsp;from
        the list upon the remake/create wizard is finished. <br>
      </dd>
      <dd>&nbsp;&nbsp;</dd>
      <dt> <a name="GDnlrk_1"></a><b><big><tt>GDnlrk[1]</tt></big></b>
        -
        Database
        chain index</dt>
      <dd>This cell keeps the GEMS database record type from where the
        data
        will
        be sampled (integer values from 4 to 11). <br>
      </dd>
      <dd>&nbsp;&nbsp;&nbsp;&nbsp;</dd>
      <dt> <a name="GDnlrk_2"></a><b><big><tt>GDnlrk[2]</tt></big></b>
        -
        Number
        of rows in the <a href="#GSDref"><tt>GSDref</tt></a> and <a
          href="#GSDval"><tt>GSDval</tt></a> lists</dt>
      <dd>This counter defines how many data source references will be
        allocated.&nbsp; <br>
      </dd>
      <dd>Default is 0 (<tt>GSDref</tt> and <tt>GSDval</tt> lists will
        not
        be
        allocated and seen on Page 1 of the GtDemo window).&nbsp; <br>
      </dd>
      <dd>&nbsp; &nbsp;</dd>
      <dt> <a name="GDnlrk_3"></a><b><big><tt>GDnlrk[3]</tt></big></b>
        -
        &nbsp;Reserved</dt>
      <dd>&nbsp; <br>
      </dd>
      <dt> <a name="GDnwcq_0"></a><big><b><big><tt>GDnwcq[0]</tt></big></b></big>
        - Number of cells in the <tt>gd_wc</tt> work vector</dt>
      <dd>If the user has entered a positive integer value here, the <a
          href="#gd_wc"><tt>gd_wc</tt></a> array will be
        allocated.&nbsp;</dd>
      <dd>Default value: 0 (<tt>gd_wc</tt> array will not be allocated).
        <br>
      </dd>
      <dd>&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="GDnwcq_1"></a><big><b><big><tt>GDnwcq[1]</tt></big></b></big>
        - Number of columns in the gQp work array</dt>
      <dd>If the user has entered a positive integer value here, the <a
          href="#gQp"><tt>gQp</tt></a> array will be allocated.&nbsp;</dd>
      <dd>Default value: 0 (<tt>gQp</tt> array will not be allocated).</dd>
      <dd>&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="gDimXY"></a><big><big><b><tt>gDimXY</tt></b></big></big>
        -
        Dimensions of data sampler arrays<tt> x0, y0</tt>.&nbsp;</dt>
      <dd>The first cell <tt>gDimXY[0]</tt> contains number of rows N
        in <tt><a href="#x0">x0</a>, <a href="#y0">y0</a></tt>
        (automatically copied
        from <a href="#GDnlrk_0"><tt>GDnlrk[0]</tt></a> counter).</dd>
      <dd>The second cell <tt>gDimXY[1] </tt>contains number of
        columns M
        in
        the <tt>y0</tt> table. This value must be entered by the user
        during
        remake/create
        of the GtDemo record. Default value is 2; maximum number is 16.
        <br>
      </dd>
      <dd>There must be a strict consistency between the number of
        columns
        in the <tt>y0</tt> table and references to it in the <a
          href="#gExpr"><tt>gExpr</tt></a>
        math script operators, where the second index at <tt>y0</tt>
        must not
        exceed
        M-1 and be no less than 0, otherwise it may result in a memory
        corruption
        or a program crash.&nbsp;</dd>
      <dd>&nbsp;&nbsp;&nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="gDimEf"></a><b><big><tt><big>gDimEf</big> </tt></big></b>-
        Dimensions of arrays of empirical data <tt>xE, yE</tt></dt>
      <dd>The first cell <tt>gDimEf[0]</tt> contains number of rows N
        in <tt><a href="#xE">xE</a>, <a href="#yE">yE</a></tt>
        arrays.&nbsp;</dd>
      <dd>The second cell <tt>gDimEf[1] </tt>contains number of
        columns M
        in
        the <tt>yE</tt> array.&nbsp;</dd>
      <dd>Both values must be entered by the user during remake/create
        of
        the GtDemo record. Default values are 0. <br>
      </dd>
      <dd>The empirical data arrays <tt>xE,yE</tt>
        &nbsp;will be allocated only if both counters contain positive
        non-zero
        values. <br>
      </dd>
      <dd>&nbsp;&nbsp;<br>
      </dd>
      <dt> <a name="GDproc"></a><big><big><b><tt>GDproc</tt></b></big></big>
        - <a href="gm_proces.html">Process</a> record key (to sample <a
          href="gm_syseq.html">SysEq</a> records generated by this
        process
        simulator)</dt>
      <dd>This field contains a <a href="gdb_rkey.html#dbm_Process">Process
          record
          key</a> (in compact form) from where the list of generated
        SysEq
        records
        will be taken and a selection of records to sample will be made.
        The
        Process
        record key can be chosen from the list or entered in the GtDemo
        Wizard during
        create/remake.&nbsp;</dd>
      <dd><br>
      </dd>
      <dt> <a name="GD_rkl"></a><b><big><tt><big>GD_rkl</big> </tt></big></b>-
        List of record keys of database record to be sampled</dt>
      <dd>This list is used for loading database records for sampling
        data
        according
        to the <a href="#jR"><tt>jR</tt></a> index. The list can be
        modified
        only
        upon remake of the GtDemo sampler. Record keys in the list are
        kept in
        the
        compressed format. The database chain to read records from is
        defined
        by
        a database chain index in the <a href="#GDnlrk_1"><tt>GDnlrk[1]</tt></a>
        cell. &nbsp;</dd>
      <dd>When SysEq records are processed (chain index 10), each record
        will
        be expanded into full GEM IPM data structure (see<a
          href="gems_bcc.html">
          gems_bcc.html</a>, <a href="gems_ipm.html">gems_scm.html</a>,<a
          href="gems_ipm.html"> gems_ipm.html</a> and <a
          href="gems_sys.html">gems_sys.html</a>
        manuals). If necessary, thermodynamic data will be corrected for
        temperature
        and pressure automatically. <br>
      </dd>
    </dl>
    <h4>Internal, reserved and obsolete data objects</h4>
    <dl>
      <dt> <a name="GDaxis"></a><b><tt>GDaxis</tt></b> - Axis and grid
        type (from
        GraphDialog customization)</dt>
      <dd>&nbsp; &nbsp;&nbsp; <br>
      </dd>
      <dt> <a name="gdSize"></a><b><tt>gdSize</tt></b> - Graph axis
        intervals
        (from GraphDialog customization)</dt>
      <dd>&nbsp;&nbsp; This work matrix contains minimum and maximum
        values for x and y
        axii
        of the GtDemo graph, and also such values for the graph
        fragment. These
        values
        can be changed when the plot is customized and will be stored in
        the
        database together with other contents of GtDemo record.&nbsp;</dd>
      <dd>&nbsp;&nbsp;</dd>
      <dt> <b><tt><a name="GDwkey"></a>GDwkey</tt></b> &nbsp;- Key of
        the
        currently
        loaded and sampled database record (for debugging)</dt>
      <dd>&nbsp; <br>
      </dd>
      <dt> <a name="gwTxt"></a><b><tt>gwTxt</tt></b> - internal</dt>
      <dd>&nbsp; <br>
      </dd>
      <dt> <a name="gwTab"></a><b><tt>gwTab</tt></b> - internal</dt>
      <dd>&nbsp; &nbsp;<br>
      </dd>
      <dt> <a name="GDtprn"></a><b><tt>GDtprn</tt></b> - internal</dt>
      <dd>&nbsp; <br>
        &nbsp; &nbsp; </dd>
      <dt> <a name="GDwkb"></a><b><tt>GDwkb</tt></b> - SDref key with
        sample math
        scripts (obsolete)</dt>
      <dd><br>
      </dd>
    </dl>
    <hr size="2" width="100%">
    <h2><a name="GTDEMO_ERRORS"></a>3. Warnings and error messages</h2>
    <dl>
      <dt><b><big><tt>E01GDrem: </tt></big></b>No record keys
        selected...</dt>
      <dd>&nbsp;You did not select any database records to be sampled.
        Remake the GtDemo record again.&nbsp;</dd>
      <dd>&nbsp; <br>
      </dd>
      <dt><b><big><tt>E02GDrem: </tt></big></b>Wrong record type
        selected for sampling...<br>
      </dt>
      <dd>&nbsp;Internal error: Format of record keys do not match with
        the chain
        index.&nbsp;</dd>
      <dd>Please, send a bug report if this happens.</dd>
      <dd>&nbsp;&nbsp; <br>
      </dd>
      <dt><b><big><tt>E03GDrem: </tt></big></b>Attempt to access
        corrupted dynamic memory.</dt>
      <dd>&nbsp;Internal error (memory corruption).&nbsp;</dd>
      <dd>Please, send a bug report if this happens.</dd>
      <dd>&nbsp;</dd>
      <dt><b><big><tt>E04GDrem: </tt></big></b>IAttempt to access
        corrupted dynamic memory.</dt>
      <dd>&nbsp;Internal error (memory corruption).&nbsp;</dd>
      <dd>Please, send a bug report if this happens.</dd>
      <dd> <br>
      </dd>
      <dt><b><big><tt>E05GDrem: </tt></big></b>Attempt to access
        corrupted dynamic memory.</dt>
      <dd>&nbsp; Internal error (memory corruption).&nbsp;</dd>
      <dd>Please, send a bug report if this happens.</dd>
      <dd>&nbsp; <br>
      </dd>
      <dt><b><big><tt>E06GDrem: </tt></big></b>Attempt to access
        corrupted dynamic memory.</dt>
      <dd>&nbsp; Internal error (memory corruption).&nbsp;</dd>
      <dd>Please, send a bug report if this happens.</dd>
      <dd>&nbsp;<br>
      </dd>
      <dt><b><big><tt>E01GDexec: </tt></big></b>Inconsistent counters
        or flags</dt>
      <dd>&nbsp;Some counters or flags are found inconsistent after
        remake/create.&nbsp;&nbsp;</dd>
      <dd>Remake the record again and check the flags and counters
        carefully. <br>
      </dd>
      <dd>&nbsp;<br>
      </dd>
      <dt><b><big><tt>E02GDexec: </tt></big></b>Please, do it in the
        Equilibria Calculation mode. <br>
      </dt>
      <dd>This message &nbsp;may appear if you try sampling SysEq or
        Process
        records in "Thermodynamic Database" mode.</dd>
      <dd>Please, open your project and do GtDemo sampling from there
        because
        SysEq records cannot be expanded in "Thermodynamic Database"
        mode. <br>
      </dd>
      <dd><br>
      </dd>
      <dt><b><big><tt>E03GDexec: </tt></big></b>Invalid database record
        handle.</dt>
      <dd>&nbsp;Internal error (possibly, a project database file is
        corrupt).</dd>
      <dd>Try to restore your project database files from the backup. <br>
      </dd>
      <dd>If it
        does
        not help, please send a bug report. &nbsp;</dd>
      <dd>&nbsp;</dd>
      <dt><b><big><tt>E04GDexec: </tt></big></b>The x0, y0 arrays can
        only
        be
        updated after the Process simulator re-calculation</dt>
      <dd>&nbsp;This message may appear if a Process record is sampled
        with
        its
        SysEq records, but the process simulation was not actually
        finished. <br>
      </dd>
      <dd>Switch
        to the Process record and recalculate it.&nbsp;</dd>
      <dd>&nbsp; &nbsp; <br>
      </dd>
      <dt><b><big><tt>W09GDrem: </tt></big></b>No record keys matching
        a
        template! Repeat selection?</dt>
      <dd>On remake/create of this GtDemo record, the specified template
        does
        not match any of the available record keys.&nbsp;</dd>
      <dd>Try a general template (asterisks in all record key fields) to
        see
        all available records, or make sure that proper database files
        are
        linked
        in (do it in Database Mintenance mode).&nbsp;</dd>
      <dd>&nbsp;</dd>
      <dt><b><big><tt>E91MSTran: </tt></big></b>Error in analyzing the
        GtDemo sampling script</dt>
      <dd>There are syntax or pre-processing errors in the <a
          href="#gExpr"><tt>gExpr</tt></a> <a href="g_mscript.html">math
          script</a>. <br>
      </dd>
      <dd>The remaining (not
        yet processed)
        part of the script will be shown after the error message in
        order to
        help
        you localize the error. <br>
        To correct the script, press "Ok" to close the error message,
        examine
        the <a href="g_mscript.html">math script syntax</a> in the <a
          href="#gExpr"><span style="font-family: monospace;">gExpr</span></a>
        field, fix the error
        (or
        data object label, or phase/species name), save the GtDemo
        record to
        database
        and calculate the data sampler again.<br>
      </dd>
      <dd>&nbsp;</dd>
      <dt><b><big><tt>E92MSTran: </tt></big></b>Error in analyzing the
        GtDemo math
        script for empirical data:</dt>
      <dd>There are syntax errors in the <a href="#gExprE"><tt>gExprE</tt></a>
        <a href="gmscript.html">math script</a>.&nbsp;</dd>
      <dd>Click "Ok", edit the script to fix the problem, then save the
        record to
        database,
        and try again to re-calculate it.</dd>
    </dl>
    <br>
    <hr style="width: 100%; height: 2px;">Last modified 8.05.2012 DK<tt><br>
    </tt><tt><br>
      end of file</tt><br>
    <br>
    <br>
  </body>
</html>
